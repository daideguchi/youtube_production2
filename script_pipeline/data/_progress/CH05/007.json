{
  "script_id": "CH05-007",
  "channel": "CH05",
  "status": "script_validated",
  "stages": {
    "glm4_5_research": {
      "status": "completed",
      "updated_at": "2025-11-07T11:56:13.643862Z"
    },
    "script_outline": {
      "status": "completed",
      "updated_at": "2025-11-12T07:35:18.323871Z"
    },
    "script_draft": {
      "status": "completed",
      "updated_at": "2025-11-12T07:48:21.061434Z",
      "length_check_passed": true,
      "quality_validation_passed": true,
      "quality_validation": {
        "checked_at": "2025-11-12T07:48:21.070841Z",
        "passed": true,
        "issues": [],
        "warnings": [
          "chapter_1.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰",
          "chapter_2.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰",
          "chapter_3.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰",
          "chapter_4.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰",
          "chapter_5.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰",
          "chapter_6.md [structure] ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
        ],
        "chapters": [
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_1.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.069376Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 990,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 30,
                  "max_sentence_length": 79
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.28180862250262884,
                  "kanji_count": 268,
                  "total_characters": 951
                }
              }
            ]
          },
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_2.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.069697Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 882,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 21,
                  "max_sentence_length": 100
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.265717674970344,
                  "kanji_count": 224,
                  "total_characters": 843
                }
              }
            ]
          },
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_3.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.069902Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 905,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 21,
                  "max_sentence_length": 111
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.28635346756152125,
                  "kanji_count": 256,
                  "total_characters": 894
                }
              }
            ]
          },
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_4.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.070083Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 895,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 23,
                  "max_sentence_length": 109
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.27240566037735847,
                  "kanji_count": 231,
                  "total_characters": 848
                }
              }
            ]
          },
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_5.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.070327Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 1251,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 43,
                  "max_sentence_length": 87
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.27401837928153716,
                  "kanji_count": 328,
                  "total_characters": 1197
                }
              }
            ]
          },
          {
            "chapter": "script_pipeline/data/CH05/007/content/chapters/chapter_6.md",
            "passed": true,
            "validated_at": "2025-11-12T07:48:21.070515Z",
            "checks": [
              {
                "name": "length",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {
                  "current_length": 998,
                  "minimum_length": 640,
                  "expected_length": 800
                }
              },
              {
                "name": "placeholders",
                "passed": true,
                "severity": "error",
                "issues": [],
                "metrics": {}
              },
              {
                "name": "style_guide",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "sentence_count": 26,
                  "max_sentence_length": 91
                }
              },
              {
                "name": "structure",
                "passed": false,
                "severity": "warning",
                "issues": [
                  "ç®‡æ¡æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ï¼ˆè¦ç‚¹æ•´ç†ã‚’æ¨å¥¨ï¼‰"
                ],
                "metrics": {}
              },
              {
                "name": "readability",
                "passed": true,
                "severity": "warning",
                "issues": [],
                "metrics": {
                  "kanji_ratio": 0.2826747720364742,
                  "kanji_count": 279,
                  "total_characters": 987
                }
              }
            ]
          }
        ]
      }
    },
    "script_enhancement": {
      "status": "completed",
      "updated_at": "2025-11-12T08:13:49.517380Z"
    },
    "script_review": {
      "status": "completed",
      "updated_at": "2025-11-12T08:16:17.902298Z",
      "details": {
        "last_error": "ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã«å¤±æ•—ã—ã¾ã—ãŸ (exit_code=1): python3 core/tools/glm4_5_prompt_runner.py --template prompts/glm4_5_toolkit/intro_prompt.txt --output \"$DATA_DIR/content/intro.md\" --channel-code \"$CH\" --video-number \"$NO\""
      }
    },
    "glm4_5_quality_review": {
      "status": "completed",
      "updated_at": "2025-11-12T08:17:24.820003Z"
    },
    "script_validation": {
      "status": "completed",
      "updated_at": "2025-11-12T08:19:04.893334Z",
      "details": {
        "last_error": "ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã«å¤±æ•—ã—ã¾ã—ãŸ (exit_code=1): python3 core/tools/run_script_validation.py CH05 007 --auto-title"
      }
    },
    "script_polish_ai": {
      "status": "completed",
      "prompt_hash": "541946c134568c1c453430e34c0ade9634b307d4caa6ea4c5cf4e8746993f450",
      "fallback": "reuse_stage7_draft",
      "updated_at": "2025-11-12T08:20:52.212738Z",
      "details": {
        "fallback": "reuse_stage7_draft",
        "fallback_reason": "openrouter_client å‘¼ã³å‡ºã—ã«å¤±æ•—ã—ã¾ã—ãŸ: /Users/dd/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020\n  warnings.warn(\nâš ï¸ HTTP 429 - 1ç§’å¾Œã«ãƒªãƒˆãƒ©ã‚¤ (1/3)\nâš ï¸ HTTP 429 - 2ç§’å¾Œã«ãƒªãƒˆãƒ©ã‚¤ (2/3)\nâŒ ã‚¨ãƒ©ãƒ¼: âŒ OpenRouter APIãƒ¬ãƒ¼ãƒˆåˆ¶é™è¶…é\nç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶é™ã«é”ã—ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™\nè©³ç´°: {\"error\":{\"message\":\"Rate limit exceeded: free-models-per-min. \",\"code\":429,\"metadata\":{\"headers\":{\"X-RateLimit-Limit\":\"20\",\"X-RateLimit-Remaining\":\"0\",\"X-RateLimit-Reset\":\"1762935660000\"},\"provider_name\":null}},\"user_id\":\"user_2zOlu4h0qc2KMYb0QcWBb3d6nhj\"}",
        "log_base": "logs/llm_polish/CH05-007_20251112T082052"
      },
      "model": "qwen",
      "template": "prompts/llm_polish_template.txt"
    },
    "script_tts_prepare": {
      "status": "completed",
      "updated_at": "2025-11-12T08:21:21.676664Z"
    },
    "audio_synthesis": {
      "status": "pending"
    },
    "srt_generation": {
      "status": "pending"
    },
    "timeline_copy": {
      "status": "pending",
      "updated_at": "2025-11-13T11:48:17.863966Z"
    },
    "image_generation": {}
  },
  "created_at": "2025-10-27T11:44:13.288252Z",
  "updated_at": "2025-11-14T09:06:11.630452Z",
  "metadata": {
    "title": "ã€ãƒŸã‚¹ãƒ†ãƒªãƒ¼ã€‘å¤«ã®éºå“ã‹ã‚‰å‡ºã¦ããŸã€è¦‹çŸ¥ã‚‰ã¬å¥³æ€§ã¸ã®ãƒ©ãƒ–ãƒ¬ã‚¿ãƒ¼ã€‚ã€Œå«‰å¦¬ã€ã®äºŒæ–‡å­—ã‚’èƒ¸ã«ä¼šã„ã«è¡Œã£ãŸã‚‰ã€ãã®å¥³æ€§ã¯å¤«ãŒãšã£ã¨æ”¯æ´ã—ã¦ã„ãŸå­¤å…ã ã£ãŸã€‚",
    "title_sanitized": "ã€ãƒŸã‚¹ãƒ†ãƒªãƒ¼ã€‘å¤«ã®éºå“ã‹ã‚‰å‡ºã¦ããŸã€è¦‹çŸ¥ã‚‰ã¬å¥³æ€§ã¸ã®ãƒ©ãƒ–ãƒ¬ã‚¿ãƒ¼ã€‚ã€Œå«‰å¦¬ã€ã®äºŒæ–‡å­—ã‚’èƒ¸ã«ä¼šã„ã«è¡Œã£ãŸã‚‰ã€ãã®å¥³æ€§ã¯å¤«ãŒãšã£ã¨æ”¯æ´ã—ã¦ã„ãŸå­¤å…ã ã£ãŸã€‚",
    "title_updated_at": "2025-10-25T02:16:15.121603Z",
    "ready_for_audio": true,
    "audio": {},
    "channel_code": "CH05",
    "channel_display_name": "ä¼ç”»",
    "video_number": "007",
    "script_id": "CH05-007",
    "chapter_characters": 0,
    "assembled_characters": 0,
    "output_characters": 0,
    "ai_polish": {
      "model": "qwen",
      "template": "prompts/llm_polish_template.txt",
      "prompt_hash": "541946c134568c1c453430e34c0ade9634b307d4caa6ea4c5cf4e8746993f450",
      "updated_at": "2025-11-12T08:20:52.212713Z"
    },
    "ready_for_audio_at": "2025-11-12T08:21:21.677578Z",
    "sheet_flag": "",
    "sheet_progress_cell": "ğŸ•— timeline_copy: pending",
    "sheet_quality_cell": "æœªå®Œäº†",
    "sheet_row_number": 8,
    "sheet_title": "ã€ãƒŸã‚¹ãƒ†ãƒªãƒ¼ã€‘å¤«ã®éºå“ã‹ã‚‰å‡ºã¦ããŸã€è¦‹çŸ¥ã‚‰ã¬å¥³æ€§ã¸ã®ãƒ©ãƒ–ãƒ¬ã‚¿ãƒ¼ã€‚ã€Œå«‰å¦¬ã€ã®äºŒæ–‡å­—ã‚’èƒ¸ã«ä¼šã„ã«è¡Œã£ãŸã‚‰ã€ãã®å¥³æ€§ã¯å¤«ãŒãšã£ã¨æ”¯æ´ã—ã¦ã„ãŸå­¤å…ã ã£ãŸã€‚"
  },
  "channel_code": "CH05",
  "video_number": "007"
}