/*! For license information please see main.281eca7e.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),l=n(43),r=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(s(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),x=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case _:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case w:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case v:return"Portal";case x:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var O=Array.isArray,z=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},A=[],U=-1;function D(e){return{current:e}}function F(e){0>U||(e.current=A[U],A[U]=null,U--)}function B(e,t){U++,A[U]=e.current,e.current=t}var W,q,H=D(null),V=D(null),$=D(null),Q=D(null);function K(e,t){switch(B($,t),B(V,e),B(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=gd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),B(H,e)}function J(){F(H),F(V),F($)}function Y(e){null!==e.memoizedState&&B(Q,e);var t=H.current,n=bd(t,e.type);t!==n&&(B(V,e),B(H,n))}function G(e){V.current===e&&(F(H),F(V)),Q.current===e&&(F(Q),up._currentValue=I)}function X(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(l){var a=l}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(s){a=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),s=r[0],i=r[1];if(s&&i){var o=s.split("\n"),c=i.split("\n");for(l=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(a===o.length||l===c.length)for(a=o.length-1,l=c.length-1;1<=a&&0<=l&&o[a]!==c[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==c[l]){if(1!==a||1!==l)do{if(a--,0>--l||o[a]!==c[l]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=l);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,le=a.unstable_scheduleCallback,re=a.unstable_cancelCallback,se=a.unstable_shouldYield,ie=a.unstable_requestPaint,oe=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,ue=a.unstable_ImmediatePriority,de=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,he=a.unstable_LowPriority,me=a.unstable_IdlePriority,fe=a.log,ve=a.unstable_setDisableYieldValue,ge=null,be=null;function _e(e){if("function"===typeof fe&&ve(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/je|0)|0},xe=Math.log,je=Math.LN2;var ke=256,we=262144,Ne=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var l=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~r)?l=Se(a):0!==(s&=i)?l=Se(s):n||0!==(n=i&~e)&&(l=Se(n)):0!==(i=a&~r)?l=Se(i):0!==s?l=Se(s):n||0!==(n=a&~e)&&(l=Se(n)),0===l?0:0!==t&&t!==l&&0===(t&r)&&((r=l&-l)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:l}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ye(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ye(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ie(n))&(e.suspendedLanes|t))?0:n}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Sp(e.type)}function De(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Fe=Math.random().toString(36).slice(2),Be="__reactFiber$"+Fe,We="__reactProps$"+Fe,qe="__reactContainer$"+Fe,He="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,$e="__reactHandles$"+Fe,Qe="__reactResources$"+Fe,Ke="__reactMarker$"+Fe;function Je(e){delete e[Be],delete e[We],delete e[He],delete e[Ve],delete e[$e]}function Ye(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Id(e);null!==e;){if(n=e[Be])return n;e=Id(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Be]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function at(e,t){lt(e,t),lt(e+"Capture",t)}function lt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},it={};function ot(e,t,n){if(l=t,ae.call(it,l)||!ae.call(st,l)&&(rt.test(l)?it[l]=!0:(st[l]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var l}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var l=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function gt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,a,l,r,s,i){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,dt(t)):null!=n?yt(e,s,dt(n)):null!=a&&e.removeAttribute("value"),null==l&&null!=r&&(e.defaultChecked=!!r),null!=l&&(e.checked=l&&"function"!==typeof l&&"symbol"!==typeof l),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+dt(i):e.removeAttribute("name")}function _t(e,t,n,a,l,r,s,i){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:l)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ht(e)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(a&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function jt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(O(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),ht(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&St(e,l,a)}else for(var r in t)t.hasOwnProperty(r)&&St(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var Ot=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,It=null;function At(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[We]||null;if(!l)throw Error(s(90));bt(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&mt(a)}break e;case"textarea":jt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ut=!1;function Dt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Mt||null!==It)&&(Zc(),Mt&&(t=Mt,e=It,It=Mt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var a=n[We]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Bt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Gp){Wt=!1}var Ht=null,Vt=null,$t=null;function Qt(){if($t)return $t;var e,t,n=Vt,a=n.length,l="value"in Ht?Ht.value:Ht.textContent,r=l.length;for(e=0;e<a&&n[e]===l[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===l[r-t];t++);return $t=l.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Gt(e){function t(t,n,a,l,r){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(l):l[s]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Gt(tn),an=h({},tn,{view:0,detail:0}),ln=Gt(an),rn=h({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Gt(rn),on=Gt(h({},rn,{dataTransfer:0})),cn=Gt(h({},an,{relatedTarget:0})),un=Gt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Gt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Gt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return vn}var bn=Gt(h({},an,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Gt(h({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),xn=Gt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=Gt(h({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Gt(h({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],Nn=Bt&&"CompositionEvent"in window,Sn=null;Bt&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Bt&&"TextEvent"in window&&!Sn,En=Bt&&(!Nn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function In(e,t,n,a){Mt?It?It.push(a):It=[a]:Mt=a,0<(t=ad(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var An=null,Un=null;function Dn(e){Ju(e,0)}function Fn(e){if(mt(Xe(e)))return e}function Bn(e,t){if("change"===e)return t}var Wn=!1;if(Bt){var qn;if(Bt){var Hn="oninput"in document;if(!Hn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Hn="function"===typeof Vn.oninput}qn=Hn}else qn=!1;Wn=qn&&(!document.documentMode||9<document.documentMode)}function $n(){An&&(An.detachEvent("onpropertychange",Qn),Un=An=null)}function Qn(e){if("value"===e.propertyName&&Fn(Un)){var t=[];In(t,Un,e,zt(e)),Dt(Dn,t)}}function Kn(e,t,n){"focusin"===e?($n(),Un=n,(An=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&$n()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Un)}function Yn(e,t){if("click"===e)return Fn(t)}function Gn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!ae.call(t,l)||!Xn(e[l],t[l]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function la(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=Bt&&"documentMode"in document&&11>=document.documentMode,sa=null,ia=null,oa=null,ca=!1;function ua(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==sa||sa!==ft(a)||("selectionStart"in(a=sa)&&la(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},oa&&Zn(oa,a)||(oa=a,0<(a=ad(ia,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ha={},ma={};function fa(e){if(ha[e])return ha[e];if(!pa[e])return e;var t,n=pa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ma)return ha[e]=n[t];return e}Bt&&(ma=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var va=fa("animationend"),ga=fa("animationiteration"),ba=fa("animationstart"),_a=fa("transitionrun"),ya=fa("transitionstart"),xa=fa("transitioncancel"),ja=fa("transitionend"),ka=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){ka.set(e,t),at(t,[e])}wa.push("scrollEnd");var Sa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ca=[],Ea=0,Ta=0;function Pa(){for(var e=Ea,t=Ta=Ea=0;t<e;){var n=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var l=Ca[t];Ca[t++]=null;var r=Ca[t];if(Ca[t++]=null,null!==a&&null!==l){var s=a.pending;null===s?l.next=l:(l.next=s.next,s.next=l),a.pending=l}0!==r&&za(n,l,r)}}function Ra(e,t,n,a){Ca[Ea++]=e,Ca[Ea++]=t,Ca[Ea++]=n,Ca[Ea++]=a,Ta|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function La(e,t,n,a){return Ra(e,t,n,a),Ma(e)}function Oa(e,t){return Ra(e,null,null,t),Ma(e)}function za(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var l=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(l=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,l&&null!==t&&(l=31-ye(n),null===(a=(e=r.hiddenUpdates)[l])?e[l]=[t]:a.push(t),t.lane=536870912|n),r):null}function Ma(e){if(50<Hc)throw Hc=0,Vc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ia={};function Aa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,n,a){return new Aa(e,t,n,a)}function Da(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fa(e,t){var n=e.alternate;return null===n?((n=Ua(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ba(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wa(e,t,n,a,l,r){var i=0;if(a=e,"function"===typeof e)Da(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ua(31,n,t,l)).elementType=C,e.lanes=r,e;case g:return qa(n.children,l,r,t);case b:i=8,l|=24;break;case _:return(e=Ua(12,n,t,2|l)).elementType=_,e.lanes=r,e;case k:return(e=Ua(13,n,t,l)).elementType=k,e.lanes=r,e;case w:return(e=Ua(19,n,t,l)).elementType=w,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:i=10;break e;case y:i=9;break e;case j:i=11;break e;case N:i=14;break e;case S:i=16,a=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Ua(i,n,t,l)).elementType=e,t.type=a,t.lanes=r,t}function qa(e,t,n,a){return(e=Ua(7,e,a,t)).lanes=n,e}function Ha(e,t,n){return(e=Ua(6,e,null,t)).lanes=n,e}function Va(e){var t=Ua(18,null,null,0);return t.stateNode=e,t}function $a(e,t,n){return(t=Ua(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qa=new WeakMap;function Ka(e,t){if("object"===typeof e&&null!==e){var n=Qa.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qa.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Ja=[],Ya=0,Ga=null,Xa=0,Za=[],el=0,tl=null,nl=1,al="";function ll(e,t){Ja[Ya++]=Xa,Ja[Ya++]=Ga,Ga=e,Xa=t}function rl(e,t,n){Za[el++]=nl,Za[el++]=al,Za[el++]=tl,tl=e;var a=nl;e=al;var l=32-ye(a)-1;a&=~(1<<l),n+=1;var r=32-ye(t)+l;if(30<r){var s=l-l%5;r=(a&(1<<s)-1).toString(32),a>>=s,l-=s,nl=1<<32-ye(t)+l|n<<l|a,al=r+e}else nl=1<<r|n<<l|a,al=e}function sl(e){null!==e.return&&(ll(e,1),rl(e,1,0))}function il(e){for(;e===Ga;)Ga=Ja[--Ya],Ja[Ya]=null,Xa=Ja[--Ya],Ja[Ya]=null;for(;e===tl;)tl=Za[--el],Za[el]=null,al=Za[--el],Za[el]=null,nl=Za[--el],Za[el]=null}function ol(e,t){Za[el++]=nl,Za[el++]=al,Za[el++]=tl,nl=t.id,al=t.overflow,tl=e}var cl=null,ul=null,dl=!1,pl=null,hl=!1,ml=Error(s(519));function fl(e){throw xl(Ka(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ml}function vl(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Be]=e,t[We]=a,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Yu(Qu[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),_t(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),kt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||cd(t.textContent,n)?(null!=a.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=a.onScroll&&Yu("scroll",t),null!=a.onScrollEnd&&Yu("scrollend",t),null!=a.onClick&&(t.onclick=Lt),t=!0):t=!1,t||fl(e,!0)}function gl(e){for(cl=e.return;cl;)switch(cl.tag){case 5:case 31:case 13:return void(hl=!1);case 27:case 3:return void(hl=!0);default:cl=cl.return}}function bl(e){if(e!==cl)return!1;if(!dl)return gl(e),dl=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&ul&&fl(e),gl(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ul=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ul=Md(e)}else 27===n?(n=ul,Sd(e.type)?(e=zd,zd=null,ul=e):ul=n):ul=cl?Od(e.stateNode.nextSibling):null;return!0}function _l(){ul=cl=null,dl=!1}function yl(){var e=pl;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),pl=null),e}function xl(e){null===pl?pl=[e]:pl.push(e)}var jl=D(null),kl=null,wl=null;function Nl(e,t,n){B(jl,t._currentValue),t._currentValue=n}function Sl(e){e._currentValue=jl.current,F(jl)}function Cl(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function El(e,t,n,a){var l=e.child;for(null!==l&&(l.return=e);null!==l;){var r=l.dependencies;if(null!==r){var i=l.child;r=r.firstContext;e:for(;null!==r;){var o=r;r=l;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=n,null!==(o=r.alternate)&&(o.lanes|=n),Cl(r.return,n,e),a||(i=null);break e}r=o.next}}else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(r=i.alternate)&&(r.lanes|=n),Cl(i,n,e),i=null}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===e){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}}function Tl(e,t,n,a){e=null;for(var l=t,r=!1;null!==l;){if(!r)if(0!==(524288&l.flags))r=!0;else if(0!==(262144&l.flags))break;if(10===l.tag){var i=l.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var o=l.type;Xn(l.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(l===Q.current){if(null===(i=l.alternate))throw Error(s(387));i.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(null!==e?e.push(up):e=[up])}l=l.return}null!==e&&El(t,e,n,a),t.flags|=262144}function Pl(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rl(e){kl=e,wl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ll(e){return zl(kl,e)}function Ol(e,t){return null===kl&&Rl(e),zl(e,t)}function zl(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wl){if(null===e)throw Error(s(308));wl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wl=wl.next=t;return n}var Ml="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Il=a.unstable_scheduleCallback,Al=a.unstable_NormalPriority,Ul={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dl(){return{controller:new Ml,data:new Map,refCount:0}}function Fl(e){e.refCount--,0===e.refCount&&Il(Al,function(){e.controller.abort()})}var Bl=null,Wl=0,ql=0,Hl=null;function Vl(){if(0===--Wl&&null!==Bl){null!==Hl&&(Hl.status="fulfilled");var e=Bl;Bl=null,ql=0,Hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $l=z.S;z.S=function(e,t){Oc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bl){var n=Bl=[];Wl=0,ql=Wu(),Hl={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wl++,t.then(Vl,Vl)}(0,t),null!==$l&&$l(e,t)};var Ql=D(null);function Kl(){var e=Ql.current;return null!==e?e:mc.pooledCache}function Jl(e,t){B(Ql,null===t?Ql.current:t.pool)}function Yl(){var e=Kl();return null===e?null:{parent:Ul._currentValue,pool:e}}var Gl=Error(s(460)),Xl=Error(s(474)),Zl=Error(s(542)),er={then:function(){}};function tr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Lt,Lt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sr(e=t.reason),e}throw lr=t,Gl}}function ar(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw lr=t,Gl;throw t}}var lr=null;function rr(){if(null===lr)throw Error(s(459));var e=lr;return lr=null,e}function sr(e){if(e===Gl||e===Zl)throw Error(s(483))}var ir=null,or=0;function cr(e){var t=or;return or+=1,null===ir&&(ir=[]),nr(ir,e,t)}function ur(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function dr(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pr(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function l(e,t){return(e=Fa(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ha(n,e.mode,a)).return=e,t):((t=l(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===S&&ar(r)===t.type)?(ur(t=l(t,n.props),n),t.return=e,t):(ur(t=Wa(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$a(n,e.mode,a)).return=e,t):((t=l(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=qa(n,e.mode,a,r)).return=e,t):((t=l(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ha(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ur(n=Wa(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case v:return(t=$a(t,e.mode,n)).return=e,t;case S:return p(e,t=ar(t),n)}if(O(t)||P(t))return(t=qa(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,cr(t),n);if(t.$$typeof===x)return p(e,Ol(e,t),n);dr(e,t)}return null}function h(e,t,n,a){var l=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==l?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===l?c(e,t,n,a):null;case v:return n.key===l?u(e,t,n,a):null;case S:return h(e,t,n=ar(n),a)}if(O(n)||P(n))return null!==l?null:d(e,t,n,a,null);if("function"===typeof n.then)return h(e,t,cr(n),a);if(n.$$typeof===x)return h(e,t,Ol(e,n),a);dr(e,n)}return null}function m(e,t,n,a,l){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(n)||null,""+a,l);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,l);case v:return u(t,e=e.get(null===a.key?n:a.key)||null,a,l);case S:return m(e,t,n,a=ar(a),l)}if(O(a)||P(a))return d(t,e=e.get(n)||null,a,l,null);if("function"===typeof a.then)return m(e,t,n,cr(a),l);if(a.$$typeof===x)return m(e,t,n,Ol(t,a),l);dr(t,a)}return null}function b(o,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(o,c.sibling),(d=l(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===S&&ar(_)===c.type){n(o,c.sibling),ur(d=l(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===g?((d=qa(u.props.children,o.mode,d,u.key)).return=o,o=d):(ur(d=Wa(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return i(o);case v:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=l(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=$a(u,o.mode,d)).return=o,o=d}return i(o);case S:return b(o,c,u=ar(u),d)}if(O(u))return function(l,s,i,o){for(var c=null,u=null,d=s,f=s=0,v=null;null!==d&&f<i.length;f++){d.index>f?(v=d,d=null):v=d.sibling;var g=h(l,d,i[f],o);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(l,d),s=r(g,s,f),null===u?c=g:u.sibling=g,u=g,d=v}if(f===i.length)return n(l,d),dl&&ll(l,f),c;if(null===d){for(;f<i.length;f++)null!==(d=p(l,i[f],o))&&(s=r(d,s,f),null===u?c=d:u.sibling=d,u=d);return dl&&ll(l,f),c}for(d=a(d);f<i.length;f++)null!==(v=m(d,l,f,i[f],o))&&(e&&null!==v.alternate&&d.delete(null===v.key?f:v.key),s=r(v,s,f),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(l,e)}),dl&&ll(l,f),c}(o,c,u,d);if(P(u)){if("function"!==typeof(_=P(u)))throw Error(s(150));return function(l,i,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,f=i,v=i=0,g=null,b=o.next();null!==f&&!b.done;v++,b=o.next()){f.index>v?(g=f,f=null):g=f.sibling;var _=h(l,f,b.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(l,f),i=r(_,i,v),null===d?u=_:d.sibling=_,d=_,f=g}if(b.done)return n(l,f),dl&&ll(l,v),u;if(null===f){for(;!b.done;v++,b=o.next())null!==(b=p(l,b.value,c))&&(i=r(b,i,v),null===d?u=b:d.sibling=b,d=b);return dl&&ll(l,v),u}for(f=a(f);!b.done;v++,b=o.next())null!==(b=m(f,l,v,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?v:b.key),i=r(b,i,v),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(l,e)}),dl&&ll(l,v),u}(o,c,u=_.call(u),d)}if("function"===typeof u.then)return b(o,c,cr(u),d);if(u.$$typeof===x)return b(o,c,Ol(o,u),d);dr(o,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=l(c,u)).return=o,o=d):(n(o,c),(d=Ha(u,o.mode,d)).return=o,o=d),i(o)):n(o,c)}return function(e,t,n,a){try{or=0;var l=b(e,t,n,a);return ir=null,l}catch(s){if(s===Gl||s===Zl)throw s;var r=Ua(29,s,null,e.mode);return r.lanes=a,r.return=e,r}}}var hr=pr(!0),mr=pr(!1),fr=!1;function vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&hc)){var l=a.pending;return null===l?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Ma(e),za(e,null,n),t}return Ra(e,a,t,n),Ma(e)}function yr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}function xr(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var l=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?l=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?l=r=t:r=r.next=t}else l=r=t;return n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jr=!1;function kr(){if(jr){if(null!==Hl)throw Hl}}function wr(e,t,n,a){jr=!1;var l=e.updateQueue;fr=!1;var r=l.firstBaseUpdate,s=l.lastBaseUpdate,i=l.shared.pending;if(null!==i){l.shared.pending=null;var o=i,c=o.next;o.next=null,null===s?r=c:s.next=c,s=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==r){var d=l.baseState;for(s=0,u=c=o=null,i=r;;){var p=-536870913&i.lane,m=p!==i.lane;if(m?(vc&p)===p:(a&p)===p){0!==p&&p===ql&&(jr=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,v=i;p=t;var g=n;switch(v.tag){case 1:if("function"===typeof(f=v.payload)){d=f.call(g,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=v.payload)?f.call(g,d,p):f)||void 0===p)break e;d=h({},d,p);break e;case 2:fr=!0}}null!==(p=i.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=l.callbacks)?l.callbacks=[p]:m.push(p))}else m={lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=m,o=d):u=u.next=m,s|=p;if(null===(i=i.next)){if(null===(i=l.shared.pending))break;i=(m=i).next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}null===u&&(o=d),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=u,null===r&&(l.shared.lanes=0),wc|=s,e.lanes=s,e.memoizedState=d}}function Nr(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Sr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Nr(n[e],t)}var Cr=D(null),Er=D(0);function Tr(e,t){B(Er,e=jc),B(Cr,t),jc=e|t.baseLanes}function Pr(){B(Er,jc),B(Cr,Cr.current)}function Rr(){jc=Er.current,F(Cr),F(Er)}var Lr=D(null),Or=null;function zr(e){var t=e.alternate;B(Dr,1&Dr.current),B(Lr,e),null===Or&&(null===t||null!==Cr.current||null!==t.memoizedState)&&(Or=e)}function Mr(e){B(Dr,Dr.current),B(Lr,e),null===Or&&(Or=e)}function Ir(e){22===e.tag?(B(Dr,Dr.current),B(Lr,e),null===Or&&(Or=e)):Ar()}function Ar(){B(Dr,Dr.current),B(Lr,Lr.current)}function Ur(e){F(Lr),Or===e&&(Or=null),F(Dr)}var Dr=D(0);function Fr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rd(n)||Ld(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Br=0,Wr=null,qr=null,Hr=null,Vr=!1,$r=!1,Qr=!1,Kr=0,Jr=0,Yr=null,Gr=0;function Xr(){throw Error(s(321))}function Zr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function es(e,t,n,a,l,r){return Br=r,Wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?fi:vi,Qr=!1,r=n(a,l),Qr=!1,$r&&(r=ns(t,n,a,l)),ts(e),r}function ts(e){z.H=mi;var t=null!==qr&&null!==qr.next;if(Br=0,Hr=qr=Wr=null,Vr=!1,Jr=0,Yr=null,t)throw Error(s(300));null===e||Li||null!==(e=e.dependencies)&&Pl(e)&&(Li=!0)}function ns(e,t,n,a){Wr=e;var l=0;do{if($r&&(Yr=null),Jr=0,$r=!1,25<=l)throw Error(s(301));if(l+=1,Hr=qr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}z.H=gi,r=t(n,a)}while($r);return r}function as(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?cs(t):t,e=e.useState()[0],(null!==qr?qr.memoizedState:null)!==e&&(Wr.flags|=1024),t}function ls(){var e=0!==Kr;return Kr=0,e}function rs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ss(e){if(Vr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vr=!1}Br=0,Hr=qr=Wr=null,$r=!1,Jr=Kr=0,Yr=null}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hr?Wr.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function os(){if(null===qr){var e=Wr.alternate;e=null!==e?e.memoizedState:null}else e=qr.next;var t=null===Hr?Wr.memoizedState:Hr.next;if(null!==t)Hr=t,qr=e;else{if(null===e){if(null===Wr.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(qr=e).memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},null===Hr?Wr.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function cs(e){var t=Jr;return Jr+=1,null===Yr&&(Yr=[]),e=nr(Yr,e,t),t=Wr,null===(null===Hr?t.memoizedState:Hr.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?fi:vi),e}function us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cs(e);if(e.$$typeof===x)return Ll(e)}throw Error(s(438,String(e)))}function ds(e){var t=null,n=Wr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Wr.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function hs(e){return ms(os(),qr,e)}function ms(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var l=e.baseQueue,r=a.pending;if(null!==r){if(null!==l){var i=l.next;l.next=r.next,r.next=i}t.baseQueue=l=r,a.pending=null}if(r=e.baseState,null===l)e.memoizedState=r;else{var o=i=null,c=null,u=t=l.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(vc&p)===p:(Br&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===ql&&(d=!0);else{if((Br&h)===h){u=u.next,h===ql&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=p,i=r):c=c.next=p,Wr.lanes|=h,wc|=h}p=u.action,Qr&&n(r,p),r=u.hasEagerState?u.eagerState:n(r,p)}else h={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,i=r):c=c.next=h,Wr.lanes|=p,wc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?i=r:c.next=o,!Xn(r,e.memoizedState)&&(Li=!0,d&&null!==(n=Hl)))throw n;e.memoizedState=r,e.baseState=i,e.baseQueue=c,a.lastRenderedState=r}return null===l&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fs(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,r=t.memoizedState;if(null!==l){n.pending=null;var i=l=l.next;do{r=e(r,i.action),i=i.next}while(i!==l);Xn(r,t.memoizedState)||(Li=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function vs(e,t,n){var a=Wr,l=os(),r=dl;if(r){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Xn((qr||l).memoizedState,n);if(i&&(l.memoizedState=n,Li=!0),l=l.queue,Bs(_s.bind(null,a,l,e),[e]),l.getSnapshot!==t||i||null!==Hr&&1&Hr.memoizedState.tag){if(a.flags|=2048,Is(9,{destroy:void 0},bs.bind(null,a,l,n,t),null),null===mc)throw Error(s(349));r||0!==(127&Br)||gs(a,t,n)}return n}function gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,a){t.value=n,t.getSnapshot=a,ys(t)&&xs(e)}function _s(e,t,n){return n(function(){ys(t)&&xs(e)})}function ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(a){return!0}}function xs(e){var t=Oa(e,2);null!==t&&Kc(t,e,2)}function js(e){var t=is();if("function"===typeof e){var n=e;if(e=n(),Qr){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function ks(e,t,n,a){return e.baseState=n,ms(e,qr,"function"===typeof a?a:ps)}function ws(e,t,n,a,l){if(di(e))throw Error(s(485));if(null!==(e=t.action)){var r={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==z.T?n(!0):r.isTransition=!1,a(r),null===(n=t.pending)?(r.next=t.pending=r,Ns(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Ns(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var r=z.T,s={};z.T=s;try{var i=n(l,a),o=z.S;null!==o&&o(s,i),Ss(e,t,i)}catch(c){Es(e,t,c)}finally{null!==r&&null!==s.types&&(r.types=s.types),z.T=r}}else try{Ss(e,t,r=n(l,a))}catch(u){Es(e,t,u)}}function Ss(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Cs(e,t,n)},function(n){return Es(e,t,n)}):Cs(e,t,n)}function Cs(e,t,n){t.status="fulfilled",t.value=n,Ts(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ns(e,n)))}function Es(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Ts(t),t=t.next}while(t!==a)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ps(e,t){return t}function Rs(e,t){if(dl){var n=mc.formState;if(null!==n){e:{var a=Wr;if(dl){if(ul){t:{for(var l=ul,r=hl;8!==l.nodeType;){if(!r){l=null;break t}if(null===(l=Od(l.nextSibling))){l=null;break t}}l="F!"===(r=l.data)||"F"===r?l:null}if(l){ul=Od(l.nextSibling),a="F!"===l.data;break e}}fl(a)}a=!1}a&&(t=n[0])}}return(n=is()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},n.queue=a,n=oi.bind(null,Wr,a),a.dispatch=n,a=js(!1),r=ui.bind(null,Wr,!1,a.queue),l={state:t,dispatch:null,action:e,pending:null},(a=is()).queue=l,n=ws.bind(null,Wr,l,r,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function Ls(e){return Os(os(),qr,e)}function Os(e,t,n){if(t=ms(e,t,Ps)[0],e=hs(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cs(t)}catch(s){if(s===Gl)throw Zl;throw s}else a=t;var l=(t=os()).queue,r=l.dispatch;return n!==t.memoizedState&&(Wr.flags|=2048,Is(9,{destroy:void 0},zs.bind(null,l,n),null)),[a,r,e]}function zs(e,t){e.action=t}function Ms(e){var t=os(),n=qr;if(null!==n)return Os(t,n,e);os(),t=t.memoizedState;var a=(n=os()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Is(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Wr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function As(){return os().memoizedState}function Us(e,t,n,a){var l=is();Wr.flags|=e,l.memoizedState=Is(1|t,{destroy:void 0},n,void 0===a?null:a)}function Ds(e,t,n,a){var l=os();a=void 0===a?null:a;var r=l.memoizedState.inst;null!==qr&&null!==a&&Zr(a,qr.memoizedState.deps)?l.memoizedState=Is(t,r,n,a):(Wr.flags|=e,l.memoizedState=Is(1|t,r,n,a))}function Fs(e,t){Us(8390656,8,e,t)}function Bs(e,t){Ds(2048,8,e,t)}function Ws(e){var t=os().memoizedState;return function(e){Wr.flags|=4;var t=Wr.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wr.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function qs(e,t){return Ds(4,2,e,t)}function Hs(e,t){return Ds(4,4,e,t)}function Vs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $s(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Vs.bind(null,t,e),n)}function Qs(){}function Ks(e,t){var n=os();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Zr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=os();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Zr(t,a[1]))return a[0];if(a=e(),Qr){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[a,t],a}function Ys(e,t,n){return void 0===n||0!==(1073741824&Br)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Wr.lanes|=e,wc|=e,n)}function Gs(e,t,n,a){return Xn(n,t)?n:null!==Cr.current?(e=Ys(e,n,a),Xn(e,t)||(Li=!0),e):0===(42&Br)||0!==(1073741824&Br)&&0===(261930&vc)?(Li=!0,e.memoizedState=n):(e=Qc(),Wr.lanes|=e,wc|=e,t)}function Xs(e,t,n,a,l){var r=M.p;M.p=0!==r&&8>r?r:8;var s=z.T,i={};z.T=i,ui(e,!1,t,n);try{var o=l(),c=z.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)ci(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(o,a),$c());else ci(e,t,a,$c())}catch(u){ci(e,t,{then:function(){},status:"rejected",reason:u},$c())}finally{M.p=r,null!==s&&null!==i.types&&(s.types=i.types),z.T=s}}function Zs(){}function ei(e,t,n,a){if(5!==e.tag)throw Error(s(476));var l=ti(e).queue;Xs(e,l,t,I,null===n?Zs:function(){return ni(e),n(a)})}function ti(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ni(e){var t=ti(e);null===t.next&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},$c())}function ai(){return Ll(up)}function li(){return os().memoizedState}function ri(){return os().memoizedState}function si(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),a=_r(t,e=br(n),n);return null!==a&&(Kc(a,t,n),yr(a,t,n)),t={cache:Dl()},void(e.payload=t)}t=t.return}}function ii(e,t,n){var a=$c();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},di(e)?pi(t,n):null!==(n=La(e,t,n,a))&&(Kc(n,e,a),hi(n,t,a))}function oi(e,t,n){ci(e,t,n,$c())}function ci(e,t,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(di(e))pi(t,l);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=r(s,n);if(l.hasEagerState=!0,l.eagerState=i,Xn(i,s))return Ra(e,t,l,0),null===mc&&Pa(),!1}catch(o){}if(null!==(n=La(e,t,l,a)))return Kc(n,e,a),hi(n,t,a),!0}return!1}function ui(e,t,n,a){if(a={lane:2,revertLane:Wu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},di(e)){if(t)throw Error(s(479))}else null!==(t=La(e,n,a,2))&&Kc(t,e,2)}function di(e){var t=e.alternate;return e===Wr||null!==t&&t===Wr}function pi(e,t){$r=Vr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}var mi={readContext:Ll,use:us,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr,useHostTransitionStatus:Xr,useFormState:Xr,useActionState:Xr,useOptimistic:Xr,useMemoCache:Xr,useCacheRefresh:Xr};mi.useEffectEvent=Xr;var fi={readContext:Ll,use:us,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:Ll,useEffect:Fs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=is();t=void 0===t?null:t;var a=e();if(Qr){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=is();if(void 0!==n){var l=n(t);if(Qr){_e(!0);try{n(t)}finally{_e(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=ii.bind(null,Wr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},is().memoizedState=e},useState:function(e){var t=(e=js(e)).queue,n=oi.bind(null,Wr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return Ys(is(),e,t)},useTransition:function(){var e=js(!1);return e=Xs.bind(null,Wr,e.queue,!0,!1),is().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Wr,l=is();if(dl){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&vc)||gs(a,t,n)}l.memoizedState=n;var r={value:n,getSnapshot:t};return l.queue=r,Fs(_s.bind(null,a,r,e),[e]),a.flags|=2048,Is(9,{destroy:void 0},bs.bind(null,a,r,n,t),null),n},useId:function(){var e=is(),t=mc.identifierPrefix;if(dl){var n=al;t="_"+t+"R_"+(n=(nl&~(1<<32-ye(nl)-1)).toString(32)+n),0<(n=Kr++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Gr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ai,useFormState:Rs,useActionState:Rs,useOptimistic:function(e){var t=is();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ui.bind(null,Wr,!0,n),n.dispatch=t,[e,t]},useMemoCache:ds,useCacheRefresh:function(){return is().memoizedState=si.bind(null,Wr)},useEffectEvent:function(e){var t=is(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},vi={readContext:Ll,use:us,useCallback:Ks,useContext:Ll,useEffect:Bs,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Js,useReducer:hs,useRef:As,useState:function(){return hs(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){return Gs(os(),qr.memoizedState,e,t)},useTransition:function(){var e=hs(ps)[0],t=os().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:vs,useId:li,useHostTransitionStatus:ai,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){return ks(os(),0,e,t)},useMemoCache:ds,useCacheRefresh:ri};vi.useEffectEvent=Ws;var gi={readContext:Ll,use:us,useCallback:Ks,useContext:Ll,useEffect:Bs,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Js,useReducer:fs,useRef:As,useState:function(){return fs(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=os();return null===qr?Ys(n,e,t):Gs(n,qr.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=os().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:vs,useId:li,useHostTransitionStatus:ai,useFormState:Ms,useActionState:Ms,useOptimistic:function(e,t){var n=os();return null!==qr?ks(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ds,useCacheRefresh:ri};function bi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}gi.useEffectEvent=Ws;var _i={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$c(),l=br(a);l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=_r(e,l,a))&&(Kc(t,e,a),yr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$c(),l=br(a);l.tag=1,l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=_r(e,l,a))&&(Kc(t,e,a),yr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),a=br(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=_r(e,a,n))&&(Kc(t,e,n),yr(t,e,n))}};function yi(e,t,n,a,l,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(l,r))}function xi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function ji(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var l in n===t&&(n=h({},n)),e)void 0===n[l]&&(n[l]=e[l]);return n}function ki(e){Sa(e)}function wi(e){console.error(e)}function Ni(e){Sa(e)}function Si(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ci(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ei(e,t,n){return(n=br(n)).tag=3,n.payload={element:null},n.callback=function(){Si(e,t)},n}function Ti(e){return(e=br(e)).tag=3,e}function Pi(e,t,n,a){var l=n.type.getDerivedStateFromError;if("function"===typeof l){var r=a.value;e.payload=function(){return l(r)},e.callback=function(){Ci(t,n,a)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ci(t,n,a),"function"!==typeof l&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Ri=Error(s(461)),Li=!1;function Oi(e,t,n,a){t.child=null===e?mr(t,null,n,a):hr(t,e.child,n,a)}function zi(e,t,n,a,l){n=n.render;var r=t.ref;if("ref"in a){var s={};for(var i in a)"ref"!==i&&(s[i]=a[i])}else s=a;return Rl(t),a=es(e,t,n,s,r,l),i=ls(),null===e||Li?(dl&&i&&sl(t),t.flags|=1,Oi(e,t,a,l),t.child):(rs(e,t,l),ao(e,t,l))}function Mi(e,t,n,a,l){if(null===e){var r=n.type;return"function"!==typeof r||Da(r)||void 0!==r.defaultProps||null!==n.compare?((e=Wa(n.type,null,a,t,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ii(e,t,r,a,l))}if(r=e.child,!lo(e,l)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,a)&&e.ref===t.ref)return ao(e,t,l)}return t.flags|=1,(e=Fa(r,a)).ref=t.ref,e.return=t,t.child=e}function Ii(e,t,n,a,l){if(null!==e){var r=e.memoizedProps;if(Zn(r,a)&&e.ref===t.ref){if(Li=!1,t.pendingProps=a=r,!lo(e,l))return t.lanes=e.lanes,ao(e,t,l);0!==(131072&e.flags)&&(Li=!0)}}return qi(e,t,n,a,l)}function Ai(e,t,n,a){var l=a.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(r=null!==r?r.baseLanes|n:n,null!==e){for(a=t.child=e.child,l=0;null!==a;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~r}else a=0,t.child=null;return Di(e,t,r,n,a)}if(0===(536870912&n))return a=t.lanes=536870912,Di(e,t,null!==r?r.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Jl(0,null!==r?r.cachePool:null),null!==r?Tr(t,r):Pr(),Ir(t)}else null!==r?(Jl(0,r.cachePool),Tr(t,r),Ar(),t.memoizedState=null):(null!==e&&Jl(0,null),Pr(),Ar());return Oi(e,t,l,n),t.child}function Ui(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Di(e,t,n,a,l){var r=Kl();return r=null===r?null:{parent:Ul._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Jl(0,null),Pr(),Ir(t),null!==e&&Tl(e,t,a,!0),t.childLanes=l,null}function Fi(e,t){return(t=Xi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bi(e,t,n){return hr(t,e.child,null,n),(e=Fi(t,t.pendingProps)).flags|=2,Ur(t),t.memoizedState=null,e}function Wi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qi(e,t,n,a,l){return Rl(t),n=es(e,t,n,a,void 0,l),a=ls(),null===e||Li?(dl&&a&&sl(t),t.flags|=1,Oi(e,t,n,l),t.child):(rs(e,t,l),ao(e,t,l))}function Hi(e,t,n,a,l,r){return Rl(t),t.updateQueue=null,n=ns(t,a,n,l),ts(e),a=ls(),null===e||Li?(dl&&a&&sl(t),t.flags|=1,Oi(e,t,n,r),t.child):(rs(e,t,r),ao(e,t,r))}function Vi(e,t,n,a,l){if(Rl(t),null===t.stateNode){var r=Ia,s=n.contextType;"object"===typeof s&&null!==s&&(r=Ll(s)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=_i,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},vr(t),s=n.contextType,r.context="object"===typeof s&&null!==s?Ll(s):Ia,r.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(bi(t,n,s,a),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(s=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),s!==r.state&&_i.enqueueReplaceState(r,r.state,null),wr(t,a,r,l),kr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var i=t.memoizedProps,o=ji(n,i);r.props=o;var c=r.context,u=n.contextType;s=Ia,"object"===typeof u&&null!==u&&(s=Ll(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i||c!==s)&&xi(t,r,a,s),fr=!1;var p=t.memoizedState;r.state=p,wr(t,a,r,l),kr(),c=t.memoizedState,i||p!==c||fr?("function"===typeof d&&(bi(t,n,d,a),c=t.memoizedState),(o=fr||yi(t,n,o,a,p,c,s))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=s,a=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,gr(e,t),u=ji(n,s=t.memoizedProps),r.props=u,d=t.pendingProps,p=r.context,c=n.contextType,o=Ia,"object"===typeof c&&null!==c&&(o=Ll(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==d||p!==o)&&xi(t,r,a,o),fr=!1,p=t.memoizedState,r.state=p,wr(t,a,r,l),kr();var h=t.memoizedState;s!==d||p!==h||fr||null!==e&&null!==e.dependencies&&Pl(e.dependencies)?("function"===typeof i&&(bi(t,n,i,a),h=t.memoizedState),(u=fr||yi(t,n,u,a,p,h,o)||null!==e&&null!==e.dependencies&&Pl(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,h,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,h,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),r.props=a,r.state=h,r.context=o,a=u):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Wi(e,t),a=0!==(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=hr(t,e.child,null,l),t.child=hr(t,null,n,l)):Oi(e,t,n,l),t.memoizedState=r.state,e=t.child):e=ao(e,t,l),e}function $i(e,t,n,a){return _l(),t.flags|=256,Oi(e,t,n,a),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ki(e){return{baseLanes:e,cachePool:Yl()}}function Ji(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Yi(e,t,n){var a,l=t.pendingProps,r=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Dr.current)),a&&(r=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(dl){if(r?zr(t):Ar(),(e=ul)?null!==(e=null!==(e=Pd(e,hl))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tl?{id:nl,overflow:al}:null,retryLane:536870912,hydrationErrors:null},(n=Va(e)).return=t,t.child=n,cl=t,ul=null):e=null,null===e)throw fl(t);return Ld(e)?t.lanes=32:t.lanes=536870912,null}var o=l.children;return l=l.fallback,r?(Ar(),o=Xi({mode:"hidden",children:o},r=t.mode),l=qa(l,r,n,null),o.return=t,l.return=t,o.sibling=l,t.child=o,(l=t.child).memoizedState=Ki(n),l.childLanes=Ji(e,a,n),t.memoizedState=Qi,Ui(null,l)):(zr(t),Gi(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(i)256&t.flags?(zr(t),t.flags&=-257,t=Zi(e,t,n)):null!==t.memoizedState?(Ar(),t.child=e.child,t.flags|=128,t=null):(Ar(),o=l.fallback,r=t.mode,l=Xi({mode:"visible",children:l.children},r),(o=qa(o,r,n,null)).flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,hr(t,e.child,null,n),(l=t.child).memoizedState=Ki(n),l.childLanes=Ji(e,a,n),t.memoizedState=Qi,t=Ui(null,l));else if(zr(t),Ld(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var u=a.dgst;a=u,(l=Error(s(419))).stack="",l.digest=a,xl({value:l,source:null,stack:null}),t=Zi(e,t,n)}else if(Li||Tl(e,t,n,!1),a=0!==(n&e.childLanes),Li||a){if(null!==(a=mc)&&(0!==(l=Me(a,n))&&l!==c.retryLane))throw c.retryLane=l,Oa(e,l),Kc(a,e,l),Ri;Rd(o)||su(),t=Zi(e,t,n)}else Rd(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ul=Od(o.nextSibling),cl=t,dl=!0,pl=null,hl=!1,null!==e&&ol(t,e),(t=Gi(t,l.children)).flags|=4096);return t}return r?(Ar(),o=l.fallback,r=t.mode,u=(c=e.child).sibling,(l=Fa(c,{mode:"hidden",children:l.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?o=Fa(u,o):(o=qa(o,r,n,null)).flags|=2,o.return=t,l.return=t,l.sibling=o,t.child=l,Ui(null,l),l=t.child,null===(o=e.child.memoizedState)?o=Ki(n):(null!==(r=o.cachePool)?(c=Ul._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Yl(),o={baseLanes:o.baseLanes|n,cachePool:r}),l.memoizedState=o,l.childLanes=Ji(e,a,n),t.memoizedState=Qi,Ui(e.child,l)):(zr(t),e=(n=e.child).sibling,(n=Fa(n,{mode:"visible",children:l.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Gi(e,t){return(t=Xi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xi(e,t){return(e=Ua(22,e,null,t)).lanes=0,e}function Zi(e,t,n){return hr(t,e.child,null,n),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Cl(e.return,t,n)}function to(e,t,n,a,l,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l,s.treeForkCount=r)}function no(e,t,n){var a=t.pendingProps,l=a.revealOrder,r=a.tail;a=a.children;var s=Dr.current,i=0!==(2&s);if(i?(s=1&s|2,t.flags|=128):s&=1,B(Dr,s),Oi(e,t,a,n),a=dl?Xa:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===Fr(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),to(t,!1,l,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Fr(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}to(t,!0,n,null,r,a);break;case"together":to(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ao(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Tl(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function lo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pl(e))}function ro(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Li=!0;else{if(!lo(e,n)&&0===(128&t.flags))return Li=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Nl(0,Ul,e.memoizedState.cache),_l();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Nl(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Mr(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(zr(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(zr(t),null!==(e=ao(e,t,n))?e.sibling:null);zr(t);break;case 19:var l=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(Tl(e,t,n,!1),a=0!==(n&t.childLanes)),l){if(a)return no(e,t,n);t.flags|=128}if(null!==(l=t.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),B(Dr,Dr.current),a)break;return null;case 22:return t.lanes=0,Ai(e,t,n,t.pendingProps);case 24:Nl(0,Ul,e.memoizedState.cache)}return ao(e,t,n)}(e,t,n);Li=0!==(131072&e.flags)}else Li=!1,dl&&0!==(1048576&t.flags)&&rl(t,Xa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ar(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var l=e.$$typeof;if(l===j){t.tag=11,t=zi(null,t,e,a,n);break e}if(l===N){t.tag=14,t=Mi(null,t,e,a,n);break e}}throw t=L(e)||e,Error(s(306,t,""))}Da(e)?(a=ji(e,a),t.tag=1,t=Vi(null,t,e,a,n)):(t.tag=0,t=qi(null,t,e,a,n))}return t;case 0:return qi(e,t,t.type,t.pendingProps,n);case 1:return Vi(e,t,a=t.type,l=ji(a,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var r=t.memoizedState;l=r.element,gr(e,t),wr(t,a,null,n);var i=t.memoizedState;if(a=i.cache,Nl(0,Ul,a),a!==r.cache&&El(t,[Ul],n,!0),kr(),a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=$i(e,t,a,n);break e}if(a!==l){xl(l=Ka(Error(s(424)),t)),t=$i(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ul=Od(e.firstChild),cl=t,dl=!0,pl=null,hl=!0,n=mr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_l(),a===l){t=ao(e,t,n);break e}Oi(e,t,a,n)}t=t.child}return t;case 26:return Wi(e,t),null===e?(n=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dl||(n=t.type,e=t.pendingProps,(a=vd($.current).createElement(n))[Be]=t,a[We]=e,pd(a,n,e),et(a),t.stateNode=a):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&dl&&(a=t.stateNode=Ad(t.type,t.pendingProps,$.current),cl=t,hl=!0,l=ul,Sd(t.type)?(zd=l,ul=Od(a.firstChild)):ul=l),Oi(e,t,t.pendingProps.children,n),Wi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dl&&((l=a=ul)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==l.rel||e.getAttribute("href")!==(null==l.href||""===l.href?null:l.href)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin)||e.getAttribute("title")!==(null==l.title?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==l.src?null:l.src)||e.getAttribute("type")!==(null==l.type?null:l.type)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==l.name?null:""+l.name;if("hidden"===l.type&&e.getAttribute("name")===r)return e}if(null===(e=Od(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,hl))?(t.stateNode=a,cl=t,ul=Od(a.firstChild),hl=!1,l=!0):l=!1),l||fl(t)),Y(t),l=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,a=r.children,_d(l,r)?a=null:null!==i&&_d(l,i)&&(t.flags|=32),null!==t.memoizedState&&(l=es(e,t,as,null,null,n),up._currentValue=l),Wi(e,t),Oi(e,t,a,n),t.child;case 6:return null===e&&dl&&((e=n=ul)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,hl))?(t.stateNode=n,cl=t,ul=null,e=!0):e=!1),e||fl(t)),null;case 13:return Yi(e,t,n);case 4:return K(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=hr(t,null,a,n):Oi(e,t,a,n),t.child;case 11:return zi(e,t,t.type,t.pendingProps,n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Nl(0,t.type,a.value),Oi(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,Rl(t),a=a(l=Ll(l)),t.flags|=1,Oi(e,t,a,n),t.child;case 14:return Mi(e,t,t.type,t.pendingProps,n);case 15:return Ii(e,t,t.type,t.pendingProps,n);case 19:return no(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,l=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dl){if("hidden"===a.mode)return e=Fi(t,a),t.lanes=536870912,Ui(null,e);if(Mr(t),(e=ul)?null!==(e=null!==(e=Pd(e,hl))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tl?{id:nl,overflow:al}:null,retryLane:536870912,hydrationErrors:null},(n=Va(e)).return=t,t.child=n,cl=t,ul=null):e=null,null===e)throw fl(t);return t.lanes=536870912,null}return Fi(t,a)}var r=e.memoizedState;if(null!==r){var i=r.dehydrated;if(Mr(t),l)if(256&t.flags)t.flags&=-257,t=Bi(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Li||Tl(e,t,n,!1),l=0!==(n&e.childLanes),Li||l){if(null!==(a=mc)&&0!==(i=Me(a,n))&&i!==r.retryLane)throw r.retryLane=i,Oa(e,i),Kc(a,e,i),Ri;su(),t=Bi(e,t,n)}else e=r.treeContext,ul=Od(i.nextSibling),cl=t,dl=!0,pl=null,hl=!1,null!==e&&ol(t,e),(t=Fi(t,a)).flags|=4096;return t}return(e=Fa(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ai(e,t,n,t.pendingProps);case 24:return Rl(t),a=Ll(Ul),null===e?(null===(l=Kl())&&(l=mc,r=Dl(),l.pooledCache=r,r.refCount++,null!==r&&(l.pooledCacheLanes|=n),l=r),t.memoizedState={parent:a,cache:l},vr(t),Nl(0,Ul,l)):(0!==(e.lanes&n)&&(gr(e,t),wr(t,null,null,n),kr()),l=e.memoizedState,r=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=l),Nl(0,Ul,a)):(a=r.cache,Nl(0,Ul,a),a!==l.cache&&El(t,[Ul],n,!0))),Oi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function so(e){e.flags|=4}function io(e,t,n,a,l){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&l)===l)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw lr=er,Xl;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!lp(t)){if(!au())throw lr=er,Xl;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!dl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;null!==l;)n|=l.lanes|l.childLanes,a|=65011712&l.subtreeFlags,a|=65011712&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ho(e,t,n){var a=t.pendingProps;switch(il(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return po(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sl(Ul),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bl(t)?so(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,yl())),po(t),null;case 26:var l=t.type,r=t.memoizedState;return null===e?(so(t),null!==r?(po(t),oo(t,r)):(po(t),io(t,l,0,0,n))):r?r!==e.memoizedState?(so(t),po(t),oo(t,r)):(po(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&so(t),po(t),io(t,l,0,0,n)),null;case 27:if(G(t),n=$.current,l=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}e=H.current,bl(t)?vl(t):(e=Ad(l,a,n),t.stateNode=e,so(t))}return po(t),null;case 5:if(G(t),l=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}if(r=H.current,bl(t))vl(t);else{var i=vd($.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":(r=i.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r="string"===typeof a.is?i.createElement(l,{is:a.is}):i.createElement(l)}}r[Be]=t,r[We]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)r.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(pd(r,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&so(t)}}return po(t),io(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(e=$.current,bl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(l=cl))switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||cd(e.nodeValue,n)))||fl(t,!0)}else(e=vd(e).createTextNode(a))[Be]=t,t.stateNode=e}return po(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=bl(t),null!==n){if(null===e){if(!a)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Be]=t}else _l(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),e=!1}else n=yl(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ur(t),t):(Ur(t),null);if(0!==(128&t.flags))throw Error(s(558))}return po(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(l=bl(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[Be]=t}else _l(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),l=!1}else l=yl(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return 256&t.flags?(Ur(t),t):(Ur(t),null)}return Ur(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(l=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(l=a.alternate.memoizedState.cachePool.pool),r=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(r=a.memoizedState.cachePool.pool),r!==l&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),co(t,t.updateQueue),po(t),null);case 4:return J(),null===e&&Zu(t.stateNode.containerInfo),po(t),null;case 10:return Sl(t.type),po(t),null;case 19:if(F(Dr),null===(a=t.memoizedState))return po(t),null;if(l=0!==(128&t.flags),null===(r=a.rendering))if(l)uo(a,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=Fr(e))){for(t.flags|=128,uo(a,!1),e=r.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ba(n,e),n=n.sibling;return B(Dr,1&Dr.current|2),dl&&ll(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&oe()>zc&&(t.flags|=128,l=!0,uo(a,!1),t.lanes=4194304)}else{if(!l)if(null!==(e=Fr(r))){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!r.alternate&&!dl)return po(t),null}else 2*oe()-a.renderingStartTime>zc&&536870912!==n&&(t.flags|=128,l=!0,uo(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=a.last)?e.sibling=r:t.child=r,a.last=r)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=oe(),e.sibling=null,n=Dr.current,B(Dr,l?1&n|2:1&n),dl&&ll(t,a.treeForkCount),e):(po(t),null);case 22:case 23:return Ur(t),Rr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(po(t),6&t.subtreeFlags&&(t.flags|=8192)):po(t),null!==(n=t.updateQueue)&&co(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&F(Ql),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sl(Ul),po(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function mo(e,t){switch(il(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sl(Ul),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 31:if(null!==t.memoizedState){if(Ur(t),null===t.alternate)throw Error(s(340));_l()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ur(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_l()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Dr),null;case 4:return J(),null;case 10:return Sl(t.type),null;case 22:case 23:return Ur(t),Rr(),null!==e&&F(Ql),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sl(Ul),null;default:return null}}function fo(e,t){switch(il(t),t.tag){case 3:Sl(Ul),J();break;case 26:case 27:case 5:G(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Ur(t);break;case 13:Ur(t);break;case 19:F(Dr);break;case 10:Sl(t.type);break;case 22:case 23:Ur(t),Rr(),null!==e&&F(Ql);break;case 24:Sl(Ul)}}function vo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var r=n.create,s=n.inst;a=r(),s.destroy=a}n=n.next}while(n!==l)}}catch(i){ku(t,t.return,i)}}function go(e,t,n){try{var a=t.updateQueue,l=null!==a?a.lastEffect:null;if(null!==l){var r=l.next;a=r;do{if((a.tag&e)===e){var s=a.inst,i=s.destroy;if(void 0!==i){s.destroy=void 0,l=t;var o=n,c=i;try{c()}catch(u){ku(l,o,u)}}}a=a.next}while(a!==r)}}catch(u){ku(t,t.return,u)}}function bo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Sr(t,n)}catch(a){ku(e,e.return,a)}}}function _o(e,t,n){n.props=ji(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ku(e,t,a)}}function yo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(l){ku(e,t,l)}}function xo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(l){ku(e,t,l)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function jo(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){ku(e,e.return,l)}}function ko(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,r=null,i=null,o=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:a.hasOwnProperty(m)||ud(e,t,m,null,a,p)}}for(var h in a){var m=a[h];if(p=n[h],a.hasOwnProperty(h)&&(null!=m||null!=p))switch(h){case"type":r=m;break;case"name":l=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==p&&ud(e,t,h,m,a,p)}}return void bt(e,i,o,c,u,d,r,l);case"select":for(r in m=i=o=h=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:a.hasOwnProperty(r)||ud(e,t,r,null,a,c)}for(l in a)if(r=a[l],c=n[l],a.hasOwnProperty(l)&&(null!=r||null!=c))switch(l){case"value":h=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&ud(e,t,l,r,a,c)}return t=o,n=i,a=m,void(null!=h?xt(e,!!n,h,!1):!!a!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(o in m=h=null,n)if(l=n[o],n.hasOwnProperty(o)&&null!=l&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ud(e,t,o,null,a,l)}for(i in a)if(l=a[i],r=n[i],a.hasOwnProperty(i)&&(null!=l||null!=r))switch(i){case"value":h=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:l!==r&&ud(e,t,i,l,a,r)}return void jt(e,h,m);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ud(e,t,f,null,a,h);for(c in a)if(h=a[c],m=n[c],a.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else ud(e,t,c,h,a,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!a.hasOwnProperty(v)&&ud(e,t,v,null,a,h);for(u in a)if(h=a[u],m=n[u],a.hasOwnProperty(u)&&h!==m&&(null!=h||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:ud(e,t,u,h,a,m)}return;default:if(Et(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!a.hasOwnProperty(g)&&dd(e,t,g,void 0,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||void 0===h&&void 0===m||dd(e,t,d,h,a,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!a.hasOwnProperty(b)&&ud(e,t,b,null,a,h);for(p in a)h=a[p],m=n[p],!a.hasOwnProperty(p)||h===m||null==h&&null==m||ud(e,t,p,h,a,m)}(a,e.type,n,t),a[We]=t}catch(l){ku(e,e.return,l)}}function wo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sd(e.type)||4===e.tag}function No(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function So(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lt));else if(4!==a&&(27===a&&Sd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(So(e,t,n),e=e.sibling;null!==e;)So(e,t,n),e=e.sibling}function Co(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Sd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function Eo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);pd(t,a,n),t[Be]=e,t[We]=n}catch(r){ku(e,e.return,r)}}var To=!1,Po=!1,Ro=!1,Lo="function"===typeof WeakSet?WeakSet:Set,Oo=null;function zo(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ko(e,n),4&a&&vo(5,n);break;case 1:if(Ko(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ku(n,n.return,s)}else{var l=ji(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ku(n,n.return,i)}}64&a&&bo(n),512&a&&yo(n,n.return);break;case 3:if(Ko(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Sr(e,t)}catch(s){ku(n,n.return,s)}}break;case 27:null===t&&4&a&&Eo(n);case 26:case 5:Ko(e,n),null===t&&4&a&&jo(n),512&a&&yo(n,n.return);break;case 12:Ko(e,n);break;case 31:Ko(e,n),4&a&&Fo(e,n);break;case 13:Ko(e,n),4&a&&Bo(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=Cu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||To)){t=null!==t&&null!==t.memoizedState||Po,l=To;var r=Po;To=a,(Po=t)&&!r?Yo(e,n,0!==(8772&n.subtreeFlags)):Ko(e,n),To=l,Po=r}break;case 30:break;default:Ko(e,n)}}function Mo(e){var t=e.alternate;null!==t&&(e.alternate=null,Mo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Io=null,Ao=!1;function Uo(e,t,n){for(n=n.child;null!==n;)Do(e,t,n),n=n.sibling}function Do(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,n)}catch(r){}switch(n.tag){case 26:Po||xo(n,t),Uo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Po||xo(n,t);var a=Io,l=Ao;Sd(n.type)&&(Io=n.stateNode,Ao=!1),Uo(e,t,n),Ud(n.stateNode),Io=a,Ao=l;break;case 5:Po||xo(n,t);case 6:if(a=Io,l=Ao,Io=null,Uo(e,t,n),Ao=l,null!==(Io=a))if(Ao)try{(9===Io.nodeType?Io.body:"HTML"===Io.nodeName?Io.ownerDocument.body:Io).removeChild(n.stateNode)}catch(s){ku(n,t,s)}else try{Io.removeChild(n.stateNode)}catch(s){ku(n,t,s)}break;case 18:null!==Io&&(Ao?(Cd(9===(e=Io).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hp(e)):Cd(Io,n.stateNode));break;case 4:a=Io,l=Ao,Io=n.stateNode.containerInfo,Ao=!0,Uo(e,t,n),Io=a,Ao=l;break;case 0:case 11:case 14:case 15:go(2,n,t),Po||go(4,n,t),Uo(e,t,n);break;case 1:Po||(xo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&_o(n,t,a)),Uo(e,t,n);break;case 21:Uo(e,t,n);break;case 22:Po=(a=Po)||null!==n.memoizedState,Uo(e,t,n),Po=a;break;default:Uo(e,t,n)}}function Fo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hp(e)}catch(n){ku(t,t.return,n)}}}function Bo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hp(e)}catch(n){ku(t,t.return,n)}}function Wo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Lo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Lo),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Eu.bind(null,e,t);t.then(a,a)}})}function qo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var l=n[a],r=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(Sd(o.type)){Io=o.stateNode,Ao=!1;break e}break;case 5:Io=o.stateNode,Ao=!1;break e;case 3:case 4:Io=o.stateNode.containerInfo,Ao=!0;break e}o=o.return}if(null===Io)throw Error(s(160));Do(r,i,l),Io=null,Ao=!1,null!==(r=l.alternate)&&(r.return=null),l.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vo(t,e),t=t.sibling}var Ho=null;function Vo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qo(t,e),$o(e),4&a&&(go(3,e,e.return),vo(3,e),go(5,e,e.return));break;case 1:qo(t,e),$o(e),512&a&&(Po||null===n||xo(n,n.return)),64&a&&To&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var l=Ho;if(qo(t,e),$o(e),512&a&&(Po||null===n||xo(n,n.return)),4&a){var r=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":(!(r=l.getElementsByTagName("title")[0])||r[Ke]||r[Be]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=l.createElement(a),l.head.insertBefore(r,l.querySelector("head > title"))),pd(r,a,n),r[Be]=e,et(r),a=r;break e;case"link":var i=np("link","href",l).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((r=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}pd(r=l.createElement(a),a,n),l.head.appendChild(r);break;case"meta":if(i=np("meta","content",l).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((r=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}pd(r=l.createElement(a),a,n),l.head.appendChild(r);break;default:throw Error(s(468,a))}r[Be]=e,et(r),a=r}e.stateNode=a}else ap(l,e.type,e.stateNode);else e.stateNode=Gd(l,a,e.memoizedProps);else r!==a?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===a?ap(l,e.type,e.stateNode):Gd(l,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ko(e,e.memoizedProps,n.memoizedProps)}break;case 27:qo(t,e),$o(e),512&a&&(Po||null===n||xo(n,n.return)),null!==n&&4&a&&ko(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qo(t,e),$o(e),512&a&&(Po||null===n||xo(n,n.return)),32&e.flags){l=e.stateNode;try{wt(l,"")}catch(f){ku(e,e.return,f)}}4&a&&null!=e.stateNode&&ko(e,l=e.memoizedProps,null!==n?n.memoizedProps:l),1024&a&&(Ro=!0);break;case 6:if(qo(t,e),$o(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){ku(e,e.return,f)}}break;case 3:if(tp=null,l=Ho,Ho=Bd(t.containerInfo),qo(t,e),Ho=l,$o(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(f){ku(e,e.return,f)}Ro&&(Ro=!1,Qo(e));break;case 4:a=Ho,Ho=Bd(e.stateNode.containerInfo),qo(t,e),$o(e),Ho=a;break;case 12:default:qo(t,e),$o(e);break;case 31:case 19:qo(t,e),$o(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Wo(e,a)));break;case 13:qo(t,e),$o(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Lc=oe()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Wo(e,a)));break;case 22:l=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=To,d=Po;if(To=u||l,Po=d||c,qo(t,e),Po=d,To=u,$o(e),8192&a)e:for(t=e.stateNode,t._visibility=l?-2&t._visibility:1|t._visibility,l&&(null===n||c||To||Po||Jo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,l)"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;o.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){ku(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(f){ku(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;l?Ed(m,!0):Ed(c.stateNode,!1)}catch(f){ku(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Wo(e,n))));case 30:case 21:}}function $o(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(wo(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var l=n.stateNode;Co(e,No(e),l);break;case 5:var r=n.stateNode;32&n.flags&&(wt(r,""),n.flags&=-33),Co(e,No(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;So(e,No(e),i);break;default:throw Error(s(161))}}catch(o){ku(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Qo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Qo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ko(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zo(e,t.alternate,t),t=t.sibling}function Jo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:go(4,t,t.return),Jo(t);break;case 1:xo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_o(t,t.return,n),Jo(t);break;case 27:Ud(t.stateNode);case 26:case 5:xo(t,t.return),Jo(t);break;case 22:null===t.memoizedState&&Jo(t);break;default:Jo(t)}e=e.sibling}}function Yo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,l=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Yo(l,r,n),vo(4,r);break;case 1:if(Yo(l,r,n),"function"===typeof(l=(a=r).stateNode).componentDidMount)try{l.componentDidMount()}catch(c){ku(a,a.return,c)}if(null!==(l=(a=r).updateQueue)){var i=a.stateNode;try{var o=l.shared.hiddenCallbacks;if(null!==o)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Nr(o[l],i)}catch(c){ku(a,a.return,c)}}n&&64&s&&bo(r),yo(r,r.return);break;case 27:Eo(r);case 26:case 5:Yo(l,r,n),n&&null===a&&4&s&&jo(r),yo(r,r.return);break;case 12:Yo(l,r,n);break;case 31:Yo(l,r,n),n&&4&s&&Fo(l,r);break;case 13:Yo(l,r,n),n&&4&s&&Bo(l,r);break;case 22:null===r.memoizedState&&Yo(l,r,n),yo(r,r.return);break;case 30:break;default:Yo(l,r,n)}t=t.sibling}}function Go(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fl(n))}function Xo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fl(e))}function Zo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,a),t=t.sibling}function ec(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,n,a),2048&l&&vo(9,t);break;case 1:case 31:case 13:default:Zo(e,t,n,a);break;case 3:Zo(e,t,n,a),2048&l&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fl(e)));break;case 12:if(2048&l){Zo(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,i=r.onPostCommit;"function"===typeof i&&i(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ku(t,t.return,o)}}else Zo(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,null!==t.memoizedState?2&r._visibility?Zo(e,t,n,a):nc(e,t):2&r._visibility?Zo(e,t,n,a):(r._visibility|=2,tc(e,t,n,a,0!==(10256&t.subtreeFlags)||!1)),2048&l&&Go(s,t);break;case 24:Zo(e,t,n,a),2048&l&&Xo(t.alternate,t)}}function tc(e,t,n,a,l){for(l=l&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,s=t,i=n,o=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(r,s,i,o,l),vo(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(r,s,i,o,l):nc(r,s):(u._visibility|=2,tc(r,s,i,o,l)),l&&2048&c&&Go(s.alternate,s);break;case 24:tc(r,s,i,o,l),l&&2048&c&&Xo(s.alternate,s);break;default:tc(r,s,i,o,l)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:nc(n,a),2048&l&&Go(a.alternate,a);break;case 24:nc(n,a),2048&l&&Xo(a.alternate,a);break;default:nc(n,a)}t=t.sibling}}var ac=8192;function lc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)rc(e,t,n),e=e.sibling}function rc(e,t,n){switch(e.tag){case 26:lc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,a){if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var l=$d(a.href),r=t.querySelector(Qd(l));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,void et(r);r=t.ownerDocument||t,a=Kd(a),(l=Dd.get(l))&&Zd(a,l),et(r=r.createElement("link"));var s=r;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(r,"link",a),n.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ho,e.memoizedState,e.memoizedProps);break;case 5:default:lc(e,t,n);break;case 3:case 4:var a=Ho;Ho=Bd(e.stateNode.containerInfo),lc(e,t,n),Ho=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,lc(e,t,n),ac=a):lc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Oo=a,uc(a,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&go(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Oo=a,uc(a,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:go(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Oo;){var n=Oo;switch(n.tag){case 0:case 11:case 15:go(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Fl(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Oo=a;else e:for(n=e;null!==Oo;){var l=(a=Oo).sibling,r=a.return;if(Mo(a),a===n){Oo=null;break e}if(null!==l){l.return=r,Oo=l;break e}Oo=r}}}var dc={getCacheForType:function(e){var t=Ll(Ul),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ll(Ul).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,hc=0,mc=null,fc=null,vc=0,gc=0,bc=null,_c=!1,yc=!1,xc=!1,jc=0,kc=0,wc=0,Nc=0,Sc=0,Cc=0,Ec=0,Tc=null,Pc=null,Rc=!1,Lc=0,Oc=0,zc=1/0,Mc=null,Ic=null,Ac=0,Uc=null,Dc=null,Fc=0,Bc=0,Wc=null,qc=null,Hc=0,Vc=null;function $c(){return 0!==(2&hc)&&0!==vc?vc&-vc:null!==z.T?Wu():Ue()}function Qc(){if(0===Cc)if(0===(536870912&vc)||dl){var e=we;0===(3932160&(we<<=1))&&(we=262144),Cc=e}else Cc=536870912;return null!==(e=Lr.current)&&(e.flags|=32),Cc}function Kc(e,t,n){(e!==mc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,vc,Cc,!1)),Le(e,n),0!==(2&hc)&&e===mc||(e===mc&&(0===(2&hc)&&(Nc|=n),4===kc&&Xc(e,vc,Cc,!1)),Mu(e))}function Jc(e,t,n){if(0!==(6&hc))throw Error(s(327));for(var a=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),l=a?function(e,t){var n=hc;hc|=2;var a=lu(),l=ru();mc!==e||vc!==t?(Mc=null,zc=oe()+500,tu(e,t)):yc=Ee(e,t);e:for(;;)try{if(0!==gc&&null!==fc){t=fc;var r=bc;t:switch(gc){case 1:gc=0,bc=null,pu(e,t,r,1);break;case 2:case 9:if(tr(r)){gc=0,bc=null,du(t);break}t=function(){2!==gc&&9!==gc||mc!==e||(gc=7),Mu(e)},r.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:tr(r)?(gc=0,bc=null,du(t)):(gc=0,bc=null,pu(e,t,r,7));break;case 5:var i=null;switch(fc.tag){case 26:i=fc.memoizedState;case 5:case 27:var o=fc;if(i?lp(i):o.stateNode.complete){gc=0,bc=null;var c=o.sibling;if(null!==c)fc=c;else{var u=o.return;null!==u?(fc=u,hu(u)):fc=null}break t}}gc=0,bc=null,pu(e,t,r,5);break;case 6:gc=0,bc=null,pu(e,t,r,6);break;case 8:eu(),kc=6;break e;default:throw Error(s(462))}}cu();break}catch(d){nu(e,d)}return wl=kl=null,z.H=a,z.A=l,hc=n,null!==fc?0:(mc=null,vc=0,Pa(),kc)}(e,t):iu(e,t,!0),r=a;;){if(0===l){yc&&!a&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!r||Gc(n)){if(2===l){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;l=Tc;var c=o.current.memoizedState.isDehydrated;if(c&&(tu(o,i).flags|=256),2!==(i=iu(o,i,!1))){if(xc&&!c){o.errorRecoveryDisabledLanes|=r,Nc|=r,l=4;break e}r=Pc,Pc=l,null!==r&&(null===Pc?Pc=r:Pc.push.apply(Pc,r))}l=i}if(r=!1,2!==l)continue}}if(1===l){tu(e,0),Xc(e,t,0,!0);break}e:{switch(a=e,r=l){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(a,t,Cc,!_c);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(l=Lc+300-oe())){if(Xc(a,t,Cc,!_c),0!==Ce(a,0,!0))break e;Fc=t,a.timeoutHandle=xd(Yc.bind(null,a,n,Pc,Mc,Rc,t,Cc,Nc,Ec,_c,r,"Throttled",-0,0),l)}else Yc(a,n,Pc,Mc,Rc,t,Cc,Nc,Ec,_c,r,null,-0,0)}break}l=iu(e,t,!1),r=!1}Mu(e)}function Yc(e,t,n,a,l,r,s,i,o,c,u,d,p,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){rc(t,r,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var m=(62914560&r)===r?Lc-oe():(4194048&r)===r?Oc-oe():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&op(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&op(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===rp&&(rp=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],r=l.transferSize,s=l.initiatorType,i=l.duration;if(r&&i&&hd(s)){for(s=0,i=l.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>i)break;var u=o.transferSize,d=o.initiatorType;u&&hd(d)&&(s+=u*((o=o.responseEnd)<i?1:(i-c)/(o-c)))}if(--a,t+=8*(r+s)/(l.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var l=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&op(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>rp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}(d,m)))return Fc=r,e.cancelPendingCommit=m(fu.bind(null,e,t,r,n,a,l,s,i,o,u,d,null,p,h)),void Xc(e,r,s,!c)}fu(e,t,r,n,a,l,s,i,o)}function Gc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var l=n[a],r=l.getSnapshot;l=l.value;try{if(!Xn(r(),l))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,a){t&=~Sc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var r=31-ye(l),s=1<<r;a[r]=-1,l&=~s}0!==n&&Oe(e,n,t)}function Zc(){return 0!==(6&hc)||(Iu(0,!1),!1)}function eu(){if(null!==fc){if(0===gc)var e=fc.return;else wl=kl=null,ss(e=fc),ir=null,or=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,jd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc=0,eu(),mc=e,fc=n=Fa(e.current,null),vc=t,gc=0,bc=null,_c=!1,yc=Ee(e,t),xc=!1,Ec=Cc=Sc=Nc=wc=kc=0,Pc=Tc=null,Rc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var l=31-ye(a),r=1<<l;t|=e[l],a&=~r}return jc=t,Pa(),n}function nu(e,t){Wr=null,z.H=mi,t===Gl||t===Zl?(t=rr(),gc=3):t===Xl?(t=rr(),gc=4):gc=t===Ri?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===fc&&(kc=1,Si(e,Ka(t,e.current)))}function au(){var e=Lr.current;return null===e||((4194048&vc)===vc?null===Or:((62914560&vc)===vc||0!==(536870912&vc))&&e===Or)}function lu(){var e=z.H;return z.H=mi,null===e?mi:e}function ru(){var e=z.A;return z.A=dc,e}function su(){kc=4,_c||(4194048&vc)!==vc&&null!==Lr.current||(yc=!0),0===(134217727&wc)&&0===(134217727&Nc)||null===mc||Xc(mc,vc,Cc,!1)}function iu(e,t,n){var a=hc;hc|=2;var l=lu(),r=ru();mc===e&&vc===t||(Mc=null,tu(e,t)),t=!1;var s=kc;e:for(;;)try{if(0!==gc&&null!==fc){var i=fc,o=bc;switch(gc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Lr.current&&(t=!0);var c=gc;if(gc=0,bc=null,pu(e,i,o,c),n&&yc){s=0;break e}break;default:c=gc,gc=0,bc=null,pu(e,i,o,c)}}ou(),s=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,wl=kl=null,hc=a,z.H=l,z.A=r,null===fc&&(mc=null,vc=0,Pa()),s}function ou(){for(;null!==fc;)uu(fc)}function cu(){for(;null!==fc&&!se();)uu(fc)}function uu(e){var t=ro(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?hu(e):fc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hi(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Hi(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:ss(t);default:fo(n,t),t=ro(n,t=fc=Ba(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?hu(e):fc=t}function pu(e,t,n,a){wl=kl=null,ss(t),ir=null,or=0;var l=t.return;try{if(function(e,t,n,a,l){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&Tl(t,n,l,!0),null!==(n=Lr.current)){switch(n.tag){case 31:case 13:return null===Or?su():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===er?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),wu(e,a,l)),!1;case 22:return n.flags|=65536,a===er?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),wu(e,a,l)),!1}throw Error(s(435,n.tag))}return wu(e,a,l),su(),!1}if(dl)return null!==(t=Lr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==ml&&xl(Ka(e=Error(s(422),{cause:a}),n))):(a!==ml&&xl(Ka(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,l&=-l,e.lanes|=l,a=Ka(a,n),xr(e,l=Ei(e.stateNode,a,l)),4!==kc&&(kc=2)),!1;var r=Error(s(520),{cause:a});if(r=Ka(r,n),null===Tc?Tc=[r]:Tc.push(r),4!==kc&&(kc=2),null===t)return!0;a=Ka(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,xr(n,e=Ei(n.stateNode,a,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Ic||!Ic.has(r))))return n.flags|=65536,l&=-l,n.lanes|=l,Pi(l=Ti(l),e,n,a),xr(n,l),!1}n=n.return}while(null!==n);return!1}(e,l,t,n,vc))return kc=1,Si(e,Ka(n,e.current)),void(fc=null)}catch(r){if(null!==l)throw fc=l,r;return kc=1,Si(e,Ka(n,e.current)),void(fc=null)}32768&t.flags?(dl||1===a?e=!0:yc||0!==(536870912&vc)?e=!1:(_c=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Lr.current)&&13===a.tag&&(a.flags|=16384))),mu(t,e)):hu(t)}function hu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,_c);e=t.return;var n=ho(t.alternate,t,jc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===kc&&(kc=5)}function mu(e,t){do{var n=mo(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);kc=6,fc=null}function fu(e,t,n,a,l,r,i,o,c){e.cancelPendingCommit=null;do{yu()}while(0!==Ac);if(0!==(6&hc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(r=t.lanes|t.childLanes,function(e,t,n,a,l,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ye(n),d=1<<u;i[u]=0,o[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==a&&Oe(e,a,0),0!==r&&0===l&&0!==e.tag&&(e.suspendedLanes|=r&~(s&~t))}(e,n,r|=Ta,i,o,c),e===mc&&(fc=mc=null,vc=0),Dc=t,Uc=e,Fc=n,Bc=r,Wc=l,qc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,le(pe,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=z.T,z.T=null,l=M.p,M.p=2,i=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,md=_p,la(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var l=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(v){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==l&&3!==p.nodeType||(o=i+l),p!==r||0!==a&&3!==p.nodeType||(c=i+a),3===p.nodeType&&(i+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===l&&(o=i),h===r&&++d===a&&(c=i),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},_p=!1,Oo=t;null!==Oo;)if(e=(t=Oo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Oo=e;else for(;null!==Oo;){switch(r=(t=Oo).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(l=e[n]).ref.impl=l.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,l=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var f=ji(n.type,l);e=a.getSnapshotBeforeUpdate(f,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(g){ku(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Td(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Oo=e;break}Oo=t.return}}(e,t)}finally{hc=i,M.p=l,z.T=a}}Ac=1,vu(),gu(),bu()}}function vu(){if(1===Ac){Ac=0;var e=Uc,t=Dc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=z.T,z.T=null;var a=M.p;M.p=2;var l=hc;hc|=4;try{Vo(t,e);var r=fd,s=aa(e.containerInfo),i=r.focusedElem,o=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&na(i.ownerDocument.documentElement,i)){if(null!==o&&la(i)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=i.textContent.length,f=Math.min(o.start,m),v=void 0===o.end?f:Math.min(o.end,m);!h.extend&&f>v&&(s=v,v=f,f=s);var g=ta(i,f),b=ta(i,v);if(g&&b&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var _=d.createRange();_.setStart(g.node,g.offset),h.removeAllRanges(),f>v?(h.addRange(_),h.extend(b.node,b.offset)):(_.setEnd(b.node,b.offset),h.addRange(_))}}}}for(d=[],h=i;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var y=d[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}_p=!!md,fd=md=null}finally{hc=l,M.p=a,z.T=n}}e.current=t,Ac=2}}function gu(){if(2===Ac){Ac=0;var e=Uc,t=Dc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=z.T,z.T=null;var a=M.p;M.p=2;var l=hc;hc|=4;try{zo(e,t.alternate,t)}finally{hc=l,M.p=a,z.T=n}}Ac=3}}function bu(){if(4===Ac||3===Ac){Ac=0,ie();var e=Uc,t=Dc,n=Fc,a=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ac=5:(Ac=0,Dc=Uc=null,_u(e,e.pendingLanes));var l=e.pendingLanes;if(0===l&&(Ic=null),Ae(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=z.T,l=M.p,M.p=2,z.T=null;try{for(var r=e.onRecoverableError,s=0;s<a.length;s++){var i=a[s];r(i.value,{componentStack:i.stack})}}finally{z.T=t,M.p=l}}0!==(3&Fc)&&yu(),Mu(e),l=e.pendingLanes,0!==(261930&n)&&0!==(42&l)?e===Vc?Hc++:(Hc=0,Vc=e):Hc=0,Iu(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fl(t)))}function yu(){return vu(),gu(),bu(),xu()}function xu(){if(5!==Ac)return!1;var e=Uc,t=Bc;Bc=0;var n=Ae(Fc),a=z.T,l=M.p;try{M.p=32>n?32:n,z.T=null,n=Wc,Wc=null;var r=Uc,i=Fc;if(Ac=0,Dc=Uc=null,Fc=0,0!==(6&hc))throw Error(s(331));var o=hc;if(hc|=4,oc(r.current),ec(r,r.current,i,n),hc=o,Iu(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,r)}catch(c){}return!0}finally{M.p=l,z.T=a,_u(e,t)}}function ju(e,t,n){t=Ka(n,t),null!==(e=_r(e,t=Ei(e.stateNode,t,2),2))&&(Le(e,2),Mu(e))}function ku(e,t,n){if(3===e.tag)ju(e,e,n);else for(;null!==t;){if(3===t.tag){ju(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ic||!Ic.has(a))){e=Ka(n,e),null!==(a=_r(t,n=Ti(2),2))&&(Pi(n,a,t,e),Le(a,2),Mu(a));break}}t=t.return}}function wu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pc;var l=new Set;a.set(t,l)}else void 0===(l=a.get(t))&&(l=new Set,a.set(t,l));l.has(n)||(xc=!0,l.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===kc||3===kc&&(62914560&vc)===vc&&300>oe()-Lc?0===(2&hc)&&tu(e,0):Sc|=n,Ec===vc&&(Ec=0)),Mu(e)}function Su(e,t){0===t&&(t=Pe()),null!==(e=Oa(e,t))&&(Le(e,t),Mu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,l=e.memoizedState;null!==l&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),Su(e,n)}var Tu=null,Pu=null,Ru=!1,Lu=!1,Ou=!1,zu=0;function Mu(e){e!==Pu&&null===e.next&&(null===Pu?Tu=Pu=e:Pu=Pu.next=e),Lu=!0,Ru||(Ru=!0,wd(function(){0!==(6&hc)?le(ue,Au):Uu()}))}function Iu(e,t){if(!Ou&&Lu){Ou=!0;do{for(var n=!1,a=Tu;null!==a;){if(!t)if(0!==e){var l=a.pendingLanes;if(0===l)var r=0;else{var s=a.suspendedLanes,i=a.pingedLanes;r=(1<<31-ye(42|e)+1)-1,r=201326741&(r&=l&~(s&~i))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Bu(a,r))}else r=vc,0===(3&(r=Ce(a,a===mc?r:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ee(a,r)||(n=!0,Bu(a,r));a=a.next}}while(n);Ou=!1}}function Au(){Uu()}function Uu(){Lu=Ru=!1;var e=0;0!==zu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yd&&(yd=e,!0);return yd=null,!1}()&&(e=zu);for(var t=oe(),n=null,a=Tu;null!==a;){var l=a.next,r=Du(a,t);0===r?(a.next=null,null===n?Tu=l:n.next=l,null===l&&(Pu=n)):(n=a,(0!==e||0!==(3&r))&&(Lu=!0)),a=l}0!==Ac&&5!==Ac||Iu(e,!1),0!==zu&&(zu=0)}function Du(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var s=31-ye(r),i=1<<s,o=l[s];-1===o?0!==(i&n)&&0===(i&a)||(l[s]=Te(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}if(n=vc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&re(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&re(a),Ae(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=me}return a=Fu.bind(null,e),n=le(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&re(a),e.callbackPriority=2,e.callbackNode=null,2}function Fu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yu()&&e.callbackNode!==n)return null;var a=vc;return 0===(a=Ce(e,e===mc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,a,t),Du(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Fu.bind(null,e):null)}function Bu(e,t){if(yu())return null;Jc(e,t,!0)}function Wu(){if(0===zu){var e=ql;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),zu=e}return zu}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vu=0;Vu<wa.length;Vu++){var $u=wa[Vu];Na($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}Na(va,"onAnimationEnd"),Na(ga,"onAnimationIteration"),Na(ba,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(_a,"onTransitionRun"),Na(ya,"onTransitionStart"),Na(xa,"onTransitionCancel"),Na(ja,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&l.isPropagationStopped())break e;r=i,l.currentTarget=c;try{r(l)}catch(u){Sa(u)}l.currentTarget=null,r=o}else for(s=0;s<a.length;s++){if(o=(i=a[s]).instance,c=i.currentTarget,i=i.listener,o!==r&&l.isPropagationStopped())break e;r=i,l.currentTarget=c;try{r(l)}catch(u){Sa(u)}l.currentTarget=null,r=o}}}}function Yu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var a=e+"__bubble";n.has(a)||(ed(t,e,2,!1),n.add(a))}function Gu(e,t,n){var a=0;t&&(a|=4),ed(n,e,a,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Gu(t,!1,e),Gu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Gu("selectionchange",!1,t))}}function ed(e,t,n,a){switch(Sp(t)){case 2:var l=yp;break;case 8:l=xp;break;default:l=jp}n=l.bind(null,t,n,e),l=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),a?void 0!==l?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):void 0!==l?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function td(e,t,n,a,l){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===l)break;if(4===s)for(s=a.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===l)return;s=s.return}for(;null!==i;){if(null===(s=Ye(i)))return;if(5===(c=s.tag)||6===c||26===c||27===c){a=r=s;continue e}i=i.parentNode}}a=a.return}Dt(function(){var a=r,l=zt(n),s=[];e:{var i=ka.get(e);if(void 0!==i){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case va:case ga:case ba:c=un;break;case ja:c=xn;break;case"scroll":case"scrollend":c=ln;break;case"wheel":c=jn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==i?i+"Capture":null:i;d=[];for(var m,f=a;null!==f;){var v=f;if(m=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===m||null===h||null!=(v=Ft(f,h))&&d.push(nd(f,v,m)),p)break;f=f.return}0<d.length&&(i=new c(i,u,null,n,l),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||i)&&(i=l.window===l?l:(i=l.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(p=o(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=sn,v="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,v="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?i:Xe(c),m=null==u?i:Xe(u),(i=new d(v,f+"leave",c,n,l)).target=p,i.relatedTarget=m,v=null,Ye(l)===a&&((d=new d(h,f+"enter",u,n,l)).target=m,d.relatedTarget=p,v=d),p=v,c&&u)e:{for(d=ld,f=u,m=0,v=h=c;v;v=d(v))m++;v=0;for(var g=f;g;g=d(g))v++;for(;0<m-v;)h=d(h),m--;for(;0<v-m;)f=d(f),v--;for(;m--;){if(h===f||null!==f&&h===f.alternate){d=h;break e}h=d(h),f=d(f)}d=null}else d=null;null!==c&&rd(s,i,c,d,!1),null!==u&&null!==p&&rd(s,p,u,d,!0)}if("select"===(c=(i=a?Xe(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var b=Bn;else if(Mn(i))if(Wn)b=Gn;else{b=Jn;var _=Kn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Et(a.elementType)&&(b=Bn):b=Yn;switch(b&&(b=b(e,a))?In(s,b,n,l):(_&&_(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&yt(i,"number",i.value)),_=a?Xe(a):window,e){case"focusin":(Mn(_)||"true"===_.contentEditable)&&(sa=_,ia=a,oa=null);break;case"focusout":oa=ia=sa=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,ua(s,n,l);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":ua(s,n,l)}var y;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?Rn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(y=Qt()):(Vt="value"in(Ht=l)?Ht.value:Ht.textContent,On=!0)),0<(_=ad(a,x)).length&&(x=new pn(x,e,null,n,l),s.push({event:x,listeners:_}),y?x.data=y:null!==(y=Ln(n))&&(x.data=y))),(y=Cn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Pn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Nn&&Rn(e,t)?(e=Qt(),$t=Vt=Ht=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ad(a,"onBeforeInput")).length&&(_=new pn("onBeforeInput","beforeinput",null,n,l),s.push({event:_,listeners:x}),_.data=y)),function(e,t,n,a,l){if("submit"===t&&n&&n.stateNode===l){var r=qu((l[We]||null).action),s=a.submitter;s&&null!==(t=(t=s[We]||null)?qu(t.formAction):s.getAttribute("formAction"))&&(r=t,s=null);var i=new nn("action","action",null,a,l);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==zu){var e=s?Hu(l,s):new FormData(l);ei(n,{pending:!0,data:e,method:l.method,action:r},null,e)}}else"function"===typeof r&&(i.preventDefault(),e=s?Hu(l,s):new FormData(l),ei(n,{pending:!0,data:e,method:l.method,action:r},r,e))},currentTarget:l}]})}}(s,e,a,n,l)}Ju(s,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",a=[];null!==e;){var l=e,r=l.stateNode;if(5!==(l=l.tag)&&26!==l&&27!==l||null===r||(null!=(l=Ft(e,n))&&a.unshift(nd(e,l,r)),null!=(l=Ft(e,t))&&a.push(nd(e,l,r))),3===e.tag)return a;e=e.return}return[]}function ld(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function rd(e,t,n,a,l){for(var r=t._reactName,s=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,l?null!=(c=Ft(n,r))&&s.unshift(nd(n,c,o)):l||null!=(c=Ft(n,r))&&s.push(nd(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,id=/\u0000|\uFFFD/g;function od(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(id,"")}function cd(e,t){return t=od(t),od(e)===t}function ud(e,t,n,a,l,r){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,a);break;case"style":Ct(e,a,r);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Rt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&ud(e,t,"name",l.name,l,null),ud(e,t,"formEncType",l.formEncType,l,null),ud(e,t,"formMethod",l.formMethod,l,null),ud(e,t,"formTarget",l.formTarget,l,null)):(ud(e,t,"encType",l.encType,l,null),ud(e,t,"method",l.method,l,null),ud(e,t,"target",l.target,l,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Rt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=l.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Rt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),ot(e,"popover",a);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ot(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Tt.get(n)||n,a)}}function dd(e,t,n,a,l,r){switch(n){case"style":Ct(e,a,r);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=l.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof a?wt(e,a):("number"===typeof a||"bigint"===typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),"function"===typeof(r=null!=(r=e[We]||null)?r[n]:null)&&e.removeEventListener(t,r,l),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ot(e,n,a):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var a,l=!1,r=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,a,i,n,null)}}return r&&ud(e,t,"srcSet",n.srcSet,n,null),void(l&&ud(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var o=a=i=r=null,c=null,u=null;for(l in n)if(n.hasOwnProperty(l)){var d=n[l];if(null!=d)switch(l){case"name":r=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,l,d,n,null)}}return void _t(e,a,o,c,u,i,r,!1);case"select":for(r in Yu("invalid",e),l=i=a=null,n)if(n.hasOwnProperty(r)&&null!=(o=n[r]))switch(r){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":l=o;default:ud(e,t,r,o,n,null)}return t=a,n=i,e.multiple=!!l,void(null!=t?xt(e,!!l,t,!1):null!=n&&xt(e,!!l,n,!0));case"textarea":for(i in Yu("invalid",e),a=r=l=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":l=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:ud(e,t,i,o,n,null)}return void kt(e,l,r,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(l=n[c]))if("selected"===c)e.selected=l&&"function"!==typeof l&&"symbol"!==typeof l;else ud(e,t,c,l,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(l=0;l<Qu.length;l++)Yu(Qu[l],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(l=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,l,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(l=n[d])&&dd(e,t,d,l,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(l=n[o])&&ud(e,t,o,l,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,fd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function gd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,jd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,wd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(Nd)}:xd;function Nd(e){setTimeout(function(){throw e})}function Sd(e){return"head"===e}function Cd(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)||"/&"===n){if(0===a)return e.removeChild(l),void Hp(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var r=n.firstChild;r;){var s=r.nextSibling,i=r.nodeName;r[Ke]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=s}}else"body"===n&&Ud(e.ownerDocument.body);n=l}while(n);Hp(t)}function Ed(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Td(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Ld(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zd=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Id(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ad(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Dd=new Map,Fd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=M.d;M.d={f:function(){var e=Wd.f(),t=Zc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ni(t):Wd.r(e)},D:function(e){Wd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var a=qd;if(a&&e&&t){var l='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(l+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(l+='[imagesizes="'+gt(n.imageSizes)+'"]')):l+='[href="'+gt(e)+'"]';var r=l;switch(t){case"style":r=$d(e);break;case"script":r=Jd(e)}Dd.has(r)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Dd.set(r,e),null!==a.querySelector(l)||"style"===t&&a.querySelector(Qd(r))||"script"===t&&a.querySelector(Yd(r))||(pd(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=qd;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",l='link[rel="modulepreload"][as="'+gt(a)+'"][href="'+gt(e)+'"]',r=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Jd(e)}if(!Dd.has(r)&&(e=h({rel:"modulepreload",href:e},t),Dd.set(r,e),null===n.querySelector(l))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(r)))return}pd(a=n.createElement("link"),"link",e),et(a),n.head.appendChild(a)}}},X:function(e,t){Wd.X(e,t);var n=qd;if(n&&e){var a=Ze(n).hoistableScripts,l=Jd(e),r=a.get(l);r||((r=n.querySelector(Yd(l)))||(e=h({src:e,async:!0},t),(t=Dd.get(l))&&ep(e,t),et(r=n.createElement("script")),pd(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}},S:function(e,t,n){Wd.S(e,t,n);var a=qd;if(a&&e){var l=Ze(a).hoistableStyles,r=$d(e);t=t||"default";var s=l.get(r);if(!s){var i={loading:0,preload:null};if(s=a.querySelector(Qd(r)))i.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dd.get(r))&&Zd(e,n);var o=s=a.createElement("link");et(o),pd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xd(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:i},l.set(r,s)}}},M:function(e,t){Wd.M(e,t);var n=qd;if(n&&e){var a=Ze(n).hoistableScripts,l=Jd(e),r=a.get(l);r||((r=n.querySelector(Yd(l)))||(e=h({src:e,async:!0,type:"module"},t),(t=Dd.get(l))&&ep(e,t),et(r=n.createElement("script")),pd(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}}};var qd="undefined"===typeof document?null:document;function Hd(e,t,n){var a=qd;if(a&&"string"===typeof t&&t){var l=gt(t);l='link[rel="'+e+'"][href="'+l+'"]',"string"===typeof n&&(l+='[crossorigin="'+n+'"]'),Fd.has(l)||(Fd.add(l),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(l)&&(pd(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function Vd(e,t,n,a){var l,r,i,o,c=(c=$.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$d(n.href),(a=(n=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$d(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dd.set(e,n),u||(l=c,r=e,i=n,o=d.state,l.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=l.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),pd(r,"link",i),et(r),l.head.appendChild(r))))),t&&null===a)throw Error(s(528,""));return d}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jd(n),(a=(n=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $d(e){return'href="'+gt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+gt(e)+'"]'}function Yd(e){return"script[async]"+e}function Gd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(a)return t.instance=a,et(a),a;var l=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),pd(a,"style",l),Xd(a,n.precedence,e),t.instance=a;case"stylesheet":l=$d(n.href);var r=e.querySelector(Qd(l));if(r)return t.state.loading|=4,t.instance=r,et(r),r;a=Kd(n),(l=Dd.get(l))&&Zd(a,l),et(r=(e.ownerDocument||e).createElement("link"));var i=r;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pd(r,"link",a),t.state.loading|=4,Xd(r,n.precedence,e),t.instance=r;case"script":return r=Jd(n.src),(l=e.querySelector(Yd(r)))?(t.instance=l,et(l),l):(a=n,(l=Dd.get(r))&&ep(a=h({},n),l),et(l=(e=e.ownerDocument||e).createElement("script")),pd(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Xd(a,n.precedence,e));return t.instance}function Xd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,r=l,s=0;s<a.length;s++){var i=a[s];if(i.dataset.precedence===t)r=i;else if(r!==l)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var a=new Map,l=tp=new Map;l.set(n,a)}else(a=(l=tp).get(n))||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var r=n[l];if(!(r[Ke]||r[Be]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var s=r.getAttribute(t)||"";s=e+s;var i=a.get(s);i?i.push(r):a.set(s,[r])}}return a}function ap(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function lp(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var rp=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)op(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ip=null;function op(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ip=new Map,t.forEach(cp,e),ip=null,sp.call(e))}function cp(e,t){if(!(4&t.state.loading)){var n=ip.get(e);if(n)var a=n.get(null);else{n=new Map,ip.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<l.length;r++){var s=l[r];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}s=(l=t.instance).getAttribute("data-precedence"),(r=n.get(s)||a)===a&&n.set(null,l),n.set(s,l),this.count++,a=sp.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),r?r.parentNode.insertBefore(l,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(l,e.firstChild),t.state.loading|=4}}var up={$$typeof:x,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function dp(e,t,n,a,l,r,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function pp(e,t,n,a,l,r,s,i,o,c,u,d){return e=new dp(e,t,n,s,o,c,u,d,i),t=1,!0===r&&(t|=24),r=Ua(3,null,null,t),e.current=r,r.stateNode=e,(t=Dl()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},vr(r),e}function hp(e){return e?e=Ia:Ia}function mp(e,t,n,a,l,r){l=hp(l),null===a.context?a.context=l:a.pendingContext=l,(a=br(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=_r(e,a,t))&&(Kc(n,0,t),yr(n,e,t))}function fp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vp(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function gp(e){if(13===e.tag||31===e.tag){var t=Oa(e,67108864);null!==t&&Kc(t,0,67108864),vp(e,67108864)}}function bp(e){if(13===e.tag||31===e.tag){var t=$c(),n=Oa(e,t=Ie(t));null!==n&&Kc(n,0,t),vp(e,t)}}var _p=!0;function yp(e,t,n,a){var l=z.T;z.T=null;var r=M.p;try{M.p=2,jp(e,t,n,a)}finally{M.p=r,z.T=l}}function xp(e,t,n,a){var l=z.T;z.T=null;var r=M.p;try{M.p=8,jp(e,t,n,a)}finally{M.p=r,z.T=l}}function jp(e,t,n,a){if(_p){var l=kp(a);if(null===l)td(e,t,a,wp,n),Mp(e,a);else if(function(e,t,n,a,l){switch(t){case"focusin":return Ep=Ip(Ep,e,t,n,a,l),!0;case"dragenter":return Tp=Ip(Tp,e,t,n,a,l),!0;case"mouseover":return Pp=Ip(Pp,e,t,n,a,l),!0;case"pointerover":var r=l.pointerId;return Rp.set(r,Ip(Rp.get(r)||null,e,t,n,a,l)),!0;case"gotpointercapture":return r=l.pointerId,Lp.set(r,Ip(Lp.get(r)||null,e,t,n,a,l)),!0}return!1}(l,e,t,n,a))a.stopPropagation();else if(Mp(e,a),4&t&&-1<zp.indexOf(e)){for(;null!==l;){var r=Ge(l);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var s=Se(r.pendingLanes);if(0!==s){var i=r;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var o=1<<31-ye(s);i.entanglements[1]|=o,s&=~o}Mu(r),0===(6&hc)&&(zc=oe()+500,Iu(0,!1))}}break;case 31:case 13:null!==(i=Oa(r,2))&&Kc(i,0,2),Zc(),vp(r,2)}if(null===(r=kp(a))&&td(e,t,a,wp,n),r===l)break;l=r}null!==l&&a.stopPropagation()}else td(e,t,a,null,n)}}function kp(e){return Np(e=zt(e))}var wp=null;function Np(e){if(wp=null,null!==(e=Ye(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wp=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case he:return 32;case me:return 268435456;default:return 32}default:return 32}}var Cp=!1,Ep=null,Tp=null,Pp=null,Rp=new Map,Lp=new Map,Op=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":Ep=null;break;case"dragenter":case"dragleave":Tp=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function Ip(e,t,n,a,l,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[l]},null!==t&&(null!==(t=Ge(t))&&gp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function Ap(e){var t=Ye(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void De(e.priority,function(){bp(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void De(e.priority,function(){bp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Up(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kp(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&gp(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Ot=a,n.target.dispatchEvent(a),Ot=null,t.shift()}return!0}function Dp(e,t,n){Up(e)&&n.delete(t)}function Fp(){Cp=!1,null!==Ep&&Up(Ep)&&(Ep=null),null!==Tp&&Up(Tp)&&(Tp=null),null!==Pp&&Up(Pp)&&(Pp=null),Rp.forEach(Dp),Lp.forEach(Dp)}function Bp(e,t){e.blockedOn===t&&(e.blockedOn=null,Cp||(Cp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Fp)))}var Wp=null;function qp(e){Wp!==e&&(Wp=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Wp===e&&(Wp=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if("function"!==typeof a){if(null===Np(a||n))continue;break}var r=Ge(n);null!==r&&(e.splice(t,3),t-=3,ei(r,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function Hp(e){function t(t){return Bp(t,e)}null!==Ep&&Bp(Ep,e),null!==Tp&&Bp(Tp,e),null!==Pp&&Bp(Pp,e),Rp.forEach(t),Lp.forEach(t);for(var n=0;n<Op.length;n++){var a=Op[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Op.length&&null===(n=Op[0]).blockedOn;)Ap(n),null===n.blockedOn&&Op.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var l=n[a],r=n[a+1],s=l[We]||null;if("function"===typeof r)s||qp(n);else if(s){var i=null;if(r&&r.hasAttribute("formAction")){if(l=r,s=r[We]||null)i=s.formAction;else if(null!==Np(l))continue}else i=s.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),qp(n)}}}function Vp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return l=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==l&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==l&&(l(),l=null)}}}function $p(e){this._internalRoot=e}function Qp(e){this._internalRoot=e}Qp.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mp(t.current,$c(),e,t,null,null)},Qp.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Zc(),t[qe]=null}},Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Op.length&&0!==t&&t<Op[n].priority;n++);Op.splice(n,0,e),0===n&&Ap(e)}};var Kp=l.version;if("19.2.0"!==Kp)throw Error(s(527,Kp,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(null===l)break;var r=l.alternate;if(null===r){if(null!==(a=l.return)){n=a;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===n)return d(l),e;if(r===a)return d(l),t;r=r.sibling}throw Error(s(188))}if(n.return!==a.return)n=l,a=r;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,a=r;break}if(c===a){i=!0,a=l,n=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===n){i=!0,n=r,a=l;break}if(c===a){i=!0,a=r,n=l;break}c=c.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Jp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{ge=Yp.inject(Jp),be=Yp}catch(Xp){}}t.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,a="",l=ki,r=wi,o=Ni;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,a,null,l,r,o,Vp),e[qe]=t.current,Zu(e),new $p(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var a=!1,l="",r=ki,o=wi,c=Ni,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=pp(e,1,!0,t,0,a,l,u,r,o,c,Vp)).context=hp(null),n=t.current,(l=br(a=Ie(a=$c()))).callback=null,_r(n,l,a),n=a,t.current.lanes=n,Le(t,n),Mu(t),e[qe]=t.current,Zu(e),new Qp(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var x=y.prototype=new _;x.constructor=y,v(x,b.prototype),x.isPureReactComponent=!0;var j=Array.isArray;function k(){}var w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function S(e,t,a){var l=a.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==l?l:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,l,r,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case p:return P((u=e._init)(e._payload),t,l,r,s)}}if(u)return s=s(e),u=""===r?"."+T(e,0):r,j(s)?(l="",null!=u&&(l=u.replace(E,"$&/")+"/"),P(s,t,l,"",function(e){return e})):null!=s&&(C(s)&&(o=s,c=l+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=S(o.type,c,o.props)),t.push(s)),1;u=0;var d,h=""===r?".":r+":";if(j(e))for(var f=0;f<e.length;f++)u+=P(r=e[f],t,l,i=h+T(r,f),s);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(r=e.next()).done;)u+=P(r=r.value,t,l,i=h+T(r,f++),s);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,l,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var a=[],l=0;return P(e,a,"","",function(e){return t.call(n,e,l++)}),a}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=z,t.Component=b,t.Fragment=l,t.Profiler=s,t.PureComponent=y,t.StrictMode=r,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=v({},e.props),l=e.key;if(null!=t)for(r in void 0!==t.key&&(l=""+t.key),t)!N.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(a[r]=t[r]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var s=Array(r),i=0;i<r;i++)s[i]=arguments[i+2];a.children=s}return S(e.type,l,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,l={},r=null;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)N.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(l[a]=t[a]);var s=arguments.length-2;if(1===s)l.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];l.children=i}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return S(e,r,l)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var a=e(),l=w.S;null!==l&&l(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(k,O)}catch(r){O(r)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(l(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=s.p;try{if(o.T=null,s.p=2,e)return e()}finally{o.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),l="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:r}):"script"===n&&s.d.X(e,{crossOrigin:a,integrity:l,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(e,t,a){var l=null;if(void 0!==a&&(l=""+a),void 0!==t.key&&(l=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:l,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=l,t.jsxs=l},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,l=e[a];if(!(0<r(l,t)))break e;e[a]=t,e[n]=l,n=a}}function a(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,l=e.length,s=l>>>1;a<s;){var i=2*(a+1)-1,o=e[i],c=i+1,u=e[c];if(0>r(o,n))c<l&&0>r(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<l&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,p=null,h=3,m=!1,f=!1,v=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=a(u);null!==t;){if(null===t.callback)l(u);else{if(!(t.startTime<=e))break;l(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function j(e){if(v=!1,x(e),!f)if(null!==a(c))f=!0,w||(w=!0,k());else{var t=a(u);null!==t&&L(j,t.startTime-e)}}var k,w=!1,N=-1,S=5,C=-1;function E(){return!!g||!(t.unstable_now()-C<S)}function T(){if(g=!1,w){var e=t.unstable_now();C=e;var n=!0;try{e:{f=!1,v&&(v=!1,_(N),N=-1),m=!0;var r=h;try{t:{for(x(e),p=a(c);null!==p&&!(p.expirationTime>e&&E());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var i=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){p.callback=i,x(e),n=!0;break t}p===a(c)&&l(c),x(e)}else l(c);p=a(c)}if(null!==p)n=!0;else{var o=a(u);null!==o&&L(j,o.startTime-e),n=!1}}break e}finally{p=null,h=r,m=!1}n=void 0}}finally{n?k():w=!1}}}if("function"===typeof y)k=function(){y(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,k=function(){R.postMessage(null)}}else k=function(){b(T,0)};function L(e,n){N=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,l,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:l,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>s?(e.sortIndex=r,n(u,e),null===a(c)&&e===a(u)&&(v?(_(N),N=-1):v=!0,L(j,r-s))):(e.sortIndex=i,n(c,e),f||m||(f=!0,w||(w=!0,k()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&l&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>a[e]);return s.default=()=>a,n.d(r,s),r}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".d7446e4a.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(a,l,r,s)=>{if(e[a])e[a].push(l);else{var i,o;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[l];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var l=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/youtube_production2/",(()=>{var e={792:0};n.f.j=(t,a)=>{var l=n.o(e,t)?e[t]:void 0;if(0!==l)if(l)a.push(l[2]);else{var r=new Promise((n,a)=>l=e[t]=[n,a]);a.push(l[2]=r);var s=n.p+n.u(t),i=new Error;n.l(s,a=>{if(n.o(e,t)&&(0!==(l=e[t])&&(e[t]=void 0),l)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,l[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var l,r,[s,i,o]=a,c=0;if(s.some(t=>0!==e[t])){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(o)o(n)}for(t&&t(a);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkfrontend=self.webpackChunkfrontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a,l=n(43),r=n.t(l,2),s=n(391),i=n(950),o=n.t(i,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,a){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function g(e,t,n,l){void 0===l&&(l={});let{window:r=document.defaultView,v5Compat:s=!1}=l,i=r.history,o=a.Pop,p=null,v=g();function g(){return(i.state||{idx:null}).idx}function b(){o=a.Pop;let e=g(),t=null==e?null:e-v;v=e,p&&p({action:o,location:y.location,delta:t})}function _(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,i.replaceState(c({},i.state,{idx:v}),""));let y={get action(){return o},get location(){return e(r,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(u,b),p=e,()=>{r.removeEventListener(u,b),p=null}},createHref:e=>t(r,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=a.Push;let l=m(y.location,e,t);n&&n(l,e),v=g()+1;let c=h(l,v),u=y.createHref(l);try{i.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(u)}s&&p&&p({action:o,location:y.location,delta:1})},replace:function(e,t){o=a.Replace;let l=m(y.location,e,t);n&&n(l,e),v=g();let r=h(l,v),c=y.createHref(l);i.replaceState(r,"",c),s&&p&&p({action:o,location:y.location,delta:0})},go:e=>i.go(e)};return y}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,a){let l=z(("string"===typeof t?v(t):t).pathname||"/",n);if(null==l)return null;let r=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let s=null;for(let i=0;null==s&&i<r.length;++i){let e=O(l);s=R(r[i],e,a)}return s}function x(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let l=(e,l,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let i=D([a,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),x(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of j(e.path))l(e,t,a);else l(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,l=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===a.length)return l?[r,""]:[r];let s=j(a.join("/")),i=[];return i.push(...s.map(e=>""===e?r:[r,e].join("/"))),l&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,w=3,N=2,S=1,C=10,E=-2,T=e=>"*"===e;function P(e,t){let n=e.split("/"),a=n.length;return n.some(T)&&(a+=E),t&&(a+=N),n.filter(e=>!T(e)).reduce((e,t)=>e+(k.test(t)?w:""===t?S:C),a)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,l={},r="/",s=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===r?t:t.slice(r.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!u&&o&&n&&!a[a.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(l,u.params),s.push({params:l,pathname:D([r,u.pathname]),pathnameBase:F(D([r,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(r=D([r,u.pathnameBase]))}return s}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),l+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":""!==e&&"/"!==e&&(l+="(?:(?=\\/|$))");let r=new RegExp(l,t?void 0:"i");return[r,a]}(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let r=l[0],s=r.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:l}=t;if("*"===a){let e=i[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[a]=l&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function M(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function A(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,a){let l;void 0===a&&(a=!1),"string"===typeof e?l=v(e):(l=c({},e),d(!l.pathname||!l.pathname.includes("?"),M("?","pathname","search",l)),d(!l.pathname||!l.pathname.includes("#"),M("#","pathname","hash",l)),d(!l.search||!l.search.includes("#"),M("#","search","hash",l)));let r,s=""===e||""===l.pathname,i=s?"/":l.pathname;if(null==i)r=n;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;l.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:l=""}="string"===typeof e?v(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:B(a),hash:W(l)}}(l,r),u=i&&"/"!==i&&i.endsWith("/"),p=(s||"."===i)&&n.endsWith("/");return o.pathname.endsWith("/")||!u&&!p||(o.pathname+="/"),o}const D=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}const Q=l.createContext(null);const K=l.createContext(null);const J=l.createContext(null);const Y=l.createContext(null);const G=l.createContext({outlet:null,matches:[],isDataRoute:!1});const X=l.createContext(null);function Z(){return null!=l.useContext(Y)}function ee(){return Z()||d(!1),l.useContext(Y).location}function te(e){l.useContext(J).static||l.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=l.useContext(G);return e?function(){let{router:e}=me(pe.UseNavigateStable),t=ve(he.UseNavigateStable),n=l.useRef(!1);return te(()=>{n.current=!0}),l.useCallback(function(a,l){void 0===l&&(l={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,$({fromRouteId:t},l)))},[e,t])}():function(){Z()||d(!1);let e=l.useContext(Q),{basename:t,future:n,navigator:a}=l.useContext(J),{matches:r}=l.useContext(G),{pathname:s}=ee(),i=JSON.stringify(A(r,n.v7_relativeSplatPath)),o=l.useRef(!1);return te(()=>{o.current=!0}),l.useCallback(function(n,l){if(void 0===l&&(l={}),!o.current)return;if("number"===typeof n)return void a.go(n);let r=U(n,JSON.parse(i),s,"path"===l.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:D([t,r.pathname])),(l.replace?a.replace:a.push)(r,l.state,l)},[t,a,i,s,e])}()}const ae=l.createContext(null);function le(){return l.useContext(ae)}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=l.useContext(J),{matches:r}=l.useContext(G),{pathname:s}=ee(),i=JSON.stringify(A(r,a.v7_relativeSplatPath));return l.useMemo(()=>U(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function se(e,t,n,r){Z()||d(!1);let{navigator:s}=l.useContext(J),{matches:i}=l.useContext(G),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let p,h=ee();if(t){var m;let e="string"===typeof t?v(t):t;"/"===u||(null==(m=e.pathname)?void 0:m.startsWith(u))||d(!1),p=e}else p=h;let f=p.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=_(e,{pathname:g});let y=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:D([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&y?l.createElement(Y.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:a.Pop}},y):y}function ie(){let e=function(){var e;let t=l.useContext(X),n=fe(he.UseRouteError),a=ve(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:r},n):null,null)}const oe=l.createElement(ie,null);class ce extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(G.Provider,{value:this.props.routeContext},l.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:a}=e,r=l.useContext(Q);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(G.Provider,{value:t},a)}function de(e,t,n,a){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let l=0;l<i.length;l++){let e=i[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=l),e.route.id){let{loaderData:t,errors:a}=n,l=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||l){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,a,r)=>{let s,d=!1,p=null,h=null;var m;n&&(s=o&&a.route.id?o[a.route.id]:void 0,p=a.route.errorElement||oe,c&&(u<0&&0===r?(m="route-fallback",!1||ge[m]||(ge[m]=!0),d=!0,h=null):u===r&&(d=!0,h=a.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,r+1)),v=()=>{let t;return t=s?p:d?h:a.route.Component?l.createElement(a.route.Component,null):a.route.element?a.route.element:e,l.createElement(ue,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?l.createElement(ce,{location:n.location,revalidation:n.revalidation,component:p,error:s,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pe||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=l.useContext(Q);return t||d(!1),t}function fe(e){let t=l.useContext(K);return t||d(!1),t}function ve(e){let t=function(){let e=l.useContext(G);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function _e(e){let{to:t,replace:n,state:a,relative:r}=e;Z()||d(!1);let{future:s,static:i}=l.useContext(J),{matches:o}=l.useContext(G),{pathname:c}=ee(),u=ne(),p=U(t,A(o,s.v7_relativeSplatPath),c,"path"===r),h=JSON.stringify(p);return l.useEffect(()=>u(JSON.parse(h),{replace:n,state:a,relative:r}),[u,h,r,n,a]),null}function ye(e){return function(e){let t=l.useContext(G).outlet;return t?l.createElement(ae.Provider,{value:e},t):t}(e.context)}function xe(e){d(!1)}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:s=a.Pop,navigator:i,static:o=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),p=l.useMemo(()=>({basename:u,navigator:i,static:o,future:$({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof r&&(r=v(r));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:b="default"}=r,_=l.useMemo(()=>{let e=z(h,u);return null==e?null:{location:{pathname:e,search:m,hash:f,state:g,key:b},navigationType:s}},[u,h,m,f,g,b,s]);return null==_?null:l.createElement(J.Provider,{value:p},l.createElement(Y.Provider,{children:n,value:_}))}function ke(e){let{children:t,location:n}=e;return se(we(t),n)}new Promise(()=>{});l.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return l.Children.forEach(e,(e,a)=>{if(!l.isValidElement(e))return;let r=[...t,a];if(e.type===l.Fragment)return void n.push.apply(n,we(e.props.children,r));e.type!==xe&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,r)),n.push(s)}),n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ne.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(e=>[n,e]):[[n,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Te=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Ka){}const Pe=l.createContext({isTransitioning:!1});new Map;const Re=r.startTransition;o.flushSync,r.useId;function Le(e){let{basename:t,children:n,future:a,window:r}=e,s=l.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:r,v5Compat:!0})&&(i={}),g(function(e,t){let{pathname:n,search:a,hash:l}=e.location;return m("",{pathname:n,search:a,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let o=s.current,[c,u]=l.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},p=l.useCallback(e=>{d&&Re?Re(()=>u(e)):u(e)},[u,d]);return l.useLayoutEffect(()=>o.listen(p),[o,p]),l.useEffect(()=>be(a),[a]),l.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=l.forwardRef(function(e,t){let n,{onClick:a,relative:r,reloadDocument:s,replace:i,state:o,target:c,to:u,preventScrollReset:p,viewTransition:h}=e,m=Se(e,Ee),{basename:v}=l.useContext(J),g=!1;if("string"===typeof u&&ze.test(u)&&(n=u,Oe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=z(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Ka){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:a,navigator:r}=l.useContext(J),{hash:s,pathname:i,search:o}=re(e,{relative:n}),c=i;return"/"!==a&&(c="/"===i?a:D([a,i])),r.createHref({pathname:c,search:o,hash:s})}(u,{relative:r}),_=function(e,t){let{target:n,replace:a,state:r,preventScrollReset:s,relative:i,viewTransition:o}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:i});return l.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:f(u)===f(d);c(e,{replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,d,a,r,n,e,s,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:p,relative:r,viewTransition:h});return l.createElement("a",Ne({},m,{href:n||b,onClick:g||s?a:function(e){a&&a(e),e.defaultPrevented||_(e)},ref:t,target:c}))});const Ie=l.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:c,children:u}=e,p=Se(e,Te),h=re(o,{relative:p.relative}),m=ee(),f=l.useContext(K),{navigator:v,basename:g}=l.useContext(J),b=null!=f&&function(e,t){void 0===t&&(t={});let n=l.useContext(Pe);null==n&&d(!1);let{basename:a}=De(Ae.useViewTransitionState),r=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=z(n.currentLocation.pathname,a)||n.currentLocation.pathname,i=z(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=L(r.pathname,i)||null!=L(r.pathname,s)}(h)&&!0===c,_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,y=m.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;a||(y=y.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&g&&(x=z(x,g)||x);const j="/"!==_&&_.endsWith("/")?_.length-1:_.length;let k,w=y===_||!s&&y.startsWith(_)&&"/"===y.charAt(j),N=null!=x&&(x===_||!s&&x.startsWith(_)&&"/"===x.charAt(_.length)),S={isActive:w,isPending:N,isTransitioning:b},C=w?n:void 0;k="function"===typeof r?r(S):[r,w?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof i?i(S):i;return l.createElement(Me,Ne({},p,{"aria-current":C,className:k,ref:t,style:E,to:o,viewTransition:c}),"function"===typeof u?u(S):u)});var Ae,Ue;function De(e){let t=l.useContext(Q);return t||d(!1),t}function Fe(e){let t=l.useRef(Ce(e)),n=l.useRef(!1),a=ee(),r=l.useMemo(()=>function(e,t){let n=Ce(e);return t&&t.forEach((e,a)=>{n.has(a)||t.getAll(a).forEach(e=>{n.append(a,e)})}),n}(a.search,n.current?null:t.current),[a.search]),s=ne(),i=l.useCallback((e,t)=>{const a=Ce("function"===typeof e?e(r):e);n.current=!0,s("?"+a,t)},[s,r]);return[r,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function We(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}function qe(e,t,n){return(t=We(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){qe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $e(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const Qe=e=>{const t=(()=>{const e=window.location.origin,t=window.location.pathname;return e.includes("github.io")&&t.startsWith("/youtube_production2")?"":"http://localhost:8000"})(),n=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(n)},Ke=["srt_files","position","belt"];const Je="";function Ye(e){return e.startsWith("http://")||e.startsWith("https://")?e:Qe(e)}async function Ge(e,t){var n;const a=await fetch(Ye(e),Ve(Ve({},t),{},{cache:"no-store",headers:Ve({"Content-Type":"application/json"},null!==(n=null===t||void 0===t?void 0:t.headers)&&void 0!==n?n:{})}));if(!a.ok){let e="".concat(a.status," ").concat(a.statusText);try{const t=await a.json();t.detail&&(e=t.detail)}catch(l){}throw new Error(e)}if(204!==a.status)return await a.json()}function Xe(){return Ge("/api/channels")}function Ze(e){return Ge("/api/channels/".concat(encodeURIComponent(e),"/profile"))}function et(e,t){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/tts/plain"))}function tt(e,t,n){const a={};var l;(void 0!==n.assembled_human&&(a.assembled_human=n.assembled_human),void 0!==n.script_audio_human&&(a.script_audio_human=n.script_audio_human),void 0!==n.audio_reviewed&&(a.audio_reviewed=n.audio_reviewed),void 0!==n.expectedUpdatedAt)&&(a.expected_updated_at=null!==(l=n.expectedUpdatedAt)&&void 0!==l?l:null);return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/scripts/human"),{method:"PUT",body:JSON.stringify(a)})}function nt(e){const t=e?"?channel=".concat(encodeURIComponent(e)):"";return Ge("/api/planning".concat(t))}function at(e,t,n,a){var l,r;const s={expected_updated_at:null!==a&&void 0!==a?a:null,regenerate_audio:null!==(l=n.regenerateAudio)&&void 0!==l&&l,update_assembled:null!==(r=n.updateAssembled)&&void 0!==r&&r};return"string"===typeof n.plainContent&&(s.content=n.plainContent),"string"===typeof n.taggedContent&&(s.tagged_content=n.taggedContent),n.contentMode&&(s.content_mode=n.contentMode),Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/tts"),{method:"PUT",body:JSON.stringify(s)})}function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={};var l;(void 0!==n.creationFlag&&(a.creation_flag=n.creationFlag),n.fields&&(a.fields=n.fields),void 0!==n.expectedUpdatedAt)&&(a.expected_updated_at=null!==(l=n.expectedUpdatedAt)&&void 0!==l?l:null);return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/planning"),{method:"PUT",body:JSON.stringify(a)})}function rt(e,t,n){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/tts/replace"),{method:"POST",body:JSON.stringify(n)})}function st(e,t){return Ge("/api/channels/".concat(e,"/videos/").concat(t,"/a-text"))}function it(e){return Ge("/api/audio-tts-v2/run",{method:"POST",body:JSON.stringify(e)})}function ot(){return Ge("/api/workspaces/thumbnails")}function ct(e){return Ge("/api/workspaces/thumbnails/".concat(encodeURIComponent(e),"/library"))}function ut(e){var t,n,a,l,r,s,i,o,c,u,d;const{srt_files:p,position:h,belt:m}=e;return Ve(Ve({},$e(e,Ke)),{},{channelId:e.channel_id,promptTemplate:null!==(t=null!==(n=e.promptTemplate)&&void 0!==n?n:e.prompt_template)&&void 0!==t?t:null,capcutTemplate:null!==(a=null!==(l=e.capcutTemplate)&&void 0!==l?l:e.capcut_template)&&void 0!==a?a:null,personaRequired:null!==(r=null!==(s=e.personaRequired)&&void 0!==s?s:e.persona_required)&&void 0!==r?r:void 0,imageMinBytes:null!==(i=null!==(o=e.imageMinBytes)&&void 0!==o?o:e.image_min_bytes)&&void 0!==i?i:void 0,position:null!==h&&void 0!==h?h:void 0,belt:null!==m&&void 0!==m?m:void 0,beltLabels:null!==(c=null!==(u=e.belt_labels)&&void 0!==u?u:e.beltLabels)&&void 0!==c?c:null,srtFiles:null!==(d=null===p||void 0===p?void 0:p.map(e=>({channelId:e.channel_id,name:e.name,relativePath:e.relative_path,size:e.size,modifiedTimeIso:e.modified_time_iso})))&&void 0!==d?d:void 0})}async function dt(){var e,t,n;const a=await Ge("/api/auto-draft/srts");return{items:(null!==(e=a.items)&&void 0!==e?e:[]).map(e=>({name:e.name,path:e.path})),inputRoot:null!==(t=null!==(n=a.input_root)&&void 0!==n?n:a.inputRoot)&&void 0!==t?t:""}}async function pt(){var e,t,n;const a=await Ge("/api/auto-draft/prompt-templates");return{items:null!==(e=a.items)&&void 0!==e?e:[],templateRoot:null!==(t=null!==(n=a.template_root)&&void 0!==n?n:a.templateRoot)&&void 0!==t?t:""}}function ht(e){return Ye(e)}function mt(){return Ge("/api/settings/llm")}function ft(e){return Ge("/api/settings/llm",{method:"PUT",body:JSON.stringify(e)})}async function vt(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new URLSearchParams;e&&t.set("include_srts","true");const n=t.toString(),a=n?"?".concat(n):"";return(await Ge("/api/video-production/channels".concat(a))).map(ut)}const gt={topic_research:"\u30ea\u30b5\u30fc\u30c1",script_outline:"\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3",script_draft:"\u53f0\u672c\u30c9\u30e9\u30d5\u30c8",script_enhancement:"\u30d6\u30e9\u30c3\u30b7\u30e5\u30a2\u30c3\u30d7",script_review:"\u30c9\u30e9\u30d5\u30c8\u7d71\u5408",quality_check:"\u54c1\u8cea\u30c1\u30a7\u30c3\u30af",script_validation:"\u53f0\u672c\u691c\u8a3c",script_polish_ai:"\u53f0\u672c\u4ed5\u4e0a\u3052",script_audio_ai:"\u97f3\u58f0\u7528\u8abf\u6574",script_tts_prepare:"\u97f3\u58f0\u539f\u7a3f\u6574\u5099",audio_synthesis:"\u97f3\u58f0\u5408\u6210",srt_generation:"\u5b57\u5e55\u751f\u6210",timeline_copy:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u53cd\u6620",image_generation:"\u753b\u50cf\u751f\u6210"},bt=["topic_research","script_outline","script_draft","script_enhancement","script_review","quality_check","script_validation","script_polish_ai","script_audio_ai","script_tts_prepare","audio_synthesis","srt_generation","timeline_copy","image_generation"],_t={pending:"\u672a\u7740\u624b",in_progress:"\u9032\u884c\u4e2d",blocked:"\u8981\u5bfe\u5fdc",review:"\u30ec\u30d3\u30e5\u30fc\u5f85\u3061",completed:"\u5b8c\u4e86",script_ready:"\u53f0\u672c\u6e96\u5099\u6e08\u307f",script_validated:"\u53f0\u672c\u30c1\u30a7\u30c3\u30af\u6e08\u307f",unknown:"\u672a\u8a2d\u5b9a"},yt={pending:"#9ca3af",in_progress:"#2563eb",blocked:"#dc2626",review:"#7c3aed",completed:"#16a34a",script_ready:"#0369a1",script_validated:"#4338ca",unknown:"#9ca3af"};function xt(e){var t;return null!==(t=gt[e])&&void 0!==t?t:e}function jt(e){var t;return e?null!==(t=_t[e])&&void 0!==t?t:e:_t.unknown}var kt=n(579);function wt(e,t){const n=t[e];return n||"pending"}function Nt(e){const t="completed"===wt("audio_synthesis",e),n="completed"===wt("srt_generation",e);if(t&&n)return null;for(const a of bt){const t=wt(a,e);if("completed"!==t&&"skipped"!==t)return a}return null}function St(e){let{stages:t}=e;const n=Nt(t);return(0,kt.jsx)("div",{className:"stage-progress",children:bt.map(e=>{var a,l;const r=wt(e,t),s=null!==(a=yt[r])&&void 0!==a?a:yt.unknown,i=n===e;return(0,kt.jsxs)("div",{className:"stage-progress__item",children:[(0,kt.jsx)("span",{className:i?"stage-progress__dot stage-progress__dot--current":"stage-progress__dot",style:{backgroundColor:s}}),(0,kt.jsxs)("div",{className:"stage-progress__labels",children:[(0,kt.jsx)("span",{className:"stage-progress__stage",children:null!==(l=gt[e])&&void 0!==l?l:e}),(0,kt.jsx)("span",{className:"stage-progress__status",children:jt(r)})]})]},e)})})}function Ct(e){return new Intl.NumberFormat("ja-JP").format(null!==e&&void 0!==e?e:0)}function Et(e,t){return t?"".concat(Math.round(e/t*100),"%"):"0%"}function Tt(e){return"number"!==typeof e||Number.isNaN(e)?"-":e>=1e8?"".concat((e/1e8).toFixed(1),"\u5104"):e>=1e4?"".concat((e/1e4).toFixed(1),"\u4e07"):Ct(e)}function Pt(e){let{channels:t,channelStats:n,selectedChannel:a,loading:r,error:s,onSelectChannel:i,variant:o="sidebar"}=e;const c=(0,l.useMemo)(()=>{const e=new Map;return null===n||void 0===n||n.forEach(t=>e.set(t.code,t)),e},[n]),u=e=>{a!==e&&i(e)},d="dashboard"===o?"channel-list channel-list--dashboard":"shell-panel shell-panel--sidebar",p="dashboard"===o?"channel-chip-grid":"channel-chip-list",h=e=>"dashboard"===o?"channel-chip channel-chip--dashboard".concat(e?" channel-chip--active":""):"channel-chip channel-chip--sidebar".concat(e?" channel-chip--active":"");return(0,kt.jsxs)("section",{className:d,children:["sidebar"===o?(0,kt.jsxs)("header",{className:"shell-panel__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"shell-panel__title",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7"}),(0,kt.jsxs)("p",{className:"shell-panel__subtitle",children:["\u5168 ",Ct(t.length)," \u30c1\u30e3\u30f3\u30cd\u30eb"]})]}),a?(0,kt.jsx)("button",{type:"button",className:"shell-link",onClick:()=>{i(null)},children:"\u3059\u3079\u3066\u8868\u793a"}):null]}):(0,kt.jsxs)("header",{className:"channel-list__header",children:[(0,kt.jsx)("h2",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u30b5\u30de\u30ea\u30fc"}),(0,kt.jsx)("p",{className:"muted small-text",children:"YouTube\u5074\u306e\u767b\u9332\u8005\u30fb\u6295\u7a3f\u6570\u3068\u5185\u90e8\u9032\u6357\u3092\u4e00\u76ee\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"})]}),r?(0,kt.jsx)("p",{className:"dashboard"===o?"channel-list__message":"shell-panel__message",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):null,s?(0,kt.jsxs)("p",{className:"dashboard"===o?"channel-list__message channel-list__message--error":"shell-panel__message shell-panel__message--error",children:["\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ",s]}):null,r||s?null:0===t.length?(0,kt.jsx)("p",{className:"dashboard"===o?"channel-list__message":"shell-panel__message",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"}):(0,kt.jsx)("div",{className:p,children:t.map(e=>{var t,n,l,r,s,i,d,p,m,f,v,g,b,_,y,x,j,k,w,N,S,C,E,T,P,R,L,O,z,M,I;const A=c.get(e.code),U=null!==(t=null!==(n=null!==(l=null===(r=e.branding)||void 0===r?void 0:r.title)&&void 0!==l?l:e.youtube_title)&&void 0!==n?n:e.name)&&void 0!==t?t:e.code,D=null!==(s=null!==(i=null===A||void 0===A?void 0:A.total)&&void 0!==i?i:e.video_count)&&void 0!==s?s:0,F=null!==(d=null===A||void 0===A?void 0:A.script_completed)&&void 0!==d?d:0,B=null!==(p=null===A||void 0===A?void 0:A.audio_completed)&&void 0!==p?p:0,W=null!==(m=null===A||void 0===A?void 0:A.ready_for_audio)&&void 0!==m?m:0,q=Math.max(D-B,0),H=Math.max(D-F,0),V=a===e.code,$=U.slice(0,2),Q=null!==(f=null===(v=e.branding)||void 0===v?void 0:v.avatar_url)&&void 0!==f?f:null,K=null!==(g=null===(b=e.branding)||void 0===b?void 0:b.theme_color)&&void 0!==g?g:null,J=null!==(_=null===(y=e.branding)||void 0===y?void 0:y.subscriber_count)&&void 0!==_?_:null,Y=null!==(x=null===(j=e.branding)||void 0===j?void 0:j.view_count)&&void 0!==x?x:null,G=null!==(k=null===(w=e.branding)||void 0===w?void 0:w.video_count)&&void 0!==k?k:null,X="string"===typeof e.genre&&e.genre.trim().length>0?e.genre.trim():null,Z=null!==(N=null===(S=e.branding)||void 0===S||null===(C=S.custom_url)||void 0===C?void 0:C.replace(/^\//,""))&&void 0!==N?N:null,ee=function(e){if(!e)return null;const t=e.trim();return t?t.startsWith("@")?t:"@".concat(t):null}(null!==(E=null!==(T=null!==(P=null===(R=e.branding)||void 0===R?void 0:R.handle)&&void 0!==P?P:e.youtube_handle)&&void 0!==T?T:null===(L=e.branding)||void 0===L?void 0:L.custom_url)&&void 0!==E?E:null),te=null!==(O=null===(z=e.branding)||void 0===z?void 0:z.url)&&void 0!==O?O:Z?"https://www.youtube.com/".concat(Z):null,ne=function(e){if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const n=t.getFullYear(),a="".concat(t.getMonth()+1).padStart(2,"0");return"".concat(n,"/").concat(a)}(null===(M=e.branding)||void 0===M?void 0:M.launch_date),ae=e.spreadsheet_id?"https://docs.google.com/spreadsheets/d/".concat(e.spreadsheet_id):null,le=[{key:"videos",icon:"\ud83d\uddc2\ufe0f",label:"\u6848\u4ef6\u6570",value:Ct(D)},{key:"script",icon:"\ud83d\udcdd",label:"\u53f0\u672c\u5b8c\u4e86",value:Et(F,D)},{key:"audio",icon:"\ud83c\udf99\ufe0f",label:"\u97f3\u58f0\u5b8c\u4e86",value:Et(B,D)},{key:"ready",icon:"\ud83d\udd0a",label:"\u97f3\u58f0\u6e96\u5099",value:Et(W,D)}],re=[];re.push({key:"ytVideos",icon:"\ud83d\udcfa",label:"\u6295\u7a3f\u6570",value:null!=G?Ct(G):"\u2014"}),re.push({key:"subs",icon:"\ud83d\udc65",label:"\u767b\u9332\u8005",value:null!=J?Tt(J):"\u2014"}),re.push({key:"views",icon:"\u25b6\ufe0f",label:"\u7dcf\u518d\u751f",value:null!=Y?Tt(Y):"\u2014"});const se=Q?{backgroundImage:"url(".concat(Q,")")}:K?{background:K}:void 0;return"sidebar"===o?(0,kt.jsx)("button",{type:"button",className:h(V),onClick:()=>u(e.code),"aria-label":"".concat(U," \u306e\u8a73\u7d30\u3092\u8868\u793a"),children:(0,kt.jsxs)("div",{className:"channel-sidebar-card",children:[(0,kt.jsxs)("div",{className:"channel-sidebar-card__row",children:[(0,kt.jsx)("div",{className:"channel-sidebar-card__avatar".concat(Q?" channel-sidebar-card__avatar--image":""),style:se,"aria-hidden":!0,children:Q?null:$}),(0,kt.jsxs)("div",{className:"channel-sidebar-card__texts",children:[(0,kt.jsx)("span",{className:"channel-sidebar-card__code",children:e.code}),(0,kt.jsx)("span",{className:"channel-sidebar-card__name",children:U}),X?(0,kt.jsx)("span",{className:"channel-sidebar-card__genre",children:X}):null]})]}),(0,kt.jsxs)("div",{className:"channel-sidebar-card__links",children:[ae?(0,kt.jsx)("a",{href:ae,className:"channel-sidebar-card__link",target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),children:"\u7ba1\u7406\u30b7\u30fc\u30c8 \u2197"}):(0,kt.jsx)("span",{className:"channel-sidebar-card__link channel-sidebar-card__link--disabled",children:"\u7ba1\u7406\u30b7\u30fc\u30c8\u60c5\u5831\u306a\u3057"}),te?(0,kt.jsx)("a",{href:te,className:"channel-sidebar-card__link",target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),children:"YouTube \u2197"}):null]})]})},e.code):(0,kt.jsxs)("button",{type:"button",className:h(V),onClick:()=>u(e.code),"aria-label":"".concat(U," \u306e\u8a73\u7d30\u3092\u8868\u793a"),children:[(0,kt.jsxs)("div",{className:"channel-chip__main",children:[(0,kt.jsxs)("div",{className:"channel-chip__header",children:[(0,kt.jsx)("div",{className:"channel-chip__avatar".concat(Q?" channel-chip__avatar--image":""),style:se,"aria-hidden":!0,children:Q?null:$}),(0,kt.jsxs)("div",{className:"channel-chip__info",children:[(0,kt.jsxs)("div",{className:"channel-chip__title-row",children:[(0,kt.jsx)("p",{className:"channel-chip__name",children:U}),(0,kt.jsx)("span",{className:"channel-chip__code",children:e.code})]}),X?(0,kt.jsx)("p",{className:"channel-chip__genre",children:X}):null,ee?(0,kt.jsx)("p",{className:"channel-chip__handle",children:ee}):null,ne?(0,kt.jsxs)("p",{className:"channel-chip__launch",children:["\u958b\u8a2d ",ne]}):null,te?(0,kt.jsx)("a",{className:"channel-chip__yt-link",href:te,onClick:e=>e.stopPropagation(),target:"_blank",rel:"noreferrer","aria-label":"".concat(null!==(I=e.name)&&void 0!==I?I:e.code," \u306eYouTube\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u958b\u304f"),children:"YouTube\u3092\u958b\u304f \u2197"}):null]})]}),(0,kt.jsxs)("div",{className:"channel-chip__section",children:[(0,kt.jsx)("span",{className:"channel-chip__section-title",children:"\u5236\u4f5c\u9032\u6357"}),(0,kt.jsx)("div",{className:"channel-chip__section-grid",children:le.map(e=>(0,kt.jsxs)("div",{className:"channel-chip__metric",children:[(0,kt.jsx)("span",{className:"channel-chip__metric-icon","aria-hidden":!0,children:e.icon}),(0,kt.jsx)("div",{className:"channel-chip__metric-label",children:e.label}),(0,kt.jsx)("div",{className:"channel-chip__metric-value",children:e.value})]},e.key))})]}),(0,kt.jsxs)("div",{className:"channel-chip__section channel-chip__section--youtube",children:[(0,kt.jsx)("span",{className:"channel-chip__section-title",children:"YouTube \u6307\u6a19"}),(0,kt.jsx)("div",{className:"channel-chip__section-grid",children:re.map(e=>(0,kt.jsxs)("div",{className:"channel-chip__metric",children:[(0,kt.jsx)("span",{className:"channel-chip__metric-icon","aria-hidden":!0,children:e.icon}),(0,kt.jsx)("div",{className:"channel-chip__metric-label",children:e.label}),(0,kt.jsx)("div",{className:"channel-chip__metric-value",children:e.value})]},e.key))})]})]}),(0,kt.jsxs)("div",{className:"channel-chip__badges",children:[H>0?(0,kt.jsxs)("span",{className:"channel-chip__badge",children:["\u53f0\u672c\u672a\u5b8c ",Ct(H)]}):null,q>0?(0,kt.jsxs)("span",{className:"channel-chip__badge",children:["\u97f3\u58f0\u672a\u5b8c ",Ct(q)]}):null,(0,kt.jsxs)("span",{className:"channel-chip__badge channel-chip__badge--ghost",children:["\u97f3\u58f0\u6e96\u5099 ",Ct(W)]})]})]},e.code)})})]})}const Rt=new Set(["completed","skipped"]),Lt=new Set(["failed","blocked"]);function Ot(e){return null!=e&&Rt.has(e)}function zt(e){return null!=e&&Lt.has(e)}function Mt(e){var t,n,a;const l=null!==(t=e.stages)&&void 0!==t?t:{},r=null!==(n=null===l||void 0===l?void 0:l.audio_synthesis)&&void 0!==n?n:null,s=null!==(a=null===l||void 0===l?void 0:l.srt_generation)&&void 0!==a?a:null,i=Ot(r),o=Ot(s);if("completed"===e.status||i&&o)return"completed";if(zt(r)||zt(s))return"pending";const c="object"===typeof e.metadata&&null!==e.metadata&&"boolean"===typeof e.metadata.ready_for_audio&&Boolean(e.metadata.ready_for_audio);return e.ready_for_audio||c?"ready":"pending"}const It=e=>{if(!e)return{getItem:()=>null,setItem:()=>{},removeItem:()=>{},clear:()=>{},isAvailable:!1};const t=(e,t)=>{try{return e()}catch(Ka){return console.warn("Storage not available in this context",Ka),t}};return{getItem:n=>t(()=>e.getItem(n),null),setItem:(n,a)=>t(()=>{e.setItem(n,a)},void 0),removeItem:n=>t(()=>{e.removeItem(n)},void 0),clear:()=>t(()=>{e.clear()},void 0),isAvailable:!0}},At=It("undefined"!==typeof window?window.localStorage:null),Ut=(It("undefined"!==typeof window?window.sessionStorage:null),["all","ready","not_ready"]),Dt=["overview","script","audio","history"],Ft=new Set(["completed","skipped"]),Bt=["script_polish_ai","script_validation","script_review","script_enhancement","script_draft","script_outline"];function Wt(e){return e&&Dt.includes(e)?e:null}function qt(e){try{return At.getItem(e)}catch(t){return null}}function Ht(e,t){try{At.setItem(e,t)}catch(n){}}function Vt(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP")}const $t={scriptFactory:{title:"\u53f0\u672c\u4f5c\u6210\uff08\u30d0\u30c3\u30c1\uff09",description:"progress/channels/CHxx.csv\uff08planning_store\uff09\u3092\u76f4\u63a5\u53c2\u7167\u3057\u3001\u4f5c\u6210\u30d5\u30e9\u30b0\u3084\u9032\u6357\u306b\u5fdc\u3058\u3066\u6848\u4ef6\u3092\u91cf\u7523\u30ad\u30e5\u30fc\u3078\u9001\u308a\u8fbc\u3080\u305f\u3081\u306e\u4e00\u89a7\u3067\u3059\u3002"},promptManager:{title:"\u30d7\u30ed\u30f3\u30d7\u30c8\u7ba1\u7406",description:"Qwen \u521d\u671f\u30d7\u30ed\u30f3\u30d7\u30c8\u306a\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u3092 UI \u304b\u3089\u7de8\u96c6\u3057\u3001\u30eb\u30fc\u30c8 prompts/ \u3068 commentary_01/prompts/ \u3092\u540c\u671f\u3055\u305b\u307e\u3059\u3002"},settings:{title:"\u8a2d\u5b9a",description:"OpenAI / OpenRouter \u306e API\u30ad\u30fc\u3084\u65e2\u5b9a\u30e2\u30c7\u30eb\u3092\u7ba1\u7406\u3057\u3001\u6700\u65b0\u306e\u30de\u30eb\u30c1\u30e2\u30fc\u30c0\u30eb\u69cb\u6210\u306b\u5207\u308a\u66ff\u3048\u307e\u3059\u3002"},channelWorkspace:{title:"\u53f0\u672c\u30fb\u97f3\u58f0\u5b57\u5e55\u7ba1\u7406",description:"\u65e2\u5b58\u306e\u53f0\u672c\u30fb\u97f3\u58f0\u30fb\u5b57\u5e55\u6210\u679c\u7269\u3092\u7de8\u96c6\u3057\u3001Ready \u72b6\u614b\u3092\u8abf\u6574\u3057\u307e\u3059\u3002"},channelSettings:{title:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8a73\u7d30\u8a2d\u5b9a",description:"\u4f01\u753b\u30c6\u30f3\u30d7\u30ec\u3084\u30da\u30eb\u30bd\u30ca\u3001planning \u884c\u306a\u3069\u30c1\u30e3\u30f3\u30cd\u30eb\u56fa\u6709\u306e SSOT \u60c5\u5831\u3092\u307e\u3068\u3081\u3066\u78ba\u8a8d\u30fb\u7de8\u96c6\u3067\u304d\u307e\u3059\u3002"},research:{title:"\u30ea\u30b5\u30fc\u30c1\u30cf\u30d6",description:"00_research \u306e\u6210\u679c\u7269\u3084\u8abf\u67fb\u30ed\u30b0\u3092\u53c2\u7167\u3057\u3001\u91cd\u8981\u306a\u30a4\u30f3\u30b5\u30a4\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"},thumbnails:{title:"\u30b5\u30e0\u30cd\u30a4\u30eb\u7ba1\u7406",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u6848\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3084\u63a1\u7528\u72b6\u6cc1\u3092\u6574\u7406\u3057\u3001\u30c9\u30e9\u30d5\u30c8\u306e\u5dee\u3057\u66ff\u3048\u3092\u7d20\u65e9\u304f\u884c\u3048\u307e\u3059\u3002"},jobs:{title:"\u30d0\u30c3\u30c1\u5b9f\u884c",description:"\u97f3\u58f0\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30b8\u30e7\u30d6\u3092\u30ad\u30e5\u30fc\u306b\u5165\u308c\u3066\u4e26\u5217\u5236\u5fa1\u3057\u307e\u3059\u3002\uff08\u5c06\u6765\u306e\u30d0\u30c3\u30c1UI\u7528\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\uff09"},audioReview:{title:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc",description:"\u5b8c\u6210\u6e08\u307f\u97f3\u58f0\u3092\u6a2a\u65ad\u7684\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3001\u518d\u751f\u6210\u3084\u5b57\u5e55\u8abf\u6574\u306e\u5fc5\u8981\u306a\u6848\u4ef6\u3092\u628a\u63e1\u3067\u304d\u307e\u3059\u3002"},capcutEdit:{title:"CapCut\u7de8\u96c6",description:"CapCut\u30c9\u30e9\u30d5\u30c8\u306e\u65b0\u898f\u4f5c\u6210\u3068\u3001\u65e2\u5b58\u30c9\u30e9\u30d5\u30c8\u306e\u753b\u50cf\u5dee\u3057\u66ff\u3048\u3092\u307e\u3068\u3081\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002"},audioTtsV2:{title:"Audio TTS v2",description:"audio_tts_v2 \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092 UI \u304b\u3089\u5b9f\u884c\u3057\u3001WAV/SRT \u3092\u751f\u6210\u3057\u307e\u3059\u3002"},audioIntegrity:{title:"\u97f3\u58f0\u30a2\u30bb\u30c3\u30c8\u6574\u5408\u6027",description:"audio_prep \u306b\u5fc5\u9808\u30d5\u30a1\u30a4\u30eb (b_text_with_pauses.txt / WAV / SRT) \u304c\u63c3\u3063\u3066\u3044\u308b\u304b\u3001\u97f3\u58f0\u3068SRT\u306e\u9577\u3055\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u4e00\u89a7\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002"},reports:{title:"\u30ec\u30dd\u30fc\u30c8",description:"\u30c1\u30e3\u30cd\u30eb\u6a2a\u65ad\u306e\u6307\u6a19\u3084\u5b9a\u671f\u30ec\u30dd\u30fc\u30c8\u3092\u96c6\u8a08\u4e2d\u3067\u3059\u3002\u66ab\u5b9a\u7684\u306b\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"}};function Qt(){var e,t,n;const a=ee(),r=ne(),[s,i]=Fe(),o=(0,l.useMemo)(()=>{return L("/channels/:channelCode/videos/:video",e=a.pathname)?"channelVideo":L("/channels/:channelCode",e)?"channel":L("/channel-workspace",e)?"channelWorkspace":L("/channel-settings",e)?"channelSettings":L("/projects",e)?"scriptFactory":L("/jobs",e)?"jobs":L("/research",e)?"research":L("/thumbnails",e)?"thumbnails":L("/prompts",e)?"promptManager":L("/settings",e)?"settings":L("/audio-review",e)?"audioReview":L("/capcut-edit/*",e)||L("/capcut-edit",e)?"capcutEdit":L("/audio-tts-v2",e)?"audioTtsV2":L("/audio-integrity",e)?"audioIntegrity":L("/reports",e)?"reports":"dashboard";var e},[a.pathname]),[c,u]=(0,l.useState)([]),[d,p]=(0,l.useState)(!1),[h,m]=(0,l.useState)(null),[f,v]=(0,l.useState)([]),[g,b]=(0,l.useState)(!1),[_,y]=(0,l.useState)(null),[x,j]=(0,l.useState)(null),[k,w]=(0,l.useState)(!1),[N,S]=(0,l.useState)(null),[C,E]=(0,l.useState)(!1),[T,P]=(0,l.useState)(null),[R,O]=(0,l.useState)(!1),[z,M]=(0,l.useState)(null),[I,A]=(0,l.useState)(()=>"undefined"===typeof window?null:qt("ui.channel.selected")),[U,D]=(0,l.useState)(null),[F,B]=(0,l.useState)(()=>{var e;return"undefined"===typeof window?"":null!==(e=qt("ui.video.keyword"))&&void 0!==e?e:""}),[W,q]=(0,l.useState)(()=>{return"undefined"===typeof window?"all":(e=qt("ui.video.readyFilter"))&&Ut.includes(e)?e:"all";var e}),[H,V]=(0,l.useState)(null),$=(0,l.useRef)("all"),[Q,K]=(0,l.useState)(()=>{if("undefined"===typeof window)return"script";const e=Wt(qt("ui.detail.tab"));return null!==e&&void 0!==e?e:"script"}),J=(0,l.useCallback)((e,t)=>{if(K(e),!1===(null===t||void 0===t?void 0:t.syncUrl)||"channelVideo"!==o)return;const n=new URLSearchParams(s),a=n.get("tab");"script"===e?null!==a&&(n.delete("tab"),i(n,{replace:!0})):a!==e&&(n.set("tab",e),i(n,{replace:!0}))},[o,s,i]),Y=(0,l.useRef)(I),G=L("/channels/:channelCode/videos/:video",a.pathname),X=L("/channels/:channelCode",a.pathname),Z=null!==(e=null!==(t=null===G||void 0===G?void 0:G.params.channelCode)&&void 0!==t?t:null===X||void 0===X?void 0:X.params.channelCode)&&void 0!==e?e:null,te=null!==(n=null===G||void 0===G?void 0:G.params.video)&&void 0!==n?n:null,ae=(0,l.useCallback)(async()=>{p(!0),m(null);try{const e=await Xe();u(e),A(t=>{var n,a;return Z||(t&&e.some(e=>e.code===t)?t:null!==(n=null===(a=e[0])||void 0===a?void 0:a.code)&&void 0!==n?n:null)})}catch(e){m(e instanceof Error?e.message:String(e))}finally{p(!1)}},[Z]),le=(0,l.useCallback)(async e=>{b(!0),y(null);try{const t=await function(e){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos"))}(e);v(t),D(e=>{var n,a;return te||(e&&t.some(t=>t.video===e)?e:null!==(n=null===(a=t[0])||void 0===a?void 0:a.video)&&void 0!==n?n:null)})}catch(t){y(t instanceof Error?t.message:String(t)),v([]),D(null)}finally{b(!1)}},[te]),re=(0,l.useCallback)(async(e,t)=>{w(!0),S(null);try{const n=await function(e,t){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t)))}(e,t);j(n)}catch(n){S(n instanceof Error?n.message:String(n)),j(null)}finally{w(!1)}},[]),se=(0,l.useCallback)(async()=>{O(!0),M(null);try{const e=await Ge("/api/dashboard/overview");P(e)}catch(e){M(e instanceof Error?e.message:String(e)),P(null)}finally{O(!1)}},[]);(0,l.useEffect)(()=>{ae(),se()},[ae,se]),(0,l.useEffect)(()=>{"undefined"!==typeof window&&Ht("ui.video.keyword",F)},[F]),(0,l.useEffect)(()=>{"undefined"!==typeof window&&Ht("ui.video.readyFilter",W)},[W]),(0,l.useEffect)(()=>{"undefined"!==typeof window&&(I?Ht("ui.channel.selected",I):function(e){try{At.removeItem(e)}catch(t){}}("ui.channel.selected"))},[I]),(0,l.useEffect)(()=>{const e=Y.current;if(Y.current=I,!I)return v([]),D(null),j(null),V(null),void(e&&(B(""),q("all")));V(null),le(I)},[I,le]),(0,l.useEffect)(()=>{I&&U?re(I,U):j(null)},[I,U,re]);const ie=(0,l.useMemo)(()=>{const e=F.trim().toLowerCase();return f.filter(t=>{var n,a,l;const r=Mt(t),s="pending"!==r,i=!e||(t.video.toLowerCase().includes(e)||(null!==(n=t.title)&&void 0!==n?n:"").toLowerCase().includes(e)),o="all"===W||("ready"===W?s:!s),c=null===H||("blocked"===H?Object.values(null!==(a=t.stages)&&void 0!==a?a:{}).some(e=>"blocked"===e):"review"===H?Object.values(null!==(l=t.stages)&&void 0!==l?l:{}).some(e=>"review"===e):"pending"===r);return i&&o&&c})},[f,F,W,H]),oe=(0,l.useMemo)(()=>{const e=new Map;return c.forEach(t=>{e.set(t.code,t)}),e},[c]),ce=(0,l.useMemo)(()=>{var e;return I&&null!==(e=oe.get(I))&&void 0!==e?e:null},[oe,I]),ue=(0,l.useMemo)(()=>{if(!I)return null;const e=f.length;if(0===e)return{total:0,scriptCompleted:0,audioSubtitleCompleted:0,readyForAudio:0,audioSubtitleBacklog:0};let t=0,n=0,a=0;f.forEach(e=>{var l;const r=null!==(l=e.stages)&&void 0!==l?l:{};Bt.some(e=>{var t;return Ft.has((null!==(t=r[e])&&void 0!==t?t:"").toLowerCase())})&&(t+=1);const s=Mt(e);"completed"===s?n+=1:"ready"===s&&(a+=1)});const l=Math.max(e-n-a,0);return{total:e,scriptCompleted:t,audioSubtitleCompleted:n,readyForAudio:a,audioSubtitleBacklog:l}},[I,f]),de=(0,l.useMemo)(()=>{var e;if(!x)return[];const t=[],n=Nt(null!==(e=x.stages)&&void 0!==e?e:{});if(n){var a,l;const e=wt(n,null!==(a=x.stages)&&void 0!==a?a:{});t.push({title:"\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30b8: ".concat(null!==(l=gt[n])&&void 0!==l?l:n),description:"\u72b6\u614b: ".concat(jt(e))})}const r=Mt(x),s="completed"===r?"\u5b8c\u4e86":"ready"===r?"\u6e96\u5099\u6e08\u307f":"\u672a\u6e96\u5099";var i;(t.push({title:"\u6848\u4ef6\u30b9\u30c6\u30fc\u30bf\u30b9: ".concat(jt(x.status)),description:"\u97f3\u58f0\u30fb\u5b57\u5e55: ".concat(s)}),x.audio_updated_at&&t.push({title:"\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0",description:x.audio_duration_seconds?"\u9577\u3055 ".concat(x.audio_duration_seconds.toFixed(1)," \u79d2"):void 0,timestamp:Vt(x.audio_updated_at)}),x.audio_quality_status)&&t.push({title:"\u54c1\u8cea\u30b9\u30c6\u30fc\u30bf\u30b9: ".concat(x.audio_quality_status),description:null!==(i=x.audio_quality_summary)&&void 0!==i?i:void 0,timestamp:Vt(x.audio_updated_at)});return t},[x]);(0,l.useEffect)(()=>{Z&&Z!==I&&A(Z)},[Z,I]),(0,l.useEffect)(()=>{te&&te!==U&&D(te)},[te,U]),(0,l.useEffect)(()=>{if("audioReview"!==o&&"scriptFactory"!==o&&"channelSettings"!==o)return;const e=new URLSearchParams(a.search),t=e.get("channel"),n=e.get("video");if(t){const e=t.trim().toUpperCase();e&&e!==I&&A(e)}if(n){const e=n.trim();e&&e!==U&&D(e)}},[a.search,I,U,o]),(0,l.useEffect)(()=>{if("channelVideo"!==o)return void K(e=>"script"===e?e:"script");const e=Wt(s.get("tab")),t=null!==e&&void 0!==e?e:"script";K(e=>e===t?e:t)},[o,s]),(0,l.useEffect)(()=>{"undefined"!==typeof window&&Ht("ui.detail.tab",Q)},[Q]);const pe=(0,l.useCallback)(e=>{A(e),D(null),j(null),J("script"),e?"scriptFactory"!==o?r("/channels/".concat(encodeURIComponent(e))):"/projects"!==a.pathname&&r("/projects"):"scriptFactory"!==o?r("/dashboard"):"/projects"!==a.pathname&&r("/projects")},[J,a.pathname,r,o]),he=(0,l.useCallback)(e=>{e?pe(e):"dashboard"!==o&&pe(null)},[pe,o]),me=(0,l.useCallback)(e=>{r("/channels/".concat(encodeURIComponent(e)))},[r]),fe=(0,l.useCallback)(e=>{const t=new URLSearchParams;t.set("filter","pendingAudio"),r(e?"/channels/".concat(encodeURIComponent(e),"?").concat(t.toString()):"/projects?".concat(t.toString()))},[r]),ve=(0,l.useCallback)(e=>{const t=new URLSearchParams;t.set("filter","blocked"),r(e?"/channels/".concat(encodeURIComponent(e),"?").concat(t.toString()):"/projects?".concat(t.toString()))},[r]),ge=(0,l.useCallback)(e=>{B(e)},[]),be=(0,l.useCallback)(e=>{q(e),"not_ready"!==e&&"pendingAudio"===H&&V(null)},[H]),_e=(0,l.useCallback)(()=>{V(e=>("pendingAudio"===e&&q($.current),null))},[]),xe=(0,l.useCallback)(e=>{null!==e?"pendingAudio"===e?(V(()=>"pendingAudio"),q(e=>"not_ready"!==e?($.current=e,"not_ready"):e)):V(e):_e()},[_e]),je=(0,l.useCallback)((e,t)=>{var n;const a=null!==(n=null!==I&&void 0!==I?I:Z)&&void 0!==n?n:null;if(!a)return null;const l=new URLSearchParams;t&&l.set("tab",t);const r=l.toString();return"/channels/".concat(encodeURIComponent(a),"/videos/").concat(encodeURIComponent(e)).concat(r?"?".concat(r):"")},[Z,I]),ke=(0,l.useCallback)(e=>{D(e);const t=je(e);t&&r(t)},[je,r]),we=(0,l.useCallback)(e=>{D(e),J("script");const t=je(e,"script");t&&r(t)},[J,je,r]),Ne=(0,l.useCallback)(e=>{D(e),J("audio");const t=je(e,"audio");t&&r(t)},[J,je,r]),Se=(0,l.useCallback)(async e=>{if(I&&U)try{const t=await e();return await re(I,U),await le(I),t}catch(t){throw(t instanceof Error?t.message:String(t)).includes("\u6700\u65b0\u306e\u60c5\u5831\u3092\u518d\u53d6\u5f97")&&(await re(I,U),await le(I)),t}},[re,le,I,U]),Ce=(0,l.useMemo)(()=>{var e;if(!I||!U)return null;const t=null!==(e=null===x||void 0===x?void 0:x.updated_at)&&void 0!==e?e:null;return{onSaveAssembled:e=>Se(()=>function(e,t,n,a){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/assembled"),{method:"PUT",body:JSON.stringify({content:n,expected_updated_at:null!==a&&void 0!==a?a:null})})}(I,U,e,t)),onSaveTts:e=>Se(()=>at(I,U,{plainContent:e.plainContent,taggedContent:e.taggedContent,contentMode:e.mode,regenerateAudio:e.regenerateAudio,updateAssembled:e.updateAssembled},t)),onValidateTts:e=>function(e,t,n){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/tts/validate"),{method:"POST",body:JSON.stringify({content:n})})}(I,U,e),onSaveSrt:e=>Se(()=>function(e,t,n,a){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/srt"),{method:"PUT",body:JSON.stringify({content:n,expected_updated_at:null!==a&&void 0!==a?a:null})})}(I,U,e,t)),onVerifySrt:e=>function(e,t){const n=new URLSearchParams({tolerance_ms:String(arguments.length>2&&void 0!==arguments[2]?arguments[2]:50)}).toString();return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/srt/verify").concat(n?"?".concat(n):""),{method:"POST"})}(I,U,null!==e&&void 0!==e?e:50),onUpdateStatus:e=>Se(()=>function(e,t,n,a){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/status"),{method:"PUT",body:JSON.stringify({status:n,expected_updated_at:null!==a&&void 0!==a?a:null})})}(I,U,e,t)),onUpdateReady:e=>Se(()=>function(e,t,n,a){return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/ready"),{method:"PUT",body:JSON.stringify({ready:n,expected_updated_at:null!==a&&void 0!==a?a:null})})}(I,U,e,t)),onUpdateStages:e=>Se(()=>function(e,t,n,a){const l={stages:Object.fromEntries(Object.entries(n).map(e=>{let[t,n]=e;return[t,{status:n}]})),expected_updated_at:null!==a&&void 0!==a?a:null};return Ge("/api/channels/".concat(encodeURIComponent(e),"/videos/").concat(encodeURIComponent(t),"/stages"),{method:"PUT",body:JSON.stringify(l)})}(I,U,e,t)),onReplaceTts:e=>Se(()=>rt(I,U,Ve(Ve({},e),{},{expected_updated_at:t})))}},[Se,I,U,null===x||void 0===x?void 0:x.updated_at]),Ee=(0,l.useMemo)(()=>{var e;return"dashboard"===o||"channel"===o||"channelVideo"===o?null:null!==(e=$t[o])&&void 0!==e?e:null},[o]),Te=(0,l.useMemo)(()=>Boolean("channelVideo"===o&&I&&U&&x),[o,I,U,x]),Pe={view:o,channels:c,channelsLoading:d,channelsError:h,dashboardOverview:T,dashboardLoading:R,dashboardError:z,selectedChannel:I,selectedChannelSummary:ce,selectedChannelSnapshot:ue,selectChannel:pe,selectChannelFromSidebar:he,navigateToChannel:me,videos:f,filteredVideos:ie,videosLoading:g,videosError:_,videoKeyword:F,setVideoKeyword:ge,readyFilter:W,setReadyFilter:be,summaryFilter:H,applySummaryFilter:xe,clearSummaryFilter:_e,selectedVideo:U,selectVideo:ke,openScript:we,openAudio:Ne,videoDetail:x,detailLoading:k,detailError:N,detailTab:Q,setDetailTab:J,shouldShowDetailPanel:Te,detailHandlers:Ce,hasUnsavedChanges:C,setHasUnsavedChanges:E,activityItems:de,handleFocusAudioBacklog:fe,handleFocusNeedsAttention:ve,placeholderPanel:Ee},Re=(0,l.useMemo)(()=>I&&U?"/audio-integrity?channel=".concat(I,"&video=").concat(U):"/audio-integrity",[I,U]),Le=(0,l.useMemo)(()=>[{key:"dashboard",label:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9",icon:"\ud83d\udcca",path:"/dashboard"},{key:"research",label:"\u30ea\u30b5\u30fc\u30c1",icon:"\ud83e\uddea",path:"/research"},{key:"thumbnails",label:"\u30b5\u30e0\u30cd\u30a4\u30eb",icon:"\ud83d\uddbc\ufe0f",path:"/thumbnails"},{key:"promptManager",label:"\u30d7\u30ed\u30f3\u30d7\u30c8",icon:"\ud83d\uddd2\ufe0f",path:"/prompts"},{key:"jobs",label:"\u30b8\u30e7\u30d6\u7ba1\u7406",icon:"\ud83d\udef0\ufe0f",path:"/jobs"},{key:"settings",label:"\u8a2d\u5b9a",icon:"\ud83d\udee0\ufe0f",path:"/settings"},{key:"channelSettings",label:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8a73\u7d30\u8a2d\u5b9a",icon:"\u2699\ufe0f",path:"/channel-settings"},{key:"scriptFactory",label:"\u53f0\u672c\u4f5c\u6210",icon:"\ud83d\udcdd",path:"/projects"},{key:"channelWorkspace",label:"\u53f0\u672c\u30fb\u97f3\u58f0\u5b57\u5e55\u7ba1\u7406",icon:"\ud83c\udf9b\ufe0f",path:"/channel-workspace"},{key:"audioReview",label:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc",icon:"\ud83c\udfa7",path:"/audio-review"},{key:"capcutEdit",label:"CapCut\u7de8\u96c6",icon:"\ud83c\udfac",path:"/capcut-edit"},{key:"audioTtsV2",label:"Audio TTS v2",icon:"\ud83d\udd0a",path:"/audio-tts-v2"},{key:"audioIntegrity",label:"\u97f3\u58f0\u6574\u5408\u6027",icon:"\ud83e\ude7a",path:Re},{key:"reports",label:"\u30ec\u30dd\u30fc\u30c8",icon:"\ud83d\udcc8",path:"/reports"}],[Re]),Oe=null===T||void 0===T?void 0:T.channels,ze=[];"thumbnails"===o&&ze.push("workspace--thumbnail-clean");const Me=["workspace",...ze].join(" ");return(0,kt.jsx)("div",{className:"app-shell",children:(0,kt.jsxs)("div",{className:Me,children:[(0,kt.jsxs)("aside",{className:"shell-sidebar",children:[(0,kt.jsx)("div",{className:"shell-sidebar__header",children:(0,kt.jsxs)("div",{className:"shell-sidebar__brand",children:[(0,kt.jsx)("span",{className:"shell-avatar","aria-hidden":!0,children:"QC"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"shell-sidebar__title",children:"AI \u5236\u4f5c\u30b9\u30bf\u30b8\u30aa"}),(0,kt.jsx)("p",{className:"shell-sidebar__subtitle",children:"\u54c1\u8cea\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb"})]})]})}),(0,kt.jsx)("nav",{className:"shell-nav","aria-label":"\u4e3b\u8981\u30e1\u30cb\u30e5\u30fc",children:Le.map(e=>{const t=a.pathname.startsWith("/channels")||a.pathname.startsWith("/channel-workspace"),n="channelWorkspace"===e.key;return(0,kt.jsxs)(Ie,{to:e.path,className:l=>{let{isActive:r}=l;return r||n&&t||"audioIntegrity"===e.key&&"/audio-integrity"===a.pathname?"shell-nav__item shell-nav__item--active":"shell-nav__item"},children:[(0,kt.jsx)("span",{className:"shell-nav__icon","aria-hidden":!0,children:e.icon}),(0,kt.jsx)("span",{children:e.label})]},e.key)})}),(0,kt.jsx)("div",{className:"shell-sidebar__content",children:(0,kt.jsxs)("div",{className:"shell-sidebar__scroll",children:[(0,kt.jsxs)("section",{className:"shell-panel shell-panel--sidebar",children:[(0,kt.jsx)("header",{className:"shell-panel__header",children:(0,kt.jsx)("div",{children:(0,kt.jsx)("h2",{className:"shell-panel__title",children:"\u95a2\u9023\u30b7\u30fc\u30c8"})})}),(0,kt.jsxs)("ul",{className:"sidebar-link-list",children:[(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{className:"sidebar-link",href:"https://docs.google.com/spreadsheets/d/1BABrIWO68_7GVSnBZUgi8YUt6eLwdT3KhX8t6N8qohQ/edit?gid=0",target:"_blank",rel:"noreferrer",children:"\u7dcf\u5408\u7ba1\u7406\u30b7\u30fc\u30c8 \u2197"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{className:"sidebar-link",href:"https://docs.google.com/spreadsheets/d/1tDM0W3qmvfjMGvpo3_6savBHViJ3qTm--Q4O48I0pbY/edit?gid=0",target:"_blank",rel:"noreferrer",children:"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u5206\u6790\u30b7\u30fc\u30c8 \u2197"})})]})]}),(0,kt.jsx)(Pt,{variant:"sidebar",channels:c,channelStats:Oe,selectedChannel:I,loading:d,error:h,onSelectChannel:he})]})}),(0,kt.jsxs)("footer",{className:"shell-sidebar__footer",children:[(0,kt.jsx)("button",{type:"button",className:"shell-footer__link",children:"\u30d8\u30eb\u30d7\u30bb\u30f3\u30bf\u30fc"}),(0,kt.jsx)("button",{type:"button",className:"shell-footer__link",children:"\u904b\u7528\u30ac\u30a4\u30c9"})]})]}),(0,kt.jsx)("main",{className:"workspace__main",children:(0,kt.jsx)(ye,{context:Pe})})]})})}function Kt(){const{channels:e,channelsLoading:t,channelsError:n,dashboardError:a,dashboardOverview:l,selectedChannel:r,selectChannel:s}=le();return(0,kt.jsxs)(kt.Fragment,{children:[t||n||a?(0,kt.jsxs)("div",{className:"main-status",children:[t?(0,kt.jsx)("span",{className:"status-chip",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,n?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:n}):null,a?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:a}):null]}):null,(0,kt.jsx)("section",{className:"main-content main-content--dashboard",children:(0,kt.jsx)(Pt,{variant:"dashboard",channels:e,channelStats:null===l||void 0===l?void 0:l.channels,selectedChannel:r,loading:t,error:n,onSelectChannel:e=>{s(e)}})})]})}const Jt=["sortValue"],Yt={"":"\u672a\u8a2d\u5b9a",0:"\u672a\u7740\u624b",1:"\u9032\u884c\u4e2d",2:"\u30dc\u30c4",3:"\u4fdd\u7559",9:"\u30ed\u30c3\u30af"},Gt={pending:"\u5f85\u6a5f\u4e2d",running:"\u5b9f\u884c\u4e2d",succeeded:"\u5b8c\u4e86",failed:"\u5931\u6557"},Xt={queued:"\u5f85\u6a5f",running:"\u5b9f\u884c\u4e2d",succeeded:"\u5b8c\u4e86",failed:"\u5931\u6557",cancelled:"\u30ad\u30e3\u30f3\u30bb\u30eb"},Zt={minCharacters:8e3,maxCharacters:12e3,llmModel:"",scriptPrompt:"",qualityTemplate:"",loopMode:!0,autoRetry:!0,debugLog:!1};function en(e){if(!e)return"\u2015";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP",{hour12:!1})}function tn(e){switch(e){case"queued":case"running":return"status-chip status-chip--warning";case"failed":return"status-chip status-chip--danger";default:return"status-chip"}}function nn(e){var t;if(!e.total_count||e.total_count<=0)return"\u9032\u6357\u4e0d\u660e";const n=null!==(t=e.processed_count)&&void 0!==t?t:0;return"".concat(n," / ").concat(e.total_count)}function an(e){return"2"===e||"9"===e}function ln(e){return"".concat(e.channel,"-").concat(e.video_number)}const rn="\u30bf\u30a4\u30c8\u30eb",sn="\u52d5\u753b\u756a\u53f7",on="\u52d5\u753bID",cn="\u4f5c\u6210\u30d5\u30e9\u30b0",un="\u9032\u6357",dn=[sn,rn,cn,un,on,"\u66f4\u65b0\u65e5\u6642"];function pn(e){if(!e)return null;const t=e.match(/(\d+)\s*\/\s*13/);if(!t)return null;const n=Number(t[1]);return Number.isNaN(n)?null:n}function hn(){var e,t,n,a,r,s,i;const{channels:o,channelsLoading:c,channelsError:u,selectedChannel:d,selectChannel:p,selectedChannelSummary:h}=le(),[m,f]=(0,l.useState)(null),[v,g]=(0,l.useState)(!1),[b,_]=(0,l.useState)(null),[y,x]=(0,l.useState)(new Set),[j,k]=(0,l.useState)(Zt),[w,N]=(0,l.useState)(!1),[S,C]=(0,l.useState)(null),[E,T]=(0,l.useState)(null),[P,R]=(0,l.useState)(null),[L,O]=(0,l.useState)([]),[z,M]=(0,l.useState)({}),[I,A]=(0,l.useState)({}),[U,D]=(0,l.useState)(null),[F,B]=(0,l.useState)([]),[W,q]=(0,l.useState)(!1),[H,V]=(0,l.useState)(null),[$,Q]=(0,l.useState)(null),[K,J]=(0,l.useState)(!1),[Y,G]=(0,l.useState)(null),[X,Z]=(0,l.useState)(null),[ee,te]=(0,l.useState)(0),[ne,ae]=(0,l.useState)([]),[re,se]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(null),[ce,ue]=(0,l.useState)(null),[de,pe]=(0,l.useState)(0);(0,l.useEffect)(()=>{let e=!1;return mt().then(t=>{var n,a;if(e)return;const l=null===(n=t.llm.phase_models)||void 0===n||null===(a=n.script_rewrite)||void 0===a?void 0:a.model;l&&k(e=>e.llmModel&&"qwen/qwen3-14b:free"!==e.llmModel?e:Ve(Ve({},e),{},{llmModel:l}))}).catch(e=>console.warn("Failed to load LLM settings",e)),()=>{e=!0}},[]),(0,l.useEffect)(()=>{if(!d)return f(null),_(null),x(new Set),C(null),T(null),O([]),M({}),A({}),D(null),void k(Zt);x(new Set);let e=!1;return g(!0),_(null),Ze(d).then(t=>{e||(f(t),k(e=>{var n,a,l,r,s;return Ve(Ve({},e),{},{minCharacters:null!==(n=t.default_min_characters)&&void 0!==n?n:e.minCharacters,maxCharacters:null!==(a=t.default_max_characters)&&void 0!==a?a:e.maxCharacters,llmModel:null!==(l=t.llm_model)&&void 0!==l?l:e.llmModel,scriptPrompt:null!==(r=t.script_prompt)&&void 0!==r?r:e.scriptPrompt,qualityTemplate:null!==(s=t.quality_check_template)&&void 0!==s?s:e.qualityTemplate})}))}).catch(t=>{e||(_(t instanceof Error?t.message:String(t)),f(null))}).finally(()=>{e||g(!1)}),()=>{e=!0}},[d]),(0,l.useEffect)(()=>{ue(null)},[d]),(0,l.useEffect)(()=>{let e=!1;return q(!0),V(null),nt().then(t=>{e||B(t)}).catch(t=>{e||(V(t instanceof Error?t.message:String(t)),B([]))}).finally(()=>{e||q(!1)}),()=>{e=!0}},[ee]),(0,l.useEffect)(()=>{let e=!1;se(!0),oe(null);return"0"==={NODE_ENV:"production",PUBLIC_URL:"/youtube_production2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:""}.REACT_APP_DISABLE_BATCH_QUEUE_POLLING?(function(e){const t=e?"?channel=".concat(encodeURIComponent(e)):"";return Ge("/api/batch-workflow/queue".concat(t))}().then(t=>{e||ae(t)}).catch(t=>{e||(oe(t instanceof Error?t.message:String(t)),ae([]))}).finally(()=>{e||se(!1)}),()=>{e=!0}):(se(!1),()=>{e=!0})},[de]),(0,l.useEffect)(()=>{if(!("0"==={NODE_ENV:"production",PUBLIC_URL:"/youtube_production2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:""}.REACT_APP_DISABLE_BATCH_QUEUE_POLLING))return()=>{};const e=setInterval(()=>{pe(e=>e+1)},7e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{if(S)return;const e=ne.find(e=>"running"===e.status&&e.task_id&&(!d||e.channel_code===d)),t=ne.find(e=>"running"===e.status&&e.task_id),n=null!==e&&void 0!==e?e:t;null!==n&&void 0!==n&&n.task_id&&(C(n.task_id),O([]))},[ne,d,S]);const he=(0,l.useMemo)(()=>{var e;return null!==(e=null===$||void 0===$?void 0:$.headers)&&void 0!==e?e:[]},[$]),me=(0,l.useMemo)(()=>{const e={};return he.forEach((t,n)=>{e[t]=n}),e},[he]),fe=(0,l.useMemo)(()=>{const e=new Set(he),t=dn.filter(t=>e.has(t)),n=he.filter(e=>!t.includes(e));return[...t,...n]},[he]),ve=(0,l.useMemo)(()=>{const e={};return fe.forEach((t,n)=>{e[t]=n}),e},[fe]),ge=null!==(e=ve[cn])&&void 0!==e?e:-1,be=null!==(t=ve[un])&&void 0!==t?t:-1,_e=(0,l.useMemo)(()=>{var e,t;if(!d||!$)return[];const n=null!==(e=ve[sn])&&void 0!==e?e:-1,a=null!==(t=ve[on])&&void 0!==t?t:-1;return $.rows.map((e,t)=>{const l=fe.map(t=>{const n=me[t],a=null==n?"":e[n];return null==a?"":String(a)}),r=n>=0?l[n]:"",s=a>=0?l[a]:"",i=s&&s.includes("-")?s.split("-").pop():void 0,o=function(e){if(!e)return null;const t=e.replace(/[^0-9]/g,"");return t?t.padStart(3,"0"):null}(r||i);return{rowIndex:t,key:o?"".concat(d,"-").concat(o):null,cells:l,sortValue:o?Number(o):Number.MAX_SAFE_INTEGER}}).sort((e,t)=>e.sortValue-t.sortValue).map(e=>{let{sortValue:t}=e;return $e(e,Jt)})},[d,$,me,fe,ve]),ye=(0,l.useMemo)(()=>{const e=new Map;return F.forEach(t=>{var n;const a=ln(t);e.set(a,null!==(n=z[a])&&void 0!==n?n:t.planning)}),e},[F,z]),xe=(0,l.useMemo)(()=>{const e=new Map;return F.forEach(t=>{const n=ln(t);if(!n)return;const a=pn(t.progress);null!=a&&e.set(n,a)}),e},[F]),je=(0,l.useMemo)(()=>{const e=new Map;return o.forEach(t=>{var n,a,l,r;const s=null!==(n=null!==(a=null!==(l=null===(r=t.branding)||void 0===r?void 0:r.title)&&void 0!==l?l:t.youtube_title)&&void 0!==a?a:t.name)&&void 0!==n?n:t.code;e.set(t.code,s)}),e},[o]),ke=(0,l.useCallback)(e=>{if(e.key){const t=xe.get(e.key);if(null!=t)return t>=9}if(be<0)return!1;const t=pn(e.cells[be]);return null!=t&&t>=9},[xe,be]);(0,l.useEffect)(()=>{if(!F.length)return x(new Set),M({}),void A({});const e=new Set(F.map(e=>ln(e)));x(t=>{const n=new Set;return t.forEach(t=>{e.has(t)&&n.add(t)}),n}),M(t=>{const n={};return Object.entries(t).forEach(t=>{let[a,l]=t;e.has(a)&&(n[a]=l)}),n}),A(t=>{const n={};return Object.entries(t).forEach(t=>{let[a,l]=t;e.has(a)&&(n[a]=l)}),n})},[F]),(0,l.useEffect)(()=>{if(!d)return;const e="".concat(d,"-"),t=new Set(_e.map(e=>e.key).filter(e=>Boolean(e)));x(n=>{const a=new Set(n);return Array.from(a).forEach(n=>{n.startsWith(e)&&!t.has(n)&&a.delete(n)}),a})},[_e,d]),(0,l.useEffect)(()=>{if(!d)return;const e="".concat(d,"-"),t=new Set;_e.forEach(n=>{n.key&&n.key.startsWith(e)&&(ke(n)||t.add(n.key))}),x(n=>{const a=new Set(n);return Array.from(a).forEach(t=>{t.startsWith(e)&&a.delete(t)}),t.forEach(e=>a.add(e)),a})},[d,_e,ke]),(0,l.useEffect)(()=>{if(!d)return Q(null),G(null),J(!1),void Z(null);let e=!1;var t;return J(!0),G(null),(t=d,Ge("/api/planning/spreadsheet?channel=".concat(encodeURIComponent(t)))).then(t=>{e||Q(t)}).catch(t=>{e||(G(t instanceof Error?t.message:String(t)),Q(null))}).finally(()=>{e||J(!1)}),()=>{e=!0}},[d,ee]),(0,l.useEffect)(()=>{if(!S)return;let e,t,n=!1;const a=async()=>{try{const a=await function(e){return Ge("/api/batch-workflow/".concat(encodeURIComponent(e)))}(S);if(n)return;T(a),"succeeded"!==a.status&&"failed"!==a.status||(e&&clearInterval(e),t&&clearInterval(t),pe(e=>e+1))}catch(a){if(n)return;R(a instanceof Error?a.message:String(a))}},l=async()=>{try{const e=await function(e){const t=new URLSearchParams({tail:String(arguments.length>1&&void 0!==arguments[1]?arguments[1]:200)}).toString();return Ge("/api/batch-workflow/".concat(encodeURIComponent(e),"/log").concat(t?"?".concat(t):""))}(S,400);if(n)return;O(e.lines)}catch(e){if(n)return;R(e instanceof Error?e.message:String(e))}};return a(),l(),e=setInterval(a,4e3),t=setInterval(l,3500),()=>{n=!0,e&&clearInterval(e),t&&clearInterval(t)}},[S]);const we=(0,l.useMemo)(()=>Array.from(y),[y]),Ne=(0,l.useMemo)(()=>_e.filter(e=>{if(!e.key)return!1;const t=ye.get(e.key);return!an(null===t||void 0===t?void 0:t.creation_flag)}).length,[_e,ye]),Se=(0,l.useCallback)(e=>{d?e.key?x(t=>{const n=new Set(t);return n.has(e.key)?n.delete(e.key):n.add(e.key),n}):D("\u52d5\u753b\u756a\u53f7\u304c\u672a\u8a2d\u5b9a\u306e\u884c\u306f\u9078\u629e\u3067\u304d\u307e\u305b\u3093\u3002"):D("\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002")},[d]),Ce=(0,l.useMemo)(()=>_e.filter(e=>{var t;return!!e.key&&(!ke(e)&&!an(null===(t=ye.get(e.key))||void 0===t?void 0:t.creation_flag))}).map(e=>e.key),[_e,ye,ke]),Ee=(0,l.useMemo)(()=>d?ne.filter(e=>e.channel_code===d):ne,[ne,d]),Te=Ee.length?Ee:ne,Pe=Boolean(d&&!Ee.length&&ne.length),Re=(0,l.useMemo)(()=>ne.filter(e=>"running"===e.status&&e.task_id).map(e=>({taskId:e.task_id,label:"".concat(e.channel_code," (").concat(nn(e),")"),channel:e.channel_code,status:e.status})),[ne]),Le=(0,l.useCallback)(()=>{d?x(new Set(_e.map(e=>e.key).filter(e=>Boolean(e)))):D("\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u307e\u3068\u3081\u3066\u9078\u629e\u3067\u304d\u307e\u3059\u3002")},[_e,d]),Oe=(0,l.useCallback)(()=>{d?x(new Set(Ce)):D("\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u307e\u3068\u3081\u3066\u9078\u629e\u3067\u304d\u307e\u3059\u3002")},[Ce,d]),ze=(0,l.useCallback)(()=>{x(new Set)},[]),Me=(0,l.useCallback)(()=>{te(e=>e+1),Z(null)},[]),Ie=(0,l.useCallback)((e,t,n)=>{const a=n.getBoundingClientRect(),l=window.scrollX||document.documentElement.scrollLeft,r=window.scrollY||document.documentElement.scrollTop;let s=a.left+l;s+420+16>l+window.innerWidth&&(s=l+window.innerWidth-420-16),s<16&&(s=16);const i=a.bottom+r+8;Z({header:e,content:t,position:{top:i,left:s}})},[]),Ae=(0,l.useCallback)(()=>{Z(null)},[]),Ue=(0,l.useCallback)(()=>{pe(e=>e+1)},[]),De=(0,l.useCallback)(async e=>{try{await function(e){return Ge("/api/batch-workflow/queue/".concat(e,"/cancel"),{method:"POST"})}(e),Ue()}catch(t){oe(t instanceof Error?t.message:String(t))}},[Ue]),Fe=(0,l.useCallback)(e=>{C(e),O([]),R(null)},[]),Be=e=>{const{name:t,value:n}=e.target,a=t,l=e.target instanceof HTMLInputElement&&"checkbox"===e.target.type,r=e.target instanceof HTMLInputElement&&"number"===e.target.type;k(t=>Ve(Ve({},t),{},{[a]:l?e.target.checked:r?Number(n):n}))};return(0,kt.jsxs)("div",{className:"script-factory",children:[(0,kt.jsxs)("section",{className:"script-factory__intro",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{children:"\u53f0\u672c\u4f5c\u6210\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9"}),(0,kt.jsx)("p",{children:"SSOT \u2192 CSV \u2192 Sheets \u306e\u4e00\u8cab\u30eb\u30fc\u30eb\u3092\u5b88\u308a\u3064\u3064\u3001\u91cf\u7523\u5bfe\u8c61\u306e\u4f01\u753b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6574\u3048\u3001Qwen \u7121\u6599\u30e2\u30c7\u30eb\u3067\u9023\u7d9a\u751f\u6210\u3057\u307e\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"script-factory__stats",children:[(0,kt.jsxs)("span",{children:["\u9078\u629e\u6e08\u307f ",y.size," \u4ef6"]}),(0,kt.jsxs)("span",{children:["\u9078\u629e\u5019\u88dc ",Ne," / ",_e.length]})]})]}),(0,kt.jsxs)("section",{className:"script-factory__channel-picker",children:[(0,kt.jsxs)("div",{className:"script-factory__channel-picker-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"\u5bfe\u8c61\u30c1\u30e3\u30f3\u30cd\u30eb"}),(0,kt.jsx)("p",{className:"muted small-text",children:"CSV \u30d3\u30e5\u30fc\u3067\u64cd\u4f5c\u3059\u308b\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),h?(0,kt.jsx)("span",{className:"script-factory__channel-pill",title:null!==(n=h.name)&&void 0!==n?n:h.code,children:null!==(a=h.name)&&void 0!==a?a:h.code}):null]}),c?(0,kt.jsx)("p",{className:"script-factory__empty",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):u?(0,kt.jsx)("p",{className:"script-factory__empty script-factory__empty--error",children:u}):(0,kt.jsx)("div",{className:"channel-chip-compact-grid",children:o.map(e=>{var t,n,a,l,r,s,i,o;const c=null!==(t=null!==(n=null!==(a=null===(l=e.branding)||void 0===l?void 0:l.title)&&void 0!==a?a:e.youtube_title)&&void 0!==n?n:e.name)&&void 0!==t?t:e.code,u=null!==(r=null===(s=e.branding)||void 0===s?void 0:s.avatar_url)&&void 0!==r?r:null,h=null!==(i=null===(o=e.branding)||void 0===o?void 0:o.theme_color)&&void 0!==i?i:"#e2e8f0",m=d===e.code;return(0,kt.jsxs)("button",{type:"button",className:"channel-chip channel-chip--compact".concat(m?" channel-chip--active":""),onClick:()=>p(e.code),"aria-label":"".concat(c," \u3092\u9078\u629e"),children:[(0,kt.jsx)("div",{className:"channel-chip__avatar".concat(u?" channel-chip__avatar--image":""),style:u?{backgroundImage:"url(".concat(u,")")}:{background:h},"aria-hidden":!0,children:u?null:c.slice(0,2)}),(0,kt.jsxs)("div",{className:"channel-chip__info channel-chip__info--compact",children:[(0,kt.jsx)("p",{className:"channel-chip__name",title:c,children:c}),(0,kt.jsx)("span",{className:"channel-chip__code",children:e.code})]})]},e.code)})})]}),(0,kt.jsx)("section",{className:"script-factory__workspace",children:(0,kt.jsxs)("div",{className:"script-factory__grid",children:[(0,kt.jsxs)("article",{className:"script-factory__panel script-factory__panel--csv",children:[(0,kt.jsxs)("header",{className:"script-factory__panel-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"CSV \u30d3\u30e5\u30fc\uff08\u4f01\u753b\u4e00\u89a7\uff09"}),(0,kt.jsx)("p",{className:"muted small-text",children:"\u4f5c\u6210\u30d5\u30e9\u30b0\u3068\u4efb\u610f\u5217\u306f progress/channels/CHxx.csv\uff08planning_store\uff09\u3092\u76f4\u63a5\u53c2\u7167\u3057\u3066\u3044\u307e\u3059\u3002\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306f\u91cf\u7523 API \u3078\u305d\u306e\u307e\u307e\u6e21\u3055\u308c\u307e\u3059\u3002"}),h?(0,kt.jsxs)("p",{className:"muted small-text",children:["\u5bfe\u8c61\u30c1\u30e3\u30f3\u30cd\u30eb: ",null!==(r=h.name)&&void 0!==r?r:h.code]}):null]}),(0,kt.jsxs)("div",{className:"script-factory__actions",children:[(0,kt.jsx)("button",{type:"button",onClick:Me,disabled:W||K,children:"CSV\u518d\u8aad\u307f\u8fbc\u307f"}),(0,kt.jsx)("button",{type:"button",onClick:Oe,disabled:!_e.length,children:"\u30da\u30f3\u30c7\u30a3\u30f3\u30b0\u4ee5\u5916\u3092\u9078\u629e"}),(0,kt.jsx)("button",{type:"button",onClick:Le,disabled:!_e.length,children:"\u5168\u4ef6\u9078\u629e"}),(0,kt.jsx)("button",{type:"button",onClick:ze,disabled:0===y.size,children:"\u30af\u30ea\u30a2"})]})]}),H?(0,kt.jsxs)("p",{className:"script-factory__empty script-factory__empty--error",children:["\u4f01\u753b\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ",H]}):null,d?K?(0,kt.jsx)("p",{className:"script-factory__empty",children:"CSV \u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):Y?(0,kt.jsx)("p",{className:"script-factory__empty script-factory__empty--error",children:Y}):0===_e.length?(0,kt.jsx)("p",{className:"script-factory__empty",children:"CSV \u306b\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002"}):(0,kt.jsxs)("div",{className:"script-factory__table-wrapper",children:[U?(0,kt.jsx)("p",{className:"script-factory__message",children:U}):null,(0,kt.jsxs)("table",{className:"script-factory__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{"aria-label":"select"}),fe.map(e=>{let t;return e===rn?t="script-factory__th-title":e===un&&(t="script-factory__th-progress"),(0,kt.jsx)("th",{className:t,children:e},e)})]})}),(0,kt.jsx)("tbody",{children:_e.map(e=>{var t,n,a;const l=null!==(t=e.key)&&void 0!==t?t:"row-".concat(e.rowIndex),r=!!e.key&&y.has(e.key),s=e.key?null!==(n=null===(a=ye.get(e.key))||void 0===a?void 0:a.creation_flag)&&void 0!==n?n:ge>=0?e.cells[ge]:"":"";return(0,kt.jsxs)("tr",{className:r?"script-factory__row--selected":void 0,onClick:()=>Se(e),children:[(0,kt.jsx)("td",{children:(0,kt.jsx)("input",{type:"checkbox",checked:r,disabled:!e.key,onChange:()=>Se(e),onClick:e=>e.stopPropagation(),"aria-label":"".concat(l," \u3092\u9078\u629e")})}),e.cells.map((t,n)=>{var a;const r=null!==(a=fe[n])&&void 0!==a?a:"col-".concat(n);var i;if(n===ge&&e.key)return(0,kt.jsx)("td",{children:(0,kt.jsxs)("div",{className:"script-factory__flag-cell",children:[(0,kt.jsx)("span",{className:"flag-chip flag-".concat((s||"default").trim()),children:null!==(i=Yt[null!==s&&void 0!==s?s:""])&&void 0!==i?i:s||"\u2014"}),(0,kt.jsx)("select",{value:null!==s&&void 0!==s?s:"",disabled:I[e.key],onChange:t=>(async(e,t)=>{if(!e.key)return;const[n,a]=e.key.split("-");D(null),A(t=>Ve(Ve({},t),{},{[e.key]:!0}));try{const l=await lt(n,a,{creationFlag:t,expectedUpdatedAt:null});M(t=>Ve(Ve({},t),{},{[e.key]:l.planning})),B(e=>e.map(e=>e.channel===n&&e.video_number===a?Ve(Ve({},e),{},{planning:l.planning}):e)),an(l.planning.creation_flag)&&x(t=>{if(!e.key||!t.has(e.key))return t;const n=new Set(t);return n.delete(e.key),n}),ge>=0&&Q(n=>{if(!n)return n;const a=n.rows.map((n,a)=>{if(a!==e.rowIndex)return n;const l=[...n];return l[ge]=t,l});return Ve(Ve({},n),{},{rows:a})}),D("\u4f5c\u6210\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002")}catch(l){D(l instanceof Error?l.message:String(l))}finally{A(t=>Ve(Ve({},t),{},{[e.key]:!1}))}})(e,t.target.value),onClick:e=>e.stopPropagation(),children:Object.entries(Yt).map(e=>{let[t,n]=e;return(0,kt.jsx)("option",{value:t,children:n},t)})})]})},"".concat(l,"-").concat(r));let o;if(r===rn?o="script-factory__td-title":r===un&&(o="script-factory__td-progress"),!t)return(0,kt.jsx)("td",{className:o,children:(0,kt.jsx)("span",{className:"muted",children:"\u2014"})},"".concat(l,"-").concat(r));const c=t.length>80;return(0,kt.jsx)("td",{className:o,children:(0,kt.jsx)("div",{className:"script-factory__cell-text".concat(c?" script-factory__cell-text--truncated":""),role:"button",tabIndex:0,onClick:e=>Ie(r,t,e.currentTarget),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Ie(r,t,e.currentTarget))},title:"\u30af\u30ea\u30c3\u30af\u3067\u5168\u6587\u3092\u8868\u793a",children:t})},"".concat(l,"-").concat(r))})]},l)})})]})]}):(0,kt.jsx)("p",{className:"script-factory__empty",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u6700\u65b0\u306e CSV \u3092\u8868\u793a\u3057\u307e\u3059\u3002"})]}),(0,kt.jsxs)("article",{className:"script-factory__panel",children:[(0,kt.jsx)("header",{className:"script-factory__panel-header",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"\u53f0\u672c\u91cf\u7523\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,kt.jsx)("p",{className:"muted small-text",children:"ChannelProfile \u304b\u3089\u30da\u30eb\u30bd\u30ca\uff0f\u53f0\u672c\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u53d6\u5f97\u3057\u3001\u5b9f\u884c\u524d\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002"})]})}),(0,kt.jsxs)("form",{className:"script-factory__form",onSubmit:async e=>{if(e.preventDefault(),d)if(0!==y.size){N(!0),R(null),ue(null);try{const e={channel_code:d,video_numbers:Array.from(y).filter(e=>e.startsWith("".concat(d,"-"))).map(e=>e.split("-",2)[1]).sort((e,t)=>Number(e)-Number(t)),config:{min_characters:Number(j.minCharacters)||Zt.minCharacters,max_characters:Number(j.maxCharacters)||Zt.maxCharacters,script_prompt_template:j.scriptPrompt||void 0,quality_check_template:j.qualityTemplate||void 0,llm_model:j.llmModel||void 0,loop_mode:!!j.loopMode,auto_retry:!!j.autoRetry,debug_log:!!j.debugLog}};await function(e){return Ge("/api/batch-workflow/queue",{method:"POST",body:JSON.stringify(e)})}(e),ue("".concat(d," \u306b ").concat(e.video_numbers.length," \u4ef6\u306e\u53f0\u672c\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002")),Ue()}catch(t){R(t instanceof Error?t.message:String(t))}finally{N(!1)}}else R("\u53f0\u672c\u30921\u4ef6\u4ee5\u4e0a\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002");else R("\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002")},children:[(0,kt.jsxs)("div",{className:"form-grid",children:[(0,kt.jsxs)("label",{children:["\u6700\u5c0f\u6587\u5b57\u6570",(0,kt.jsx)("input",{type:"number",name:"minCharacters",min:1e3,value:j.minCharacters,onChange:Be})]}),(0,kt.jsxs)("label",{children:["\u6700\u5927\u6587\u5b57\u6570",(0,kt.jsx)("input",{type:"number",name:"maxCharacters",min:1e3,value:j.maxCharacters,onChange:Be})]}),(0,kt.jsxs)("label",{children:["LLM\u30e2\u30c7\u30eb",(0,kt.jsx)("input",{type:"text",name:"llmModel",value:j.llmModel,onChange:Be})]}),(0,kt.jsxs)("label",{className:"checkbox-field",children:[(0,kt.jsx)("input",{type:"checkbox",name:"loopMode",checked:j.loopMode,onChange:Be}),"\u30eb\u30fc\u30d7\u30e2\u30fc\u30c9\uff08\u5b8c\u4e86\u5f8c\u306b\u6b21\u3078\u81ea\u52d5\u9077\u79fb\uff09"]}),(0,kt.jsxs)("label",{className:"checkbox-field",children:[(0,kt.jsx)("input",{type:"checkbox",name:"autoRetry",checked:j.autoRetry,onChange:Be}),"\u81ea\u52d5\u30ea\u30c8\u30e9\u30a4"]})]}),(0,kt.jsxs)("label",{children:["\u53f0\u672c\u30d7\u30ed\u30f3\u30d7\u30c8",(0,kt.jsx)("textarea",{name:"scriptPrompt",rows:8,value:j.scriptPrompt,onChange:Be,placeholder:"channel_info \u306e script_prompt \u3092\u81ea\u52d5\u6295\u5165"})]}),(0,kt.jsxs)("label",{children:["\u54c1\u8cea\u30c1\u30a7\u30c3\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\uff08\u4efb\u610f\uff09",(0,kt.jsx)("textarea",{name:"qualityTemplate",rows:4,value:j.qualityTemplate,onChange:Be})]}),(0,kt.jsxs)("div",{className:"script-factory__selection-summary",children:[(0,kt.jsx)("strong",{children:"\u5bfe\u8c61\u53f0\u672c:"})," ",we.length?we.join(", "):"(\u672a\u9078\u629e)"]}),P?(0,kt.jsx)("p",{className:"script-factory__error",children:P}):null,(0,kt.jsx)("button",{type:"submit",className:"primary-button",disabled:w||!d||0===y.size,children:w?"\u767b\u9332\u4e2d\u2026":"\u30d0\u30c3\u30c1\u767b\u9332\uff08\u30ad\u30e5\u30fc\u306b\u8ffd\u52a0\uff09"})]}),(0,kt.jsxs)("section",{className:"script-factory__profile",children:[(0,kt.jsxs)("header",{children:[(0,kt.jsx)("h3",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u30da\u30eb\u30bd\u30ca"}),v?(0,kt.jsx)("span",{className:"status-chip",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,b?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:b}):null]}),m?(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"muted small-text",children:null!==(s=m.channel_name)&&void 0!==s?s:m.channel_code}),(0,kt.jsx)("pre",{className:"script-factory__persona-block",children:m.persona_summary||"\u30da\u30eb\u30bd\u30ca\u60c5\u5831\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"})]}):(0,kt.jsx)("p",{className:"muted",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u9078\u629e\u5f8c\u306b\u30da\u30eb\u30bd\u30ca\u3092\u8868\u793a\u3057\u307e\u3059\u3002"})]})]}),(0,kt.jsxs)("article",{className:"script-factory__panel script-factory__panel--queue",children:[(0,kt.jsxs)("header",{className:"script-factory__panel-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"\u30d0\u30c3\u30c1\u767b\u9332\u30ad\u30e5\u30fc"}),(0,kt.jsx)("p",{className:"muted small-text",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u5358\u4f4d\u3067\u81ea\u52d5\u7684\u306b\u76f4\u5217\u5b9f\u884c\u3057\u307e\u3059\u3002\u8907\u6570\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u540c\u6642\u306b\u767b\u9332\u3057\u3066\u3082\u3001\u305d\u308c\u305e\u308c\u72ec\u7acb\u306b\u9032\u884c\u3057\u307e\u3059\u3002"})]}),(0,kt.jsx)("div",{className:"script-factory__actions",children:(0,kt.jsx)("button",{type:"button",onClick:Ue,disabled:re,children:"\u6700\u65b0\u5316"})})]}),ce?(0,kt.jsx)("p",{className:"script-factory__message",children:ce}):null,re?(0,kt.jsx)("p",{className:"script-factory__empty",children:"\u30ad\u30e5\u30fc\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):null,ie?(0,kt.jsx)("p",{className:"script-factory__empty script-factory__empty--error",children:ie}):null,re||ie||0!==Te.length?null:(0,kt.jsx)("p",{className:"script-factory__empty",children:"\u767b\u9332\u6e08\u307f\u306e\u30d0\u30c3\u30c1\u306f\u3042\u308a\u307e\u305b\u3093\u3002"}),!re&&Te.length>0?(0,kt.jsxs)(kt.Fragment,{children:[Pe?(0,kt.jsxs)("p",{className:"muted small-text",children:["\u9078\u629e\u30c1\u30e3\u30f3\u30cd\u30eb ",null!==d&&void 0!==d?d:" \u2015 "," \u306e\u767b\u9332\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5168\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30ad\u30e5\u30fc\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002"]}):null,(0,kt.jsx)("div",{className:"script-factory__queue-table-wrapper",children:(0,kt.jsxs)("table",{className:"script-factory__queue-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb"}),(0,kt.jsx)("th",{children:"\u5bfe\u8c61\u53f0\u672c"}),(0,kt.jsx)("th",{children:"\u9032\u6357"}),(0,kt.jsx)("th",{children:"\u72b6\u614b"}),(0,kt.jsx)("th",{children:"\u66f4\u65b0"}),(0,kt.jsx)("th",{children:"\u64cd\u4f5c"})]})}),(0,kt.jsx)("tbody",{children:Te.map(e=>{var t,n;const a=null!==(t=je.get(e.channel_code))&&void 0!==t?t:e.channel_code,l=e.video_numbers.slice(0,5).join(", "),r=e.video_numbers.length-5,s=!!d&&e.channel_code===d;return(0,kt.jsxs)("tr",{className:s?"queue-row--active":void 0,children:[(0,kt.jsx)("td",{children:(0,kt.jsxs)("div",{className:"script-factory__queue-channel",children:[(0,kt.jsx)("span",{className:"script-factory__queue-channel-code",children:e.channel_code}),(0,kt.jsx)("span",{className:"script-factory__queue-channel-name",title:a,children:a})]})}),(0,kt.jsx)("td",{children:(0,kt.jsxs)("div",{className:"script-factory__queue-videos",title:e.video_numbers.join(", "),children:[(0,kt.jsxs)("strong",{children:[e.video_numbers.length," \u4ef6"]}),(0,kt.jsxs)("span",{children:[l,r>0?" \u2026\u307b\u304b".concat(r,"\u4ef6"):null]})]})}),(0,kt.jsx)("td",{children:(0,kt.jsxs)("div",{className:"script-factory__queue-progress",children:[(0,kt.jsx)("div",{className:"script-factory__queue-progress-count",children:nn(e)}),(()=>{const t=function(e){var t;if(!e.total_count||e.total_count<=0)return null;const n=null!==(t=e.processed_count)&&void 0!==t?t:0;return Math.max(0,Math.min(100,Math.round(n/e.total_count*100)))}(e);return null===t?null:(0,kt.jsx)("div",{className:"script-factory__queue-progress-bar","aria-label":"\u9032\u6357 ".concat(t,"%"),children:(0,kt.jsx)("span",{style:{width:"".concat(t,"%")}})})})(),e.current_video?(0,kt.jsxs)("p",{className:"script-factory__queue-current",children:["\u51e6\u7406\u4e2d: ",e.current_video]}):null]})}),(0,kt.jsx)("td",{children:(0,kt.jsx)("span",{className:tn(e.status),children:null!==(n=Xt[e.status])&&void 0!==n?n:e.status})}),(0,kt.jsx)("td",{children:(0,kt.jsxs)("div",{className:"script-factory__queue-timestamps",children:[(0,kt.jsx)("span",{children:en(e.created_at)}),(0,kt.jsx)("span",{className:"muted small-text",children:en(e.updated_at)})]})}),(0,kt.jsxs)("td",{children:[(0,kt.jsxs)("div",{className:"script-factory__queue-actions",children:["queued"===e.status?(0,kt.jsx)("button",{type:"button",className:"link-button",onClick:()=>De(e.id),children:"\u53d6\u6d88"}):null,e.task_id?(0,kt.jsx)("button",{type:"button",className:"link-button",onClick:()=>Fe(e.task_id),children:"\u30ed\u30b0\u8868\u793a"}):(0,kt.jsx)("span",{className:"muted small-text",children:"\u5f85\u6a5f\u4e2d"})]}),e.issues?(0,kt.jsx)("div",{className:"script-factory__queue-issues",children:Object.entries(e.issues).map(e=>{let[t,n]=e;return(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:t}),": ",n]},t)})}):null]})]},e.id)})})]})})]}):null]}),(0,kt.jsx)("article",{className:"script-factory__panel script-factory__panel--log",children:(0,kt.jsxs)("section",{className:"script-factory__log",children:[(0,kt.jsxs)("header",{children:[(0,kt.jsx)("h3",{children:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30ed\u30b0"}),E?(0,kt.jsx)("span",{className:"status-chip",children:null!==(i=Gt[E.status])&&void 0!==i?i:E.status}):Re.length?(0,kt.jsxs)("span",{className:"status-chip status-chip--warning",children:["\u5b9f\u884c\u4e2d ",Re.length," \u4ef6"]}):null]}),Re.length?(0,kt.jsx)("div",{className:"script-factory__log-tabs",children:Re.map(e=>(0,kt.jsxs)("button",{type:"button",className:"script-factory__log-tab".concat(S===e.taskId?" script-factory__log-tab--active":""),onClick:()=>Fe(e.taskId),children:[(0,kt.jsx)("span",{className:"script-factory__log-tab-channel",children:e.channel}),(0,kt.jsx)("span",{className:"script-factory__log-tab-label",children:e.label})]},e.taskId))}):null,S?(0,kt.jsx)("pre",{className:"script-factory__log-output",children:L.length?L.join("\n"):"(\u30ed\u30b0\u3092\u5f85\u6a5f\u3057\u3066\u3044\u307e\u3059\u2026)"}):(0,kt.jsx)("p",{className:"muted",children:"\u91cf\u7523\u30b8\u30e7\u30d6\u3092\u958b\u59cb\u3059\u308b\u3068\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})]})})]})}),X?(0,kt.jsxs)("div",{className:"script-factory__cell-overlay",style:{top:X.position.top,left:X.position.left},children:[(0,kt.jsxs)("div",{className:"script-factory__cell-overlay-header",children:[(0,kt.jsx)("strong",{children:X.header}),(0,kt.jsx)("button",{type:"button",onClick:Ae,"aria-label":"\u9589\u3058\u308b",children:"\u2715"})]}),(0,kt.jsx)("pre",{className:"script-factory__cell-overlay-content",children:X.content})]}):null]})}function mn(e,t){return 0===t?0:Math.min(100,Math.round(e/t*100))}function fn(e){return"number"!==typeof e?"0":new Intl.NumberFormat("ja-JP").format(e)}function vn(e){var t,n,a,l,r,s,i,o,c,u,d,p,h,m,f,v,g;let{channel:b,snapshot:_,onBackToDashboard:y,backLabel:x}=e;if(!b||!_)return null;const j=function(e){var t,n,a,l;return null!==(t=null!==(n=null!==(a=null===(l=e.branding)||void 0===l?void 0:l.title)&&void 0!==a?a:e.youtube_title)&&void 0!==n?n:e.name)&&void 0!==t?t:e.code}(b),k=null!==(t=b.genre)&&void 0!==t?t:null,w=null!==(n=null===(a=b.branding)||void 0===a||null===(l=a.custom_url)||void 0===l?void 0:l.replace(/^\//,""))&&void 0!==n?n:null,N=function(e){if(!e)return null;const t=e.trim();return t?t.startsWith("@")?t:"@".concat(t):null}(null!==(r=null!==(s=null!==(i=null===(o=b.branding)||void 0===o?void 0:o.handle)&&void 0!==i?i:b.youtube_handle)&&void 0!==s?s:null===(c=b.branding)||void 0===c?void 0:c.custom_url)&&void 0!==r?r:null),S=function(e){if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const n=t.getFullYear(),a="".concat(t.getMonth()+1).padStart(2,"0");return"".concat(n,"/").concat(a)}(null===(u=b.branding)||void 0===u?void 0:u.launch_date),C=null!==(d=null===(p=b.branding)||void 0===p?void 0:p.url)&&void 0!==d?d:w?"https://www.youtube.com/".concat(w):null,E=b.spreadsheet_id?"https://docs.google.com/spreadsheets/d/".concat(b.spreadsheet_id):null,T=null!==(h=null===(m=b.branding)||void 0===m?void 0:m.theme_color)&&void 0!==h?h:null,P=null!==(f=null===(v=b.branding)||void 0===v?void 0:v.avatar_url)&&void 0!==f?f:null,R=null!=P?{backgroundImage:"url(".concat(P,")")}:T?{background:T}:void 0,L=j.slice(0,2),O=null!==(g=b.description)&&void 0!==g?g:null,{total:z,scriptCompleted:M,audioSubtitleCompleted:I,readyForAudio:A,audioSubtitleBacklog:U}=_,D=mn(M,z),F=mn(I,z);return(0,kt.jsxs)("div",{className:"channel-overview",children:[(0,kt.jsxs)("header",{className:"channel-overview__header",children:[(0,kt.jsxs)("div",{className:"channel-overview__identity",children:[(0,kt.jsx)("div",{className:"channel-overview__avatar".concat(P?" channel-overview__avatar--image":""),style:R,"aria-hidden":!0,children:P?null:L}),(0,kt.jsxs)("div",{className:"channel-overview__summary",children:[(0,kt.jsxs)("div",{className:"channel-overview__meta-row",children:[k?(0,kt.jsx)("span",{className:"channel-overview__genre",children:k}):null,(0,kt.jsx)("span",{className:"channel-overview__code",children:b.code}),N?(0,kt.jsx)("span",{className:"channel-overview__handle",children:N}):null,S?(0,kt.jsxs)("span",{className:"channel-overview__launch",children:["\u958b\u8a2d ",S]}):null]}),(0,kt.jsx)("h1",{className:"channel-overview__title",children:j}),O?(0,kt.jsx)("p",{className:"channel-overview__description",children:O}):null,C||E?(0,kt.jsxs)("div",{className:"channel-overview__links",children:[C?(0,kt.jsx)("a",{className:"channel-overview__link",href:C,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),children:"YouTube\u3092\u958b\u304f \u2197"}):null,E?(0,kt.jsx)("a",{className:"channel-overview__link",href:E,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),children:"\u7ba1\u7406\u30b7\u30fc\u30c8 \u2197"}):null]}):null]})]}),y?(0,kt.jsx)("button",{type:"button",className:"channel-overview__back",onClick:y,children:null!==x&&void 0!==x?x:"\u2b05 \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078\u623b\u308b"}):null]}),(0,kt.jsxs)("div",{className:"channel-overview__metrics",children:[(0,kt.jsxs)("div",{className:"metric-card",children:[(0,kt.jsx)("span",{className:"metric-card__label",children:"\u4f01\u753b\u7dcf\u6570"}),(0,kt.jsx)("span",{className:"metric-card__value",children:fn(z)})]}),(0,kt.jsxs)("div",{className:"metric-card",children:[(0,kt.jsx)("span",{className:"metric-card__label",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u6e96\u5099\u6e08\u307f"}),(0,kt.jsx)("span",{className:"metric-card__value",children:fn(A)})]}),(0,kt.jsxs)("div",{className:"metric-card",children:[(0,kt.jsx)("span",{className:"metric-card__label",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u672a\u5b8c"}),(0,kt.jsx)("span",{className:"metric-card__value metric-card__value--warning",children:fn(U)})]})]}),(0,kt.jsxs)("ul",{className:"progress-list",children:[(0,kt.jsxs)("li",{className:"progress-list__item",children:[(0,kt.jsxs)("div",{className:"progress-list__label",children:[(0,kt.jsx)("span",{className:"progress-list__icon","aria-hidden":!0,children:"\ud83d\udcdd"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"progress-list__title",children:"\u53f0\u672c"}),(0,kt.jsxs)("p",{className:"progress-list__description",children:["\u5b8c\u6210 ",M," / ",z]})]})]}),(0,kt.jsx)("div",{className:"progress-list__bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":D,children:(0,kt.jsx)("div",{className:"progress-list__bar-fill",style:{width:"".concat(D,"%")}})}),(0,kt.jsxs)("span",{className:"progress-list__status",children:[D,"%"]})]}),(0,kt.jsxs)("li",{className:"progress-list__item",children:[(0,kt.jsxs)("div",{className:"progress-list__label",children:[(0,kt.jsx)("span",{className:"progress-list__icon","aria-hidden":!0,children:"\ud83c\udf99\ufe0f"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"progress-list__title",children:"\u97f3\u58f0\u30fb\u5b57\u5e55"}),(0,kt.jsxs)("p",{className:"progress-list__description",children:["\u5b8c\u4e86 ",I," / ",z]})]})]}),(0,kt.jsx)("div",{className:"progress-list__bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":F,children:(0,kt.jsx)("div",{className:"progress-list__bar-fill",style:{width:"".concat(F,"%")}})}),(0,kt.jsxs)("span",{className:"progress-list__status",children:[F,"%"]})]})]})]})}function gn(e){if(!e)return"\u672a\u66f4\u65b0";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP")}function bn(e){let{channelCode:t,videos:n,filteredVideos:a,selectedVideo:r,keyword:s,readyFilter:i,summaryFilter:o,onKeywordChange:c,onReadyFilterChange:u,onSummaryFilterChange:d,onClearSummaryFilter:p,onSelectVideo:h,onOpenScript:m,onOpenAudio:f}=e;const v=ne(),g=(0,l.useMemo)(()=>({total:n.length,filtered:a.length}),[a.length,n.length]),b=(0,l.useMemo)(()=>{let e=0,t=0,a=0,l=0;for(const s of n){var r;"pending"===Mt(s)?t+=1:e+=1;const n=Object.values(null!==(r=s.stages)&&void 0!==r?r:{});n.some(e=>"blocked"===e)&&(a+=1),n.some(e=>"review"===e)&&(l+=1)}return{total:n.length,ready:e,notReady:t,blocked:a,review:l}},[n]),_=(e,n)=>{if(!t)return;const a=new URLSearchParams;null!==n&&void 0!==n&&n.tab&&a.set("tab",n.tab);const l=a.toString();v("/channels/".concat(encodeURIComponent(t),"/videos/").concat(encodeURIComponent(e)).concat(l?"?".concat(l):""))};return(0,kt.jsxs)("section",{className:"channel-projects",children:[(0,kt.jsxs)("header",{className:"channel-projects__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"\u6848\u4ef6\u4e00\u89a7"}),(0,kt.jsx)("p",{className:"muted",children:g.filtered===g.total?"\u5168 ".concat(g.total," \u4ef6"):"".concat(g.total," \u4ef6\u4e2d ").concat(g.filtered," \u4ef6\u3092\u8868\u793a")})]}),(0,kt.jsx)("div",{className:"channel-projects__actions",children:(0,kt.jsx)("input",{type:"search",className:"channel-projects__search",value:s,onChange:e=>c(e.target.value),placeholder:"\u30bf\u30a4\u30c8\u30eb\u30fb\u756a\u53f7\u30fb\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u691c\u7d22"})})]}),(0,kt.jsxs)("div",{className:"channel-projects__filters",role:"group","aria-label":"\u30d5\u30a3\u30eb\u30bf\u30fc",children:[(0,kt.jsxs)("button",{type:"button",className:"filter-chip".concat("all"===i&&null===o?" filter-chip--active":""),onClick:()=>{u("all"),d(null)},children:[(0,kt.jsx)("span",{className:"filter-chip__label",children:"\u3059\u3079\u3066"}),(0,kt.jsx)("span",{className:"filter-chip__count",children:b.total})]}),(0,kt.jsxs)("button",{type:"button",className:"filter-chip".concat("ready"===i?" filter-chip--active":""),onClick:()=>{u("ready"),d(null)},children:[(0,kt.jsx)("span",{className:"filter-chip__label",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u6e96\u5099\u6e08"}),(0,kt.jsx)("span",{className:"filter-chip__count",children:b.ready})]}),(0,kt.jsxs)("button",{type:"button",className:"filter-chip".concat("not_ready"===i?" filter-chip--active":""),onClick:()=>{u("not_ready"),d("pendingAudio")},children:[(0,kt.jsx)("span",{className:"filter-chip__label",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u672a\u6e96\u5099"}),(0,kt.jsx)("span",{className:"filter-chip__count",children:b.notReady})]}),(0,kt.jsxs)("button",{type:"button",className:"filter-chip".concat("blocked"===o?" filter-chip--active":""),onClick:()=>d("blocked"===o?null:"blocked"),children:[(0,kt.jsx)("span",{className:"filter-chip__label",children:"\u8981\u5bfe\u5fdc"}),(0,kt.jsx)("span",{className:"filter-chip__count",children:b.blocked})]}),(0,kt.jsxs)("button",{type:"button",className:"filter-chip".concat("review"===o?" filter-chip--active":""),onClick:()=>d("review"===o?null:"review"),children:[(0,kt.jsx)("span",{className:"filter-chip__label",children:"\u691c\u8a3c\u5f85\u3061"}),(0,kt.jsx)("span",{className:"filter-chip__count",children:b.review})]}),("all"!==i||null!==o)&&(0,kt.jsx)("button",{type:"button",className:"filter-chip filter-chip--clear",onClick:p,children:"\u30d5\u30a3\u30eb\u30bf\u30fc\u89e3\u9664"})]}),(0,kt.jsx)("div",{className:"channel-projects__table-wrapper",children:(0,kt.jsxs)("table",{className:"channel-projects__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{scope:"col",children:"\u756a\u53f7"}),(0,kt.jsx)("th",{scope:"col",children:"\u30bf\u30a4\u30c8\u30eb"}),(0,kt.jsx)("th",{scope:"col",children:"\u5de5\u7a0b\u72b6\u6cc1"}),(0,kt.jsx)("th",{scope:"col",children:"\u72b6\u614b"}),(0,kt.jsx)("th",{scope:"col",children:"\u6587\u5b57\u6570"}),(0,kt.jsx)("th",{scope:"col",children:"\u6700\u7d42\u66f4\u65b0"}),(0,kt.jsx)("th",{scope:"col",className:"channel-projects__actions-column",children:"\u64cd\u4f5c"})]})}),(0,kt.jsx)("tbody",{children:0===a.length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:7,className:"channel-projects__empty",children:"\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u6848\u4ef6\u306f\u3042\u308a\u307e\u305b\u3093\u3002"})}):a.map(e=>{var t,n,a;const l=r===e.video,s=Mt(e),i="completed"===s?"completed":null!==(t=e.status)&&void 0!==t?t:"unknown",o="completed"===s?"\u53f0\u672c\u30fb\u97f3\u58f0\u30fb\u5b57\u5e55 \u5b8c\u4e86":"ready"===s?"\u53f0\u672c\u30c1\u30a7\u30c3\u30af\u6e08\u307f\uff08\u97f3\u58f0\u5f85\u3061\uff09":jt(i),c="number"===typeof e.character_count&&Number.isFinite(e.character_count)?e.character_count:null,u=null!==c?"".concat(c," \u6587\u5b57"):"\u2014";return(0,kt.jsxs)("tr",{className:"channel-projects__row".concat(l?" channel-projects__row--active":""),onClick:()=>{h(e.video),_(e.video)},onKeyDown:t=>((e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h(t),_(t))})(t,e.video),tabIndex:0,children:[(0,kt.jsx)("th",{scope:"row",children:e.video}),(0,kt.jsxs)("td",{children:[(0,kt.jsx)("div",{className:"channel-projects__title",children:null!==(n=e.title)&&void 0!==n?n:"\u30bf\u30a4\u30c8\u30eb\u672a\u8a2d\u5b9a"}),(0,kt.jsx)("div",{className:"channel-projects__meta",children:gn(e.updated_at)})]}),(0,kt.jsx)("td",{children:(0,kt.jsx)("div",{className:"status-cell",children:((t,n)=>{const a=Nt(null!==(t=e.stages)&&void 0!==t?t:{});if(!a)return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"status-badge status-badge--completed",children:"\u5168\u5de5\u7a0b\u5b8c\u4e86"}),(0,kt.jsx)("div",{className:"status-cell__hint",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u307e\u3067\u5b8c\u4e86"})]});const l=wt(a,null!==(n=e.stages)&&void 0!==n?n:{}),r=xt(a);return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"status-badge status-badge--".concat(null!==l&&void 0!==l?l:"default"),children:r}),(0,kt.jsx)("div",{className:"status-cell__hint",children:jt(l)})]})})()})}),(0,kt.jsx)("td",{children:(0,kt.jsx)("div",{className:"status-cell",children:(0,kt.jsx)("span",{className:"status-badge status-badge--".concat(null!==(a=e.status)&&void 0!==a?a:"default"),children:o})})}),(0,kt.jsx)("td",{children:u}),(0,kt.jsx)("td",{children:gn(e.updated_at)}),(0,kt.jsxs)("td",{className:"channel-projects__actions-cell",children:[(0,kt.jsx)("button",{type:"button",className:"link-button",onClick:t=>{t.stopPropagation(),m(e.video),_(e.video,{tab:"script"})},children:"\u53f0\u672c\u3092\u958b\u304f"}),(0,kt.jsx)("button",{type:"button",className:"link-button",onClick:t=>{t.stopPropagation(),f(e.video),_(e.video,{tab:"audio"})},children:"\u97f3\u58f0\u30fb\u5b57\u5e55"})]})]},e.video)})})]})})]})}function _n(){const{selectedChannel:e,selectedChannelSummary:t,selectedChannelSnapshot:n,videos:a,filteredVideos:l,selectedVideo:r,selectChannel:s,videoKeyword:i,readyFilter:o,summaryFilter:c,setVideoKeyword:u,setReadyFilter:d,applySummaryFilter:p,clearSummaryFilter:h,selectVideo:m,openScript:f,openAudio:v}=le();return e&&t&&n?(0,kt.jsxs)("section",{className:"main-content main-content--channel",children:[(0,kt.jsx)(vn,{channel:t,snapshot:n,onBackToDashboard:()=>s(null)}),(0,kt.jsx)(bn,{channelCode:e,videos:a,filteredVideos:l,selectedVideo:r,keyword:i,readyFilter:o,summaryFilter:c,onKeywordChange:u,onReadyFilterChange:d,onSummaryFilterChange:p,onClearSummaryFilter:h,onSelectVideo:m,onOpenScript:f,onOpenAudio:v})]}):(0,kt.jsx)("section",{className:"main-content main-content--channel",children:(0,kt.jsxs)("div",{className:"shell-panel shell-panel--placeholder",children:[(0,kt.jsx)("h2",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,kt.jsx)("p",{className:"shell-panel__subtitle",children:"\u30b5\u30a4\u30c9\u30d0\u30fc\u304b\u3089\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u3076\u3068\u6848\u4ef6\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})]})})}function yn(e){if(!e)return null;const t=e.trim().match(/^(\d{2}):(\d{2}):(\d{2}),(\d{3})$/);if(!t)return null;const[,n,a,l,r]=t,s=Number.parseInt(n,10),i=Number.parseInt(a,10),o=Number.parseInt(l,10),c=Number.parseInt(r,10);return[s,i,o,c].some(e=>Number.isNaN(e))?null:3600*s+60*i+o+c/1e3}function xn(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleString("ja-JP",{hour:"2-digit",minute:"2-digit"})}function jn(e){var t,n,a,r,s;let{detail:i,handlers:o,refreshing:c,onDirtyChange:u,showSrtColumn:d,title:p,hint:h}=e;const m=(0,l.useRef)(null),[f,v]=(0,l.useState)(()=>Date.now()),g=(0,l.useMemo)(()=>"".concat(i.updated_at||i.audio_updated_at||"na","-").concat(f),[f,i.audio_updated_at,i.updated_at]),[b,_]=(0,l.useState)(null!==(t=null!==(n=i.tts_plain_content)&&void 0!==n?n:i.tts_content)&&void 0!==t?t:""),[y,x]=(0,l.useState)(null!==(a=null!==(r=i.audio_updated_at)&&void 0!==r?r:i.updated_at)&&void 0!==a?a:null),[j,k]=(0,l.useState)(!1),[w,N]=(0,l.useState)(null),[S,C]=(0,l.useState)(null!==(s=i.srt_content)&&void 0!==s?s:""),[E,T]=(0,l.useState)(null),[P,R]=(0,l.useState)(null),[L,O]=(0,l.useState)(null),[z,M]=(0,l.useState)(null),[I,A]=(0,l.useState)(!1),[U,D]=(0,l.useState)(!1),[F,B]=(0,l.useState)(!1),[W,q]=(0,l.useState)(!1),[H,V]=(0,l.useState)(!1),[$,Q]=(0,l.useState)(null),[K,J]=(0,l.useState)(null===d||void 0===d||d),[Y,G]=(0,l.useState)(null),[X,Z]=(0,l.useState)(null),[ee,te]=(0,l.useState)(null),ne=(0,l.useMemo)(()=>{var e,t;return null!==(e=null===(t=i.warnings)||void 0===t?void 0:t.filter(Boolean))&&void 0!==e?e:[]},[i.warnings]);(0,l.useEffect)(()=>{var e,t,n,a,l;_(null!==(e=null!==(t=i.tts_plain_content)&&void 0!==t?t:i.tts_content)&&void 0!==e?e:""),C(null!==(n=i.srt_content)&&void 0!==n?n:""),x(null!==(a=null!==(l=i.audio_updated_at)&&void 0!==l?l:i.updated_at)&&void 0!==a?a:null),T(null),R(null),Q(null),J(null===d||void 0===d||d),v(Date.now())},[i,d]),(0,l.useEffect)(()=>{var e;const t=null!==(e=i.srt_content)&&void 0!==e?e:"";null===u||void 0===u||u(S!==t)},[i.srt_content,u,S]);const ae=(0,l.useMemo)(()=>b.replace(/\r\n/g,"\n").split(/\n{2,}/).map(e=>e.trim()).filter(e=>e.length>0),[b]),le=(0,l.useMemo)(()=>{const e=function(e){const t=[];return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(/\n{2,}/).map(e=>e.trim()).filter(Boolean).forEach((e,n)=>{const a=e.split("\n");if(0===a.length)return;let l=0;/^\d+$/.test(a[0])&&(l=1);let r="",s="";if(a[l]&&a[l].includes("--\x3e")){const[e,t]=a[l].split("--\x3e").map(e=>e.trim());r=null!==e&&void 0!==e?e:"",s=null!==t&&void 0!==t?t:"",l+=1}const i=a.slice(l).join("\n");t.push({index:n+1,start:r,end:s,speaker:null,text:i,raw:e})}),t}(S);return e.length>0?e.map(e=>Ve(Ve({},e),{},{startSeconds:yn(e.start),endSeconds:yn(e.end)})):ae.map((e,t)=>({index:t+1,start:"",end:"",speaker:null,text:e,raw:e,startSeconds:null,endSeconds:null}))},[ae,S]),re=(0,l.useMemo)(()=>le.some(e=>e.start||e.end),[le]),se=(0,l.useMemo)(()=>le.map(e=>{var t,n,a,l,r;return Ve(Ve({},e),{},{displayText:re?null!==(t=null!==(n=e.text)&&void 0!==n?n:e.raw)&&void 0!==t?t:"":null!==(a=null!==(l=null!==(r=ae[e.index-1])&&void 0!==r?r:e.text)&&void 0!==l?l:e.raw)&&void 0!==a?a:""})}),[ae,le,re]),ie=(0,l.useMemo)(()=>{const e=null!==Y&&void 0!==Y?Y:i.audio_url;if(!e)return null;if(/^https?:/i.test(e)){const t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"v=").concat(encodeURIComponent(g))}const t=e.startsWith("/")?e:"/".concat(e),n="".concat(Je).concat(t),a=n.includes("?")?"&":"?";return"".concat(n).concat(a,"v=").concat(encodeURIComponent(g))},[i.audio_url,Y,g]),oe=(0,l.useMemo)(()=>{var e;if(X){if(/^https?:/i.test(X)){const e=X.includes("?")?"&":"?";return"".concat(X).concat(e,"v=").concat(encodeURIComponent(g))}const e=X.startsWith("/")?X:"/".concat(X),t="".concat(Je).concat(e),n=t.includes("?")?"&":"?";return"".concat(t).concat(n,"v=").concat(encodeURIComponent(g))}const t=null!==(e=null===Je||void 0===Je?void 0:Je.replace(/\/$/,""))&&void 0!==e?e:"",n="".concat(t,"/api/channels/").concat(encodeURIComponent(i.channel),"/videos/").concat(encodeURIComponent(i.video),"/srt"),a=n.includes("?")?"&":"?";return"".concat(n).concat(a,"v=").concat(encodeURIComponent(g))},[i.channel,i.video,X,g]),ce=(0,l.useMemo)(()=>{var e;const t="audio_tts_v2/artifacts/final/".concat(i.channel,"/").concat(i.video,"/").concat(i.channel,"-").concat(i.video,".srt");return null!==(e=i.srt_path)&&void 0!==e?e:t},[i.channel,i.video,i.srt_path]),ue=(0,l.useCallback)(async()=>{var e,t,n,a;A(!0),O(null),M(null);const l=null!==(e=null!==(t=null!==(n=null!==(a=i.script_audio_path)&&void 0!==a?a:i.tts_path)&&void 0!==n?n:i.assembled_path)&&void 0!==t?t:i.script_audio_human_path)&&void 0!==e?e:i.assembled_human_path;if(!l)return M("input_path \u304c\u4e0d\u660e\u3067\u3059\uff08script_audio_path \u306a\u3069\u304c\u672a\u8a2d\u5b9a\uff09\u3002"),void A(!1);try{var r;const e=await it({channel:i.channel,video:i.video,input_path:l});O("TTS\u5b9f\u884c\u6210\u529f: engine=".concat(null!==(r=e.engine)&&void 0!==r?r:"n/a",", wav=").concat(e.wav_path));const t=/^https?:/i.test(e.wav_path)?e.wav_path:"".concat(Je).concat(e.wav_path.startsWith("/")?e.wav_path:"/".concat(e.wav_path));if(G(t),e.srt_path){const t=/^https?:/i.test(e.srt_path)?e.srt_path:"".concat(Je).concat(e.srt_path.startsWith("/")?e.srt_path:"/".concat(e.srt_path));Z(t)}if(e.final_wav){const t=/^https?:/i.test(e.final_wav)?e.final_wav:"".concat(Je).concat(e.final_wav.startsWith("/")?e.final_wav:"/".concat(e.final_wav));G(t)}if(e.final_srt){const t=/^https?:/i.test(e.final_srt)?e.final_srt:"".concat(Je).concat(e.final_srt.startsWith("/")?e.final_srt:"/".concat(e.final_srt));Z(t)}if(e.log){const t=/^https?:/i.test(e.log)?e.log:"".concat(Je).concat(e.log.startsWith("/")?e.log:"/".concat(e.log));te(t)}}catch(s){const e=s instanceof Error?s.message:String(null!==s&&void 0!==s?s:"TTS\u5b9f\u884c\u306b\u5931\u6557\u3057\u307e\u3057\u305f");M(e)}finally{A(!1)}},[i.channel,i.video,i.script_audio_path,i.tts_path,i.assembled_path,i.script_audio_human_path,i.assembled_human_path]);(0,l.useEffect)(()=>{const e=m.current;if(!e||le.every(e=>null==e.startSeconds))return;const t=()=>{const t=e.currentTime;let n=null;for(const e of le){var a;if(null==e.startSeconds)continue;const l=null!==(a=e.endSeconds)&&void 0!==a?a:e.startSeconds+2;if(t>=e.startSeconds&&t<l){n=e.index;break}}Q(n)},n=()=>Q(null);return e.addEventListener("timeupdate",t),e.addEventListener("seeked",t),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("seeked",t),e.removeEventListener("ended",n)}},[le]);const de=(0,l.useCallback)(e=>{C(e.target.value),T(null),R(null)},[]),pe=(0,l.useCallback)(e=>{const t=m.current;if(!t)return void Q(e.index);const n=()=>{if($===e.index&&!t.paused)return void t.pause();null!=e.startSeconds&&(t.currentTime=Math.max(e.startSeconds-.05,0)),Q(e.index);const n=t.play();n&&"function"===typeof n.then&&n.catch(()=>{})};if(t.readyState<1){const e=()=>{t.removeEventListener("loadedmetadata",e),n()};return t.addEventListener("loadedmetadata",e),void t.load()}n()},[$]),he=(0,l.useCallback)(async()=>{if(!U&&!c){D(!0),T(null),R(null);try{await o.onSaveSrt(S),T("\u5b57\u5e55\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u518d\u751f\u6210\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}catch(e){R(e instanceof Error?e.message:String(e))}finally{D(!1)}}},[o,c,U,S]),me=(0,l.useCallback)(async()=>{k(!0),N(null);try{var e,t,n,a;const l=await et(i.channel,i.video),r=null!==(e=l.content)&&void 0!==e?e:"";_(r),x(null!==(t=null!==(n=null!==(a=l.updated_at)&&void 0!==a?a:i.audio_updated_at)&&void 0!==n?n:i.updated_at)&&void 0!==t?t:null)}catch(l){N(l instanceof Error?l.message:String(l))}finally{k(!1)}},[i.audio_updated_at,i.channel,i.updated_at,i.video]),fe=(0,l.useCallback)(async()=>{if(!W){q(!0),T(null),R(null);try{await o.onVerifySrt(),T("\u5b57\u5e55\u306e\u30ba\u30ec\u691c\u8a3c\u3092\u958b\u59cb\u3057\u307e\u3057\u305f\u3002\u30ed\u30b0\u3067\u9032\u884c\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}catch(e){R(e instanceof Error?e.message:String(e))}finally{q(!1)}}},[o,W]),ve=(0,l.useCallback)(async()=>{if(!F&&oe){B(!0),T(null),R(null);try{const e=await fetch(oe,{cache:"no-store"});if(!e.ok)throw new Error("SRT\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f (".concat(e.status,")"));const t=await e.text();C(t)}catch(e){R(e instanceof Error?e.message:String(e))}finally{B(!1)}}},[oe,F]),ge=(0,l.useCallback)(async e=>{if(!H){V(!0),T(null),R(null);try{await o.onUpdateStatus(e),T("\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u300c".concat(jt(e),"\u300d\u306b\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"))}catch(t){R(t instanceof Error?t.message:String(t))}finally{V(!1)}}},[o,H]),be=(0,l.useMemo)(()=>{if(0===le.length)return"\u672a\u751f\u6210";const e=le.some(e=>null!=e.startSeconds);return"".concat(le.length,e?" \u30d6\u30ed\u30c3\u30af":" \u30d6\u30ed\u30c3\u30af\uff08\u672a\u30bf\u30a4\u30e0\u30b3\u30fc\u30c9\uff09")},[le]),_e=(0,l.useMemo)(()=>xn(y)||"\u672a\u66f4\u65b0",[y]);return(0,kt.jsxs)("div",{className:"audio-workspace audio-workspace--compact",children:[ne.length>0?(0,kt.jsxs)("div",{className:"main-alert main-alert--warning",role:"alert",children:[(0,kt.jsx)("strong",{children:"\u672a\u6574\u5099:"})," ",ne.join(" / ")]}):null,(0,kt.jsxs)("header",{className:"audio-workspace__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"audio-workspace__breadcrumbs",children:[(0,kt.jsx)("span",{className:"audio-workspace__breadcrumbs-code",children:i.channel}),(0,kt.jsx)("span",{className:"audio-workspace__breadcrumbs-sep",children:"/"}),(0,kt.jsx)("span",{className:"audio-workspace__breadcrumbs-video",children:i.video})]}),p?(0,kt.jsx)("h3",{className:"audio-workspace__title",children:p}):null,h?(0,kt.jsx)("p",{className:"audio-workspace__hint",children:h}):(0,kt.jsx)("p",{className:"audio-workspace__hint",children:"\u751f\u6210\u6e08\u307f\u97f3\u58f0\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"}),(0,kt.jsxs)("div",{className:"audio-workspace__quick-actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--primary workspace-button--compact",onClick:()=>{ue()},disabled:I,children:I?"\u97f3\u58f0\u518d\u751f\u6210\u4e2d\u2026":"\u97f3\u58f0\u3092\u518d\u751f\u6210 (TTS v2)"}),ee?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:ee,target:"_blank",rel:"noreferrer",children:"\u6700\u65b0\u30ed\u30b0"}):null]})]}),(0,kt.jsxs)("div",{className:"audio-workspace__header-actions",children:[(0,kt.jsxs)("span",{className:"audio-workspace__header-note",children:["\u97f3\u58f0\u30c6\u30ad\u30b9\u30c8\u66f4\u65b0: ",_e]}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{me()},disabled:j,children:j?"\u53d6\u5f97\u4e2d\u2026":"\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u3092\u518d\u53d6\u5f97"})]})]}),(0,kt.jsxs)("section",{className:"audio-workspace__editor-panel audio-workspace__editor-panel--primary","aria-label":"\u97f3\u58f0\u7528\u53f0\u672c (B)",children:[(0,kt.jsxs)("label",{className:"audio-workspace__editor-field",children:[(0,kt.jsx)("span",{className:"audio-workspace__editor-label",children:"\u97f3\u58f0\u7528\u53f0\u672c\uff08B / \u8aad\u307f\u4e0a\u3052\u5c02\u7528\uff09"}),(0,kt.jsx)("textarea",{className:"audio-workspace__editor-textarea",value:b,readOnly:!0,"aria-readonly":"true",placeholder:"\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u306f assembled.md + \u8f9e\u66f8\u304b\u3089\u518d\u751f\u6210\u3055\u308c\u307e\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"audio-workspace__editor-meta",children:["\u66f4\u65b0: ",_e]}),(0,kt.jsxs)("div",{className:"audio-workspace__editor-actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{me()},disabled:j,children:j?"\u518d\u53d6\u5f97\u4e2d\u2026":"\u6700\u65b0\u306e\u97f3\u58f0\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:fe,disabled:W,children:W?"\u691c\u8a3c\u4e2d\u2026":"\u5b57\u5e55\u30ba\u30ec\u3092\u691c\u8a3c"})]}),w?(0,kt.jsx)("p",{className:"audio-workspace__alert audio-workspace__alert--error",children:w}):null,E?(0,kt.jsx)("p",{className:"audio-workspace__alert audio-workspace__alert--success",children:E}):null,P?(0,kt.jsx)("p",{className:"audio-workspace__alert audio-workspace__alert--error",children:P}):null,L?(0,kt.jsx)("p",{className:"audio-workspace__alert audio-workspace__alert--success",children:L}):null,z?(0,kt.jsx)("p",{className:"audio-workspace__alert audio-workspace__alert--error",children:z}):null,ee?(0,kt.jsx)("p",{className:"audio-workspace__alert",children:(0,kt.jsx)("a",{className:"link",href:ee,target:"_blank",rel:"noreferrer",children:"\u6700\u65b0\u30ed\u30b0 (log.json)"})}):null]}),(0,kt.jsx)("div",{className:"audio-workspace__main",children:(0,kt.jsxs)("section",{className:"audio-workspace__player-panel","aria-label":"\u97f3\u58f0\u30d7\u30ec\u30d3\u30e5\u30fc",children:[(0,kt.jsx)("div",{className:"audio-workspace__player",children:ie?(0,kt.jsx)("audio",{ref:m,controls:!0,preload:"metadata",src:ie}):(0,kt.jsx)("div",{className:"audio-workspace__player-placeholder",children:"\u97f3\u58f0\u304c\u307e\u3060\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"})}),(0,kt.jsxs)("div",{className:"audio-workspace__player-actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--compact",onClick:()=>{v(Date.now());const e=m.current;e&&e.load()},children:"\u97f3\u58f0\u3092\u518d\u8aad\u307f\u8fbc\u307f"}),ie?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:ie,target:"_blank",rel:"noreferrer",children:"\u97f3\u58f0\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"}):null,oe?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:oe,target:"_blank",rel:"noreferrer",children:"\u5b57\u5e55SRT\u3092\u958b\u304f"}):null,(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--primary workspace-button--compact",onClick:()=>{ue()},disabled:I,children:I?"\u97f3\u58f0\u518d\u751f\u6210\u4e2d\u2026":"\u97f3\u58f0\u3092\u518d\u751f\u6210 (TTS v2)"})]}),(0,kt.jsxs)("div",{className:"audio-workspace__timeline","aria-label":"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",children:[(0,kt.jsxs)("div",{className:"audio-workspace__timeline-header",children:[(0,kt.jsx)("span",{className:"audio-workspace__timeline-title",children:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3"}),(0,kt.jsx)("span",{className:"audio-workspace__timeline-meta",children:be})]}),0===se.length?(0,kt.jsx)("p",{className:"audio-workspace__timeline-empty",children:"\u5b57\u5e55\u307e\u305f\u306f\u53f0\u672c\u3092\u4fdd\u5b58\u3059\u308b\u3068\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"}):(0,kt.jsx)("ul",{className:"audio-workspace__timeline-list",children:se.map(e=>(0,kt.jsx)("li",{children:(0,kt.jsxs)("button",{type:"button",className:$===e.index?"audio-workspace__timeline-item audio-workspace__timeline-item--active":"audio-workspace__timeline-item",onClick:()=>pe(e),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),pe(e))},children:[(0,kt.jsxs)("span",{className:"audio-workspace__timeline-index",children:["#",e.index]}),(0,kt.jsx)("span",{className:"audio-workspace__timeline-time",children:e.start?"".concat(e.start).concat(e.end?" \u2192 ".concat(e.end):""):"\u672a\u30bf\u30a4\u30e0\u30b3\u30fc\u30c9"}),(0,kt.jsx)("span",{className:"audio-workspace__timeline-text",children:e.displayText||"\u30c6\u30ad\u30b9\u30c8\u672a\u8a2d\u5b9a"})]})},"timeline-".concat(e.index)))})]})]})}),K?(0,kt.jsxs)("section",{className:"audio-workspace__srt-panel","aria-label":"\u5b57\u5e55\u30bd\u30fc\u30b9",children:[(0,kt.jsxs)("div",{className:"audio-workspace__srt-header",children:[(0,kt.jsx)("h3",{children:"\u5b57\u5e55\uff08SRT\uff09"}),(0,kt.jsxs)("span",{className:"audio-workspace__srt-meta",children:[le.length," \u30d6\u30ed\u30c3\u30af"]}),(0,kt.jsxs)("p",{className:"muted small-text",children:["\u4fdd\u5b58\u5148: ",ce]})]}),(0,kt.jsx)("textarea",{className:"audio-workspace__srt-textarea",value:S,onChange:de,placeholder:"SRT \u5f62\u5f0f\u306e\u5b57\u5e55\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002"}),(0,kt.jsxs)("div",{className:"audio-workspace__editor-actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{ve()},disabled:F||c,children:F?"\u518d\u53d6\u5f97\u4e2d\u2026":"\u6700\u65b0SRT\u3092\u53d6\u5f97"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--primary",onClick:he,disabled:U||c,children:U||c?"\u4fdd\u5b58\u4e2d\u2026":"\u5b57\u5e55\u3092\u4fdd\u5b58"})]})]}):null,(0,kt.jsxs)("footer",{className:"audio-workspace__footer",children:[(0,kt.jsxs)("div",{className:"audio-workspace__status",children:[(0,kt.jsxs)("span",{children:["\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30bf\u30b9: ",jt(i.status)]}),(0,kt.jsxs)("div",{className:"audio-workspace__status-actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>ge("review"),disabled:H,children:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc\u5f85\u3061\u306b\u3059\u308b"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>ge("completed"),disabled:H,children:"\u97f3\u58f0\u30bf\u30b9\u30af\u3092\u5b8c\u4e86\u306b\u3059\u308b"})]})]}),(0,kt.jsxs)("div",{className:"audio-workspace__timestamps",children:[(0,kt.jsxs)("span",{children:["\u53f0\u672c\u66f4\u65b0: ",xn(i.updated_at)||"\u672a\u66f4\u65b0"]}),(0,kt.jsxs)("span",{children:["\u97f3\u58f0\u66f4\u65b0: ",xn(i.audio_updated_at)||"\u672a\u751f\u6210"]})]})]})]})}const kn=[{value:"pending",label:"\u672a\u7740\u624b"},{value:"in_progress",label:"\u9032\u884c\u4e2d"},{value:"blocked",label:"\u8981\u5bfe\u5fdc"},{value:"review",label:"\u30ec\u30d3\u30e5\u30fc\u5f85\u3061"},{value:"completed",label:"\u5b8c\u4e86"}],wn="YouTube\u5411\u3051\u30ca\u30ec\u30fc\u30b7\u30e7\u30f3\u53f0\u672c\u3068\u3057\u3066\u9069\u5207\u304b\u3092\u6b21\u306e\u89b3\u70b9\u3067\u8a55\u4fa1\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \u5192\u982d\u306e\u5f15\u304d\u8fbc\u307f\u529b\n- \u69cb\u6210\u3068\u8ad6\u7406\u5c55\u958b\u306e\u660e\u77ad\u3055\n- \u8868\u73fe\u306e\u81ea\u7136\u3055\u3068\u8a9e\u5c3e\u30fb\u656c\u4f53\u306e\u7d71\u4e00\n- \u60c5\u7dd2\u3068\u30c6\u30f3\u30dd\uff08\u5197\u9577\u3055\u3084\u91cd\u8907\u306e\u6709\u7121\uff09\n\n50\u301c120\u6587\u5b57\u7a0b\u5ea6\u306e\u8981\u7d04\u3068\u3001\u6539\u5584\u306e\u512a\u5148\u63d0\u6848\u30923\u70b9\u4ee5\u5185\u3067\u65e5\u672c\u8a9e\u3067\u793a\u3057\u3066\u304f\u3060\u3055\u3044\u3002";function Nn(e){var t,n,a,r,s,i,o,c,u,d,p,h,m,f,v,g,b,_,y,x,j,k,w,N,S,C,E;let{detail:T,onSaveAssembled:P,onSaveTts:R,onValidateTts:L,onSaveSrt:O,onVerifySrt:z,onUpdateStatus:M,onUpdateReady:I,onUpdateStages:A,onReplaceTts:U,refreshing:D,onDirtyChange:F,activeTab:B,onTabChange:W}=e;const[q,H]=(0,l.useState)(null!==(t=T.assembled_content)&&void 0!==t?t:""),[V,$]=(0,l.useState)(null!==(n=null!==(a=T.assembled_human_content)&&void 0!==a?a:T.assembled_content)&&void 0!==n?n:""),[Q,K]=(0,l.useState)(null!==(r=null!==(s=T.assembled_human_content)&&void 0!==s?s:T.assembled_content)&&void 0!==r?r:""),[J,Y]=(0,l.useState)(null!==(i=null!==(o=null!==(c=T.script_audio_content)&&void 0!==c?c:T.tts_plain_content)&&void 0!==o?o:T.tts_content)&&void 0!==i?i:""),[G,X]=(0,l.useState)(null!==(u=null!==(d=null!==(p=null!==(h=T.script_audio_human_content)&&void 0!==h?h:T.script_audio_content)&&void 0!==p?p:T.tts_plain_content)&&void 0!==d?d:T.tts_content)&&void 0!==u?u:""),[Z,ee]=(0,l.useState)(null!==(m=null!==(f=null!==(v=null!==(g=T.script_audio_human_content)&&void 0!==g?g:T.script_audio_content)&&void 0!==v?v:T.tts_plain_content)&&void 0!==f?f:T.tts_content)&&void 0!==m?m:""),[te,ne]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(""),[re,se]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(null),[ce,ue]=(0,l.useState)(!0),[de,pe]=(0,l.useState)(!0),[he,me]=(0,l.useState)(null!==(b=T.audio_updated_at)&&void 0!==b?b:null),[fe,ve]=(0,l.useState)(!1),[ge,be]=(0,l.useState)(null),[_e,ye]=(0,l.useState)(null!==(_=T.status)&&void 0!==_?_:""),[xe,je]=(0,l.useState)(T.ready_for_audio),[ke,we]=(0,l.useState)(null!==(y=T.stages)&&void 0!==y?y:{}),[Ne,Se]=(0,l.useState)(null),[Ce,Ee]=(0,l.useState)(null),[Te,Pe]=(0,l.useState)(null),[Re,Le]=(0,l.useState)(null),[Oe,ze]=(0,l.useState)(null),[Me,Ie]=(0,l.useState)(!1),[Ae,Ue]=(0,l.useState)("idle"),[De,Fe]=(0,l.useState)(wn),[Be,We]=(0,l.useState)(!1),[qe,He]=(0,l.useState)(null),[$e,Qe]=(0,l.useState)(null),[Ke,Ye]=(0,l.useState)("idle"),[Xe,Ze]=(0,l.useState)("idle"),[nt,at]=(0,l.useState)(null!==B&&void 0!==B?B:"script"),[lt,rt]=(0,l.useState)(!1),[it,ot]=(0,l.useState)(!1),[ct,ut]=(0,l.useState)(!1),[dt,pt]=(0,l.useState)(null),[ht,mt]=(0,l.useState)("idle"),ft=(0,l.useMemo)(()=>{var e,t;return null!==(e=null===(t=T.warnings)||void 0===t?void 0:t.filter(Boolean))&&void 0!==e?e:[]},[T.warnings]),vt=(0,l.useCallback)(async()=>{ne(!0),le(""),oe(null),se(!0);try{const e=await st(T.channel,T.video);le(e)}catch(e){oe(e instanceof Error?e.message:String(e))}finally{se(!1)}},[T.channel,T.video]),gt=(0,l.useRef)(null),_t=(0,l.useRef)(null),yt=(0,l.useMemo)(()=>V!==Q,[V,Q]),wt=(0,l.useMemo)(()=>G!==Z||ce!==de,[ce,de,Z,G]),Nt=yt||wt;(0,l.useCallback)(async()=>{ve(!0),be(null);try{var e,t,n;const a=await et(T.channel,T.video),l=null!==(e=a.content)&&void 0!==e?e:"";Y(l),wt||(X(l),ee(l)),me(null!==(t=null!==(n=a.updated_at)&&void 0!==n?n:T.audio_updated_at)&&void 0!==t?t:null)}catch(a){const e=a instanceof Error?a.message:String(null!==a&&void 0!==a?a:"\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002");be(e)}finally{ve(!1)}},[wt,T.audio_updated_at,T.channel,T.video]);(0,l.useEffect)(()=>{if("idle"===Ae)return;const e=window.setTimeout(()=>Ue("idle"),2e3);return()=>window.clearTimeout(e)},[Ae]),(0,l.useEffect)(()=>{if("idle"===Ke)return;const e=window.setTimeout(()=>Ye("idle"),2e3);return()=>window.clearTimeout(e)},[Ke]),(0,l.useEffect)(()=>{let e=!1;return(async()=>{ut(!0),pt(null);try{var t,n,a,l,r,s,i,o,c;const u=await(j=T.channel,k=T.video,Ge("/api/channels/".concat(encodeURIComponent(j),"/videos/").concat(encodeURIComponent(k),"/scripts/human")));if(e)return;const d=null!==(t=null!==(n=u.assembled_content)&&void 0!==n?n:T.assembled_content)&&void 0!==t?t:"",p=null!==(a=u.assembled_human_content)&&void 0!==a?a:d;H(d),$(p),K(p);const h=null!==(l=null!==(r=null!==(s=null!==(i=u.script_audio_content)&&void 0!==i?i:T.script_audio_content)&&void 0!==s?s:T.tts_plain_content)&&void 0!==r?r:T.tts_content)&&void 0!==l?l:"",m=null!==(o=u.script_audio_human_content)&&void 0!==o?o:h;Y(h),X(m),ee(m);const f=null!==(c=u.audio_reviewed)&&void 0!==c&&c;ue(f),pe(f)}catch(w){var u,d,p,h,m,f,v,g,b,_,y,x;if(e)return;pt(w instanceof Error?w.message:String(null!==w&&void 0!==w?w:"\u53f0\u672c\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"));const t=null!==(u=null!==(d=T.assembled_human_content)&&void 0!==d?d:T.assembled_content)&&void 0!==u?u:"";H(null!==(p=T.assembled_content)&&void 0!==p?p:""),$(t),K(t);const n=null!==(h=null!==(m=null!==(f=null!==(v=T.script_audio_human_content)&&void 0!==v?v:T.script_audio_content)&&void 0!==f?f:T.tts_plain_content)&&void 0!==m?m:T.tts_content)&&void 0!==h?h:"";Y(null!==(g=null!==(b=null!==(_=T.script_audio_content)&&void 0!==_?_:T.tts_plain_content)&&void 0!==b?b:T.tts_content)&&void 0!==g?g:""),X(n),ee(n),ue(null!==(y=T.audio_reviewed)&&void 0!==y&&y),pe(null!==(x=T.audio_reviewed)&&void 0!==x&&x)}finally{e||ut(!1)}var j,k})(),()=>{e=!0}},[T.assembled_content,T.assembled_human_content,T.audio_reviewed,T.channel,T.script_audio_content,T.script_audio_human_content,T.tts_content,T.tts_plain_content,T.updated_at,T.video]),(0,l.useEffect)(()=>{var e,t,n;ye(null!==(e=T.status)&&void 0!==e?e:""),je(T.ready_for_audio),we(null!==(t=T.stages)&&void 0!==t?t:{}),Se(null),Ee(null),Le(null),ze(null),Ze("idle"),He(null),Qe(null),Ue("idle"),Ye("idle"),me(null!==(n=T.audio_updated_at)&&void 0!==n?n:null),be(null)},[T]),(0,l.useEffect)(()=>{var e,t;const n="".concat(null!==(e=T.channel)&&void 0!==e?e:"","::").concat(null!==(t=T.video)&&void 0!==t?t:"");_t.current!==n&&(_t.current=n,at(null!==B&&void 0!==B?B:"script"))},[B,T.channel,T.video]),(0,l.useEffect)(()=>{B&&B!==nt&&at(B)},[B,nt]),(0,l.useEffect)(()=>{null===F||void 0===F||F(Nt)},[F,Nt]),(0,l.useEffect)(()=>{if(!Nt)return;const e=e=>{e.preventDefault(),e.returnValue="\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u96e2\u8131\u3059\u308b\u3068\u5909\u66f4\u304c\u5931\u308f\u308c\u307e\u3059\u3002"};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[Nt]);(0,l.useCallback)(async()=>{if("undefined"!==typeof navigator&&navigator.clipboard)try{await navigator.clipboard.writeText(G),Ue("copied")}catch(e){console.error("Failed to copy TTS text",e),Ue("error")}else Ue("unsupported")},[G]),(0,l.useCallback)(async()=>{if(qe)if("undefined"!==typeof navigator&&navigator.clipboard)try{await navigator.clipboard.writeText(qe),Ye("copied")}catch(e){console.error("Failed to copy AI summary",e),Ye("error")}else Ye("unsupported")},[qe]),(0,l.useCallback)(async()=>{const e=G.trim();if(!e)return Qe("\u8a55\u4fa1\u5bfe\u8c61\u3068\u306a\u308b\u53f0\u672c\u304c\u3042\u308a\u307e\u305b\u3093\u3002"),void He(null);We(!0),Qe(null);try{var t;const r=await(n=T.channel,a=T.video,l={text:e,instruction:De.trim()||wn},Ge("/api/channels/".concat(encodeURIComponent(n),"/videos/").concat(encodeURIComponent(a),"/tts/enhance"),{method:"POST",body:JSON.stringify(l)}));He(null!==(t=r.suggestion)&&void 0!==t?t:"")}catch(r){const e=r instanceof Error?r.message:String(null!==r&&void 0!==r?r:"AI\u8a55\u4fa1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002");Qe(e),He(null)}finally{We(!1)}var n,a,l},[De,T.channel,T.video,G]),(0,l.useCallback)(async()=>{const e=G.trim();if(!e)return Le(null),ze("\u53f0\u672c\u30c6\u30ad\u30b9\u30c8\u304c\u7a7a\u3067\u3059\u3002\u7de8\u96c6\u3057\u3066\u304b\u3089\u691c\u8a3c\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ze("error");ze(null),Ze("running"),Ie(!0);try{const t=await L(e);Le(t),Ze(t.valid?"success":"warning"),t.valid&&Se("\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u306b\u554f\u984c\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}catch(t){const e=t instanceof Error?t.message:String(null!==t&&void 0!==t?t:"\u691c\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002");Le(null),ze(e),Ze("error")}finally{Ie(!1)}},[L,G]),(0,l.useCallback)(()=>{null!==Re&&void 0!==Re&&Re.sanitized_content&&(X(Re.sanitized_content),Se("\u691c\u8a3c\u6e08\u307f\u30c6\u30ad\u30b9\u30c8\u3092\u53cd\u6620\u3057\u307e\u3057\u305f\u3002"),Ze("success"))},[Re]);const Ct=(0,l.useCallback)(async(e,t)=>{Pe(e),Se(null),Ee(null);try{await t(),Se("".concat(e," \u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f"))}catch(n){const e=n instanceof Error?n.message:String(null!==n&&void 0!==n?n:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc"),t=e.includes("\u6700\u65b0\u306e\u60c5\u5831\u3092\u518d\u53d6\u5f97");Ee(t?"\u4ed6\u306e\u4f5c\u696d\u8005\u304c\u5185\u5bb9\u3092\u66f4\u65b0\u3057\u305f\u305f\u3081\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3001\u6700\u65b0\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ".concat(e))}finally{Pe(null)}},[]),Et=((0,l.useCallback)(async()=>{await Ct("\u8868\u793a\u7528\u30c6\u30ad\u30b9\u30c8",async()=>{var e;await tt(T.channel,T.video,{assembled_human:V,audio_reviewed:!0,expectedUpdatedAt:null!==(e=T.updated_at)&&void 0!==e?e:null});const t=!0;ue(t),pe(t),K(V)})},[V,T.channel,T.updated_at,T.video,Ct]),(0,l.useCallback)(async()=>{await Ct("\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8",async()=>{var e;await tt(T.channel,T.video,{script_audio_human:G,audio_reviewed:!0,expectedUpdatedAt:null!==(e=T.updated_at)&&void 0!==e?e:null});const t=!0;ue(t),pe(t),ee(G)})},[T.channel,T.updated_at,T.video,G,Ct]),(0,l.useCallback)(async()=>{await Ct("A\u30fbB\u30c6\u30ad\u30b9\u30c8",async()=>{var e;await tt(T.channel,T.video,{assembled_human:V,script_audio_human:G,audio_reviewed:!0,expectedUpdatedAt:null!==(e=T.updated_at)&&void 0!==e?e:null});const t=!0;ue(t),pe(t),K(V),ee(G)})},[V,T.channel,T.updated_at,T.video,G,Ct])),Tt=(0,l.useCallback)(()=>Ct("\u6848\u4ef6\u30b9\u30c6\u30fc\u30bf\u30b9",()=>M(_e)),[M,_e,Ct]),Pt=(0,l.useCallback)(()=>Ct("\u30b9\u30c6\u30fc\u30b8\u9032\u6357",()=>A(ke)),[A,ke,Ct]),Rt=(0,l.useCallback)(e=>Ct("\u97f3\u58f0\u6e96\u5099\u30d5\u30e9\u30b0",()=>I(e)),[I,Ct]),Lt=null!==B&&void 0!==B?B:nt,Ot=(0,l.useCallback)(e=>{at(e),null===W||void 0===W||W(e)},[W]),zt=(0,l.useCallback)(e=>{if("string"!==typeof e||!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP")},[]),Mt=(0,l.useMemo)(()=>{var e;const t=null===(e=T.audio_metadata)||void 0===e?void 0:e.history;return Array.isArray(t)?t.map(e=>{const t=e;return{event:"string"===typeof t.event?t.event:null,status:"string"===typeof t.status?t.status:null,message:"string"===typeof t.message?t.message:null,timestamp:"string"===typeof t.timestamp?t.timestamp:null,final_wav:"string"===typeof t.final_wav?t.final_wav:null,final_srt:"string"===typeof t.final_srt?t.final_srt:null,log_json:"string"===typeof t.log_json?t.log_json:null,log_text:"string"===typeof t.log_text?t.log_text:null}}).reverse():[]},[T.audio_metadata]),It=Mt.length>0,At=(0,l.useMemo)(()=>"number"===typeof T.audio_duration_seconds?"".concat(T.audio_duration_seconds.toFixed(1)," \u79d2"):"\u672a\u8a08\u6e2c",[T.audio_duration_seconds]),Ut=(0,l.useMemo)(()=>{if(!T.audio_updated_at)return"\u672a\u66f4\u65b0";const e=new Date(T.audio_updated_at);return Number.isNaN(e.getTime())?T.audio_updated_at:e.toLocaleString("ja-JP")},[T.audio_updated_at]),Dt=null!==(x=T.audio_quality_status)&&void 0!==x?x:"\u672a\u8a55\u4fa1",Ft=T.audio_quality_summary,Bt=null!==(j=null===(k=T.stages)||void 0===k?void 0:k.audio_synthesis)&&void 0!==j?j:"pending",Wt=jt(Bt),qt=(0,l.useMemo)(()=>{if(!T.audio_url)return null;if(/^https?:/i.test(T.audio_url))return T.audio_url;const e=T.audio_url.startsWith("/")?T.audio_url:"/".concat(T.audio_url);return"".concat(Je).concat(e)},[T.audio_url]),Ht=(0,l.useMemo)(()=>{var e;const t=null!==(e=null===Je||void 0===Je?void 0:Je.replace(/\/$/,""))&&void 0!==e?e:"";return"".concat(t,"/api/channels/").concat(encodeURIComponent(T.channel),"/videos/").concat(encodeURIComponent(T.video),"/srt")},[T.channel,T.video]),Vt=((0,l.useMemo)(()=>{var e;const t=null!==(e=null!==he&&void 0!==he?he:T.audio_updated_at)&&void 0!==e?e:T.updated_at;if(!t)return"\u672a\u66f4\u65b0";const n=new Date(t);return Number.isNaN(n.getTime())?t:n.toLocaleString("ja-JP")},[he,T.audio_updated_at,T.updated_at]),(0,l.useMemo)(()=>{if(!T.updated_at)return"\u672a\u66f4\u65b0";const e=new Date(T.updated_at);return Number.isNaN(e.getTime())?T.updated_at:e.toLocaleString("ja-JP")},[T.updated_at])),$t=(0,l.useMemo)(()=>{if(!T.completed_at)return null;const e=new Date(T.completed_at);return Number.isNaN(e.getTime())?T.completed_at:e.toLocaleString("ja-JP")},[T.completed_at]),Qt=(0,l.useMemo)(()=>bt.slice(0,7),[]),Kt=(0,l.useMemo)(()=>["script_audio_ai","script_tts_prepare","audio_synthesis"],[]),Jt=(0,l.useMemo)(()=>["srt_generation","timeline_copy"],[]),Yt=(0,l.useMemo)(()=>{var e;const t=null!==(e=T.stages)&&void 0!==e?e:{},n=e=>e.filter(e=>"completed"===t[e]).length,a=(e,t)=>0===t?0:Math.min(100,Math.round(e/t*100)),l=n(Qt),r=n(Kt),s=n(Jt);return{script:{completed:l,total:Qt.length,percent:a(l,Qt.length),status:jt(T.status)},audio:{completed:r,total:Kt.length,percent:a(r,Kt.length),status:Wt,ready:xe},subtitle:{completed:s,total:Jt.length,percent:a(s,Jt.length),status:s===Jt.length?"\u5b8c\u4e86":"\u8abf\u6574\u4e2d"},timestamps:{updated:Vt,audioUpdated:Ut,completed:$t},quality:{label:Dt,summary:Ft,duration:At}}},[Dt,Ft,Wt,At,Ut,$t,T.status,T.stages,Vt,xe,Qt,Kt,Jt]),Gt=(0,l.useMemo)(()=>[{key:"script",icon:"\ud83d\udcdd",title:"\u53f0\u672c",description:"\u7814\u7a76\u301c\u691c\u8a3c",percent:Yt.script.percent,status:Yt.script.status},{key:"audio",icon:"\ud83c\udf99\ufe0f",title:"\u97f3\u58f0",description:Yt.audio.ready?"\u97f3\u58f0\u6e96\u5099\u6e08\u307f":"\u97f3\u58f0\u672a\u6e96\u5099",percent:Yt.audio.percent,status:Yt.audio.status,tone:Yt.audio.ready?"success":"warning"},{key:"subtitle",icon:"\ud83d\udcac",title:"\u5b57\u5e55",description:Yt.subtitle.status,percent:Yt.subtitle.percent,status:Yt.subtitle.status,tone:100===Yt.subtitle.percent?"info":void 0}],[Yt]),Xt=(0,l.useMemo)(()=>bt.filter(e=>e in T.stages||void 0!==ke[e]).map(e=>{var t,n,a;const l=null!==(t=null!==(n=ke[e])&&void 0!==n?n:null===(a=T.stages)||void 0===a?void 0:a[e])&&void 0!==t?t:"";return{stage:e,label:xt(e),status:null!==l&&void 0!==l?l:"",statusLabel:jt(l||""),tone:"completed"===l?"success":"review"===l?"warning":"blocked"===l?"danger":"in_progress"===l?"info":void 0}}),[T.stages,ke]),Zt=null!==(w=T.youtube_description)&&void 0!==w?w:"",en=(0,l.useMemo)(()=>{const e="blocked"===Bt?"\u8981\u5bfe\u5fdc":"in_progress"===Bt?"\u751f\u6210\u4e2d":"review"===Bt?"\u30ec\u30d3\u30e5\u30fc":null;return[{key:"overview",label:"\u6982\u8981"},{key:"script",label:"\u53f0\u672c\u30fb\u97f3\u58f0\u5b57\u5e55",badge:Nt?"\u672a\u4fdd\u5b58":null,tone:Nt?"warning":void 0},{key:"audio",label:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc",badge:e,tone:e?"warning":void 0},{key:"history",label:"\u5c65\u6b74"}]},[Bt,Nt]),tn=(0,l.useMemo)(()=>"script"===Lt?()=>{Et()}:null,[Lt,Et]),nn=(0,l.useMemo)(()=>"script"===Lt?"A\u30fbB\u30c6\u30ad\u30b9\u30c8\u3092\u4fdd\u5b58":"\u4fdd\u5b58",[Lt]),an=null===tn||null!==Te||!yt&&!wt&&ce===de,ln=(0,l.useMemo)(()=>({onSaveSrt:O,onVerifySrt:z,onUpdateStatus:M,onUpdateReady:I,onUpdateStages:A,onReplaceTts:U,onValidateTts:L}),[U,O,I,A,M,L,z]),rn=((0,l.useMemo)(()=>Boolean((null===Re||void 0===Re?void 0:Re.sanitized_content)&&Re.sanitized_content!==G),[G,Re]),(0,l.useCallback)(async()=>{if(Zt)try{await navigator.clipboard.writeText(Zt),mt("copied"),window.setTimeout(()=>mt("idle"),2e3)}catch(e){mt("error"),window.setTimeout(()=>mt("idle"),2e3)}},[Zt]));return(0,kt.jsxs)("div",{className:"panel detail-panel",id:"video-detail",children:[(0,kt.jsxs)("header",{className:"detail-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h2",{children:[T.channel," / ",T.video]}),(0,kt.jsx)("p",{className:"muted",children:null!==(N=T.script_id)&&void 0!==N?N:"\u30b9\u30af\u30ea\u30d7\u30c8ID\u672a\u8a2d\u5b9a"}),(0,kt.jsx)("p",{className:"detail-title",children:null!==(S=T.title)&&void 0!==S?S:"\u30bf\u30a4\u30c8\u30eb\u672a\u8a2d\u5b9a"}),(0,kt.jsxs)("p",{className:"muted",children:["\u6700\u7d42\u66f4\u65b0: ",Vt,$t?" \uff0f \u5b8c\u4e86\u767b\u9332: ".concat($t):""]})]}),(0,kt.jsxs)("div",{className:"status-box",children:[(0,kt.jsx)("label",{className:"label",children:"\u6848\u4ef6\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,kt.jsxs)("div",{className:"inline-group",children:[(0,kt.jsx)("input",{type:"text",value:_e,onChange:e=>ye(e.target.value),placeholder:"\u4f8b: in_progress"}),(0,kt.jsx)("button",{type:"button",onClick:Tt,disabled:null!==Te,children:"\u4fdd\u5b58"})]}),(0,kt.jsx)("div",{className:"inline-group",children:(0,kt.jsxs)("label",{className:"checkbox",children:[(0,kt.jsx)("input",{type:"checkbox",checked:xe,onChange:e=>{const t=e.target.checked;je(t),Rt(t)}}),"\u97f3\u58f0\u53ce\u9332\u306e\u6e96\u5099\u304c\u5b8c\u4e86"]})}),(0,kt.jsxs)("p",{className:"muted status-note",children:["\u73fe\u5728: ",jt(T.status)]})]})]}),(0,kt.jsx)("nav",{className:"detail-tabs",role:"tablist",children:en.map(e=>{const t=Lt===e.key;return(0,kt.jsxs)("button",{type:"button",role:"tab",className:t?"detail-tab detail-tab--active":"detail-tab",onClick:()=>Ot(e.key),"aria-selected":t,children:[(0,kt.jsx)("span",{children:e.label}),e.badge?(0,kt.jsx)("span",{className:"detail-tab__badge",children:e.badge}):null]},e.key)})}),(0,kt.jsxs)("div",{className:"detail-action-bar",children:[(0,kt.jsx)("div",{className:"detail-action-bar__left",children:tn?(0,kt.jsxs)("button",{type:"button",className:"action-button",onClick:tn,disabled:an,children:[nn," ",(0,kt.jsx)("span",{className:"action-button__shortcut",children:"\u2318/Ctrl+S"})]}):null}),(0,kt.jsx)("div",{className:"detail-action-bar__right",children:"audio"===Lt&&It?(0,kt.jsx)("button",{type:"button",className:"action-chip".concat(lt?" action-chip--active":""),onClick:()=>rt(e=>!e),"aria-pressed":lt,children:"\u5c65\u6b74"}):null})]}),(0,kt.jsxs)("div",{className:"detail-tab-panels",children:["overview"===Lt&&(0,kt.jsx)("div",{className:"detail-tab-panel detail-tab-panel--overview",role:"tabpanel",children:(0,kt.jsxs)("section",{className:"overview-grid",children:[(0,kt.jsxs)("div",{className:"panel-card overview-progress-card",children:[(0,kt.jsxs)("header",{className:"panel-card__header",children:[(0,kt.jsx)("h3",{children:"\u3053\u306e\u53f0\u672c\u306e\u9032\u884c\u72b6\u6cc1"}),(0,kt.jsxs)("span",{className:"muted small-text",children:["\u6700\u7d42\u66f4\u65b0: ",null!==(C=Yt.timestamps.updated)&&void 0!==C?C:"\u672a\u66f4\u65b0"]})]}),(0,kt.jsx)("ul",{className:"progress-list",children:Gt.map(e=>(0,kt.jsxs)("li",{className:"progress-list__item".concat(e.tone?" progress-list__item--".concat(e.tone):""),children:[(0,kt.jsxs)("div",{className:"progress-list__label",children:[(0,kt.jsx)("span",{className:"progress-list__icon","aria-hidden":!0,children:e.icon}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"progress-list__title",children:e.title}),(0,kt.jsx)("p",{className:"progress-list__description",children:e.description})]})]}),(0,kt.jsx)("div",{className:"progress-list__bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percent,children:(0,kt.jsx)("div",{className:"progress-list__bar-fill",style:{width:"".concat(e.percent,"%")}})}),(0,kt.jsx)("span",{className:"progress-list__status",children:e.status})]},e.key))}),(0,kt.jsxs)("div",{className:"progress-meta",children:[(0,kt.jsxs)("span",{className:"progress-meta__item",children:["\u97f3\u58f0\u6700\u7d42\u751f\u6210: ",null!==(E=Yt.timestamps.audioUpdated)&&void 0!==E?E:"\u672a\u66f4\u65b0"]}),(0,kt.jsxs)("span",{className:"progress-meta__item",children:["\u97f3\u58f0\u54c1\u8cea: ",Yt.quality.label]}),Yt.quality.duration?(0,kt.jsxs)("span",{className:"progress-meta__item",children:["\u9577\u3055: ",Yt.quality.duration]}):null,Yt.quality.summary?(0,kt.jsxs)("span",{className:"progress-meta__item",children:["\u30e1\u30e2: ",Yt.quality.summary]}):null]})]}),(0,kt.jsxs)("div",{className:"panel-card overview-stage-card",children:[(0,kt.jsxs)("header",{className:"panel-card__header stage-card__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{children:"\u9032\u6357\u30b9\u30c6\u30fc\u30b8"}),(0,kt.jsx)("p",{className:"muted small-text",children:"\u30b9\u30c6\u30fc\u30b8\u5909\u66f4\u306f\u5fc5\u8981\u306a\u5834\u5408\u306e\u307f\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002"})]}),(0,kt.jsx)("button",{type:"button",className:"stage-card__toggle",onClick:()=>ot(e=>!e),children:it?"\u6298\u308a\u305f\u305f\u3080":"\u8a73\u7d30\u3092\u8868\u793a"})]}),(0,kt.jsx)(St,{stages:T.stages}),it?(0,kt.jsx)("div",{className:"stage-detail-grid",children:Xt.map(e=>{var t;return(0,kt.jsxs)("label",{className:"stage-detail".concat(e.tone?" stage-detail--".concat(e.tone):""),children:[(0,kt.jsx)("span",{className:"stage-detail__label",children:e.label}),(0,kt.jsxs)("select",{value:null!==(t=e.status)&&void 0!==t?t:"",onChange:t=>we(n=>Ve(Ve({},n),{},{[e.stage]:t.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"\u672a\u8a2d\u5b9a"}),kn.map(e=>(0,kt.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,kt.jsx)("span",{className:"stage-detail__status",children:e.statusLabel})]},e.stage)})}):(0,kt.jsx)("p",{className:"muted small-text",children:"\u8a73\u7d30\u3092\u958b\u304f\u3068\u30b9\u30c6\u30fc\u30b8\u306e\u7de8\u96c6\u304c\u53ef\u80fd\u3067\u3059\u3002"}),(0,kt.jsx)("div",{className:"actions actions--compact",children:(0,kt.jsx)("button",{type:"button",onClick:Pt,disabled:null!==Te,children:"\u9032\u6357\u3092\u4fdd\u5b58"})})]}),(0,kt.jsxs)("div",{className:"panel-card overview-assets-card",children:[(0,kt.jsxs)("header",{className:"panel-card__header",children:[(0,kt.jsx)("h3",{children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u30d5\u30a1\u30a4\u30eb"}),(0,kt.jsx)("span",{className:"muted small-text",children:"\u751f\u6210\u6e08\u307f\u306e\u6700\u65b0\u7248\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059"})]}),(0,kt.jsxs)("div",{className:"overview-assets__actions",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{qt&&window.open(qt,"_blank","noreferrer")},disabled:!qt,children:"\u97f3\u58f0\u3092\u958b\u304f"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{vt()},children:"A\u30c6\u30ad\u30b9\u30c8\u3092\u898b\u308b"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>{Ht&&window.open(Ht,"_blank","noreferrer")},children:"\u5b57\u5e55SRT\u3092\u958b\u304f"})]}),qt?null:(0,kt.jsx)("p",{className:"muted small-text",children:"\u97f3\u58f0\u304c\u307e\u3060\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"})]}),(0,kt.jsxs)("div",{className:"panel-card overview-description-card",children:[(0,kt.jsxs)("header",{className:"panel-card__header",children:[(0,kt.jsx)("h3",{children:"YouTube\u8aac\u660e\u6587"}),(0,kt.jsx)("span",{className:"muted small-text",children:"\u6295\u7a3f\u6642\u306b\u30b3\u30d4\u30da\u3067\u304d\u307e\u3059\uff08\u81ea\u52d5\u751f\u6210\uff09"})]}),(0,kt.jsx)("textarea",{className:"youtube-description-textarea",value:Zt,readOnly:!0,placeholder:"\u8aac\u660e\u6587\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u305b\u3093"}),(0,kt.jsxs)("div",{className:"actions actions--compact",children:[(0,kt.jsx)("button",{type:"button",onClick:rn,disabled:!Zt,children:"\u30b3\u30d4\u30fc"}),(0,kt.jsx)("span",{className:"muted small-text",children:"copied"===ht?"\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f":"error"===ht?"\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f":""})]})]})]})}),"script"===Lt&&(0,kt.jsxs)("section",{className:"detail-tab-panel detail-tab-panel--script script-tab",role:"tabpanel",children:[ft.length>0?(0,kt.jsxs)("div",{className:"main-alert main-alert--warning",role:"alert",children:[(0,kt.jsx)("strong",{children:"\u672a\u6574\u5099:"})," ",ft.join(" / ")]}):null,!1,(0,kt.jsxs)("div",{className:"script-row",children:[(0,kt.jsx)("h2",{className:"script-row__title",children:"\u4eba\u9593\u7de8\u96c6\u7248\uff08\u7de8\u96c6\u53ef\u80fd\uff09"}),(0,kt.jsxs)("div",{className:"script-tab__layout",children:[(0,kt.jsxs)("div",{className:"script-editor-card",children:[(0,kt.jsxs)("header",{className:"script-editor__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{children:"A\u30c6\u30ad\u30b9\u30c8\uff08\u8868\u793a\u7528\uff09"}),(0,kt.jsx)("p",{className:"script-editor__hint",children:"\u8996\u8074\u8005\u3078\u898b\u305b\u308b\u53f0\u672c\u3092\u7de8\u96c6"})]}),(0,kt.jsxs)("div",{className:"script-editor__meta","aria-live":"polite",children:[(0,kt.jsxs)("span",{className:"script-editor__counter",children:["\u6587\u5b57\u6570: ",V.replace(/\r/g,"").replace(/\n/g,"").length.toLocaleString("ja-JP")]}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--sm",onClick:()=>{$(q),Se("AI\u7248\u3092\u4eba\u9593\u7de8\u96c6\u7248\u3078\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")},disabled:null!==Te,children:"\u2191 AI\u7248\u3092\u30b3\u30d4\u30fc"})]})]}),(0,kt.jsx)("textarea",{className:"script-editor__textarea",value:V,onChange:e=>$(e.target.value),"aria-label":"\u4eba\u9593\u7de8\u96c6\u7248\u306e\u8868\u793a\u7528\u30c6\u30ad\u30b9\u30c8",placeholder:"\u4eba\u9593\u7de8\u96c6\u7248\u306e\u53f0\u672c\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})]}),(0,kt.jsxs)("div",{className:"script-editor-card",children:[(0,kt.jsxs)("header",{className:"script-editor__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{children:"B\u30c6\u30ad\u30b9\u30c8\uff08\u97f3\u58f0\u7528\uff09"}),(0,kt.jsx)("p",{className:"script-editor__hint",children:"\u8033\u3067\u8074\u304f\u5185\u5bb9\u306fA\u3068\u540c\u4e00\u306b\u3057\u3066\u304f\u3060\u3055\u3044"})]}),(0,kt.jsxs)("div",{className:"script-editor__meta","aria-live":"polite",children:[(0,kt.jsxs)("span",{className:"script-editor__counter",children:["\u6587\u5b57\u6570: ",G.replace(/\r/g,"").replace(/\n/g,"").length.toLocaleString("ja-JP")]}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--sm",onClick:()=>{X(J),Se("AI\u7248\u3092\u4eba\u9593\u7de8\u96c6\u7248\u3078\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")},disabled:null!==Te,children:"\u2191 AI\u7248\u3092\u30b3\u30d4\u30fc"})]})]}),(0,kt.jsx)("textarea",{ref:gt,className:"script-editor__textarea",value:G,onChange:e=>X(e.target.value),"aria-label":"\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\uff08\u4eba\u9593\u7de8\u96c6\u7248\uff09",placeholder:"\u97f3\u58f0\u8aad\u307f\u4e0a\u3052\u7528\u30c6\u30ad\u30b9\u30c8\uff08\u4eba\u9593\u7de8\u96c6\u7248\uff09\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})]})]})]}),(0,kt.jsxs)("div",{className:"script-save-area",children:[(0,kt.jsxs)("div",{className:"script-editor__messages","aria-live":"polite",children:[ct&&(0,kt.jsx)("p",{className:"muted",children:"\u53f0\u672c\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}),dt&&(0,kt.jsx)("p",{className:"error",children:dt}),Ne&&(0,kt.jsx)("p",{className:"success",children:Ne}),Ce&&(0,kt.jsx)("p",{className:"error",children:Ce})]}),(0,kt.jsx)("div",{className:"script-editor__actions script-editor__actions--horizontal",children:(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--primary",onClick:()=>{Et()},disabled:null!==Te||!yt&&!wt&&ce===de,children:yt||wt||ce!==de?"\u5909\u66f4\u3092\u4fdd\u5b58":"\u4fdd\u5b58\u6e08\u307f"})})]})]}),"audio"===Lt&&(0,kt.jsxs)("div",{className:"detail-tab-panel detail-tab-panel--audio",role:"tabpanel",children:[(0,kt.jsx)(jn,{detail:T,handlers:ln,refreshing:D,onDirtyChange:F,showSrtColumn:!0,title:"\u97f3\u58f0\u751f\u6210\u30fb\u78ba\u8a8d",hint:"\u6700\u7d42WAV/SRT/\u30ed\u30b0\u306e\u78ba\u8a8d\u3068\u5b57\u5e55\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u307e\u3059\u3002\u53f3\u5074\u3067\u78ba\u5b9aSRT\u3092\u76f4\u63a5\u7de8\u96c6\u30fb\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002"}),It?(0,kt.jsx)(Sn,{title:"\u97f3\u58f0\u751f\u6210\u5c65\u6b74",open:lt,onToggle:e=>rt(e),children:(0,kt.jsx)("div",{className:"audio-history",children:(0,kt.jsx)("ul",{children:Mt.map((e,t)=>{var n;const a=e.event?(0,kt.jsx)("span",{className:"audio-history__event",children:e.event}):null,l=e.status?(0,kt.jsx)("span",{className:"audio-history__status audio-history__status--".concat(String(e.status)),children:String(e.status)}):null,r=e.message?(0,kt.jsx)("p",{className:"audio-history__message",children:String(e.message)}):null,s=[e.final_wav?(0,kt.jsx)("a",{className:"link",href:"/".concat(e.final_wav),target:"_blank",rel:"noreferrer",children:"\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb"}):null,e.final_srt?(0,kt.jsx)("a",{className:"link",href:"/".concat(e.final_srt),target:"_blank",rel:"noreferrer",children:"\u5b57\u5e55\u30d5\u30a1\u30a4\u30eb"}):null,e.log_json?(0,kt.jsx)("a",{className:"link",href:"/".concat(e.log_json),target:"_blank",rel:"noreferrer",children:"\u30ed\u30b0(JSON)"}):null,e.log_text?(0,kt.jsx)("a",{className:"link",href:"/".concat(e.log_text),target:"_blank",rel:"noreferrer",children:"\u30ed\u30b0(TXT)"}):null].filter(Boolean);return(0,kt.jsxs)("li",{children:[(0,kt.jsxs)("div",{className:"audio-history__header",children:[(0,kt.jsx)("span",{className:"audio-history__time",children:zt(e.timestamp)}),a,l]}),r,s.length>0?(0,kt.jsx)("div",{className:"audio-history__links",children:s.map((e,n)=>(0,kt.jsx)("span",{className:"audio-history__link",children:e},"history-".concat(t,"-link-").concat(n)))}):null]},"history-".concat(t,"-").concat(null!==(n=e.event)&&void 0!==n?n:""))})})})}):null]}),"history"===Lt&&(0,kt.jsx)("div",{className:"detail-tab-panel detail-tab-panel--history",role:"tabpanel",children:(0,kt.jsxs)("section",{className:"detail-section",children:[(0,kt.jsx)("h3",{children:"\u97f3\u58f0\u30e1\u30bf\u30c7\u30fc\u30bf"}),T.audio_metadata?(0,kt.jsx)("div",{className:"metadata-grid",children:(0,kt.jsx)("pre",{className:"metadata-json",children:JSON.stringify(T.audio_metadata,null,2)})}):(0,kt.jsx)("p",{className:"muted",children:"\u97f3\u58f0\u30e1\u30bf\u60c5\u5831\u304c\u672a\u767b\u9332\u3067\u3059\u3002"})]})})]}),(0,kt.jsxs)("footer",{className:"detail-footer",children:[D&&(0,kt.jsx)("span",{className:"muted",children:"\u6700\u65b0\u60c5\u5831\u3092\u53d6\u5f97\u4e2d\u2026"}),Te&&(0,kt.jsxs)("span",{className:"muted",children:[Te," \u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u2026"]}),Ne&&(0,kt.jsx)("span",{className:"success",children:Ne}),Ce&&(0,kt.jsx)("span",{className:"error",children:Ce})]}),te?(0,kt.jsx)("div",{className:"modal-backdrop",onClick:()=>ne(!1),children:(0,kt.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,kt.jsxs)("header",{className:"modal__header",children:[(0,kt.jsx)("h3",{children:"A\u30c6\u30ad\u30b9\u30c8"}),(0,kt.jsx)("button",{className:"workspace-button workspace-button--ghost",onClick:()=>ne(!1),children:"\u9589\u3058\u308b"})]}),(0,kt.jsxs)("div",{className:"modal__body",style:{maxHeight:"60vh",overflow:"auto"},children:[re?(0,kt.jsx)("p",{children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,ie?(0,kt.jsx)("p",{className:"error",children:ie}):null,ae?(0,kt.jsx)("pre",{className:"code-block",style:{whiteSpace:"pre-wrap"},children:ae}):null]})]})}):null]})}function Sn(e){let{title:t,subtitle:n,children:a,open:l,onToggle:r,highlight:s=!1}=e;return(0,kt.jsxs)("div",{className:"panel-card collapse-card".concat(s?" collapse-card--highlight":""),children:[(0,kt.jsx)("header",{className:"panel-card__header collapse-card__header",children:(0,kt.jsxs)("button",{type:"button",className:"collapse-card__toggle",onClick:()=>r(!l),"aria-expanded":l,children:[(0,kt.jsx)("span",{className:"collapse-card__icon",children:l?"\u2212":"+"}),(0,kt.jsx)("span",{className:"collapse-card__title",children:t}),n&&(0,kt.jsx)("span",{className:"collapse-card__subtitle",children:n})]})}),l&&(0,kt.jsx)("div",{className:"collapse-card__body",children:a})]})}function Cn(){return(0,kt.jsxs)("div",{className:"instruction-panel",children:[(0,kt.jsx)("h2",{children:"\u4f7f\u3044\u65b9\u30ac\u30a4\u30c9"}),(0,kt.jsxs)("p",{className:"muted",children:["\u3053\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306f\u3001\u53f0\u672c\u30fb\u97f3\u58f0\u5236\u4f5c\u30d5\u30a7\u30fc\u30ba\u306e\u9032\u6357\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u753b\u9762\u3067\u3059\u3002 \u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u3068\u540c\u671f\u3057\u305f ",(0,kt.jsx)("strong",{children:"status.json"})," \u3092\u552f\u4e00\u306e\u771f\u5b9f\u3068\u3057\u3001\u4f5c\u696d\u7d50\u679c\u3092\u3053\u3053\u304b\u3089\u7de8\u96c6\u30fb\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002"]}),(0,kt.jsxs)("ol",{children:[(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"\u5de6\u30ab\u30e9\u30e0"}),"\u3067\u30c1\u30e3\u30f3\u30cd\u30eb \u2192 \u52d5\u753b\u3092\u9806\u306b\u9078\u629e\u3057\u307e\u3059\u3002"]}),(0,kt.jsx)("li",{children:"\u9032\u6357\u30c6\u30fc\u30d6\u30eb\u3067\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30b8\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002"}),(0,kt.jsx)("li",{children:"\u53f0\u672c\u672c\u6587\u30fb\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u30fb\u5b57\u5e55\u3092\u7de8\u96c6\u3057\u305f\u3089\u3001\u305d\u308c\u305e\u308c\u306e\u300c\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002"}),(0,kt.jsx)("li",{children:"\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u6e08\u307f\u306e\u5834\u5408\u306f\u3001\u753b\u9762\u4e0b\u90e8\u3067\u8a66\u8074\u3067\u304d\u307e\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"instruction-highlight",children:[(0,kt.jsx)("h3",{children:"\u5236\u4f5c\u30d5\u30ed\u30fc\uff08AI 95% \u81ea\u52d5\u5316\uff09"}),(0,kt.jsx)("p",{children:"\u2460 \u4f01\u753b\u63a1\u7528 \u2192 \u2461 \u53f0\u672c\u81ea\u52d5\u751f\u6210 \u2192 \u2462 \u97f3\u58f0\u8aad\u307f\u4e0a\u3052\u30fb\u5b57\u5e55 \u2192 \u2463 \u753b\u50cf\u751f\u6210 \u2192 \u2464 \u52d5\u753b\u7de8\u96c6 \u2192 \u2465 \u30b5\u30e0\u30cd\u8abf\u6574 \u2192 \u2466 \u6295\u7a3f\u30fb\u5206\u6790"}),(0,kt.jsxs)("p",{children:["\u672cUI\u3067\u306f\u7279\u306b ",(0,kt.jsx)("strong",{children:"\u2461 \u53f0\u672c"})," \u3068 ",(0,kt.jsx)("strong",{children:"\u2462 \u97f3\u58f0"})," \u306b\u95a2\u3059\u308b\u6210\u679c\u7269\u3092\u78ba\u8a8d\u30fb\u4fee\u6b63\u3067\u304d\u307e\u3059\u3002"]})]}),(0,kt.jsxs)("p",{className:"muted small",children:["\u8a73\u7d30\u306a\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u624b\u9806\u306f ",(0,kt.jsx)("code",{children:"docs/ui/WORKFLOW.md"})," \u3068\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})}function En(e){let{items:t}=e;return t.length?(0,kt.jsxs)("div",{className:"activity-log",children:[(0,kt.jsx)("h2",{children:"\u6700\u8fd1\u306e\u64cd\u4f5c"}),(0,kt.jsx)("ul",{children:t.map(e=>(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:e.title}),e.description&&(0,kt.jsxs)("span",{children:[" \u2014 ",e.description]}),e.timestamp&&(0,kt.jsx)("div",{className:"activity-log__time",children:e.timestamp})]},e.title+e.timestamp))})]}):(0,kt.jsxs)("div",{className:"activity-log",children:[(0,kt.jsx)("h2",{children:"\u6700\u8fd1\u306e\u64cd\u4f5c"}),(0,kt.jsx)("p",{className:"muted",children:"\u307e\u3060\u64cd\u4f5c\u5c65\u6b74\u304c\u3042\u308a\u307e\u305b\u3093\u3002"})]})}function Tn(){const{selectedChannel:e,selectedChannelSummary:t,selectedChannelSnapshot:n,navigateToChannel:a,detailError:l,detailLoading:r,shouldShowDetailPanel:s,detailHandlers:i,videoDetail:o,detailTab:c,setDetailTab:u,hasUnsavedChanges:d,setHasUnsavedChanges:p,activityItems:h}=le();return(0,kt.jsxs)(kt.Fragment,{children:[d?(0,kt.jsx)("div",{className:"main-status",children:(0,kt.jsx)("span",{className:"status-chip status-chip--warning",children:"\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u3042\u308a"})}):null,(0,kt.jsx)("section",{className:"main-content main-content--channel",children:e&&t&&n?(0,kt.jsx)(vn,{channel:t,snapshot:n,onBackToDashboard:()=>a(e),backLabel:"\u2b05 \u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7\u3078"}):(0,kt.jsxs)("div",{className:"shell-panel shell-panel--placeholder",children:[(0,kt.jsx)("h2",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"}),(0,kt.jsx)("p",{className:"shell-panel__subtitle",children:"\u30b5\u30a4\u30c9\u30d0\u30fc\u304b\u3089\u5225\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078\u623b\u3063\u3066\u304f\u3060\u3055\u3044\u3002"})]})}),(0,kt.jsxs)("section",{className:"main-content",children:[l?(0,kt.jsx)("div",{className:"main-alert main-alert--error",children:l}):null,(0,kt.jsxs)("div",{className:"detail-pane",children:[r?(0,kt.jsxs)("div",{className:"detail-pane__overlay",role:"status","aria-live":"polite",children:[(0,kt.jsx)("span",{className:"detail-pane__spinner","aria-hidden":!0}),(0,kt.jsx)("span",{children:"\u8a73\u7d30\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"})]}):null,s&&i&&o?(0,kt.jsx)(Nn,{detail:o,refreshing:r,onSaveAssembled:i.onSaveAssembled,onSaveTts:i.onSaveTts,onValidateTts:i.onValidateTts,onSaveSrt:i.onSaveSrt,onVerifySrt:i.onVerifySrt,onUpdateStatus:i.onUpdateStatus,onUpdateReady:i.onUpdateReady,onUpdateStages:i.onUpdateStages,onReplaceTts:i.onReplaceTts,onDirtyChange:p,activeTab:c,onTabChange:u}):(0,kt.jsx)(Cn,{})]})]}),(0,kt.jsx)("section",{className:"main-content main-content--log",children:(0,kt.jsx)(En,{items:h})})]})}function Pn(e){return new Intl.NumberFormat("ja-JP").format(e)}function Rn(e,t){return 0===t?"0%":"".concat(Math.round(e/t*100),"%")}function Ln(e,t){return(0,kt.jsxs)("span",{className:"dashboard-table__value",children:[(0,kt.jsx)("span",{className:"dashboard-table__count",children:Pn(e)}),(0,kt.jsx)("span",{className:"dashboard-table__percent",children:Rn(e,t)})]})}function On(e){var t;let{overview:n,loading:a,error:l,channels:r,onSelectChannel:s,selectedChannel:i,onFocusAudioBacklog:o,onFocusNeedsAttention:c,title:u,titleIcon:d="\ud83d\udcfa",subtitle:p="\u53f0\u672c\u30fb\u97f3\u58f0\u30fb\u5b57\u5e55\u306e\u9032\u884c\u72b6\u6cc1\u3068\u6ede\u7559\u30dd\u30a4\u30f3\u30c8\u3092\u4e00\u76ee\u3067\u628a\u63e1\u3057\u3001\u6b21\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3078\u7e4b\u3052\u307e\u3059\u3002"}=e;const h=ne(),m=ee();if(a)return(0,kt.jsx)("section",{className:"dashboard-overview dashboard-clean",children:(0,kt.jsx)("p",{className:"muted",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"})});if(l)return(0,kt.jsx)("section",{className:"dashboard-overview dashboard-clean",children:(0,kt.jsx)("p",{className:"error",children:l})});if(!n)return null;const f=new Map;if(r)for(const j of r)f.set(j.code,j);const v=n.channels.map(e=>{var t,a,l,r,s,i,o,c,u,d;const p=f.get(e.code),h=null!==(t=null!==(a=null!==(l=null!==(r=null===p||void 0===p||null===(s=p.branding)||void 0===s?void 0:s.title)&&void 0!==r?r:null===p||void 0===p?void 0:p.youtube_title)&&void 0!==l?l:null===p||void 0===p?void 0:p.name)&&void 0!==a?a:null===p||void 0===p?void 0:p.code)&&void 0!==t?t:e.code,m=null!==(i=null===p||void 0===p||null===(o=p.branding)||void 0===o?void 0:o.avatar_url)&&void 0!==i?i:null,v=null!==(c=null===p||void 0===p||null===(u=p.branding)||void 0===u?void 0:u.theme_color)&&void 0!==c?c:null,g=e.total,b=function(e,t,n){var a,l,r;if(!t)return e;const s=null===(a=t[n])||void 0===a?void 0:a.script_outline;if(!s)return e;const i=e-(null!==(l=s.pending)&&void 0!==l?l:0)+(null!==(r=s.skipped)&&void 0!==r?r:0);return Math.max(0,Math.min(e,i))}(g,n.stage_matrix,e.code),_=e.script_completed,y=e.ready_for_audio,x=e.audio_completed,j=null!==(d=e.srt_completed)&&void 0!==d?d:0,k=Math.min(x,j),w=Math.max(g-k,0);return{code:e.code,displayName:h,avatarUrl:m,themeColor:v,total:g,scriptStarted:b,scriptCompleted:_,ttsReady:y,audioSubtitleCompleted:k,blocked:e.blocked,audioSubtitleBacklog:w}}),g=v.reduce((e,t)=>(e.total+=t.total,e.scriptStarted+=t.scriptStarted,e.scriptCompleted+=t.scriptCompleted,e.ttsReady+=t.ttsReady,e.audioSubtitleCompleted+=t.audioSubtitleCompleted,e.blocked+=t.blocked,e.audioSubtitleBacklog+=t.audioSubtitleBacklog,e),{total:0,scriptStarted:0,scriptCompleted:0,ttsReady:0,audioSubtitleCompleted:0,blocked:0,audioSubtitleBacklog:0}),b=[{key:"script",label:"\u53f0\u672c\u5b8c\u6210",icon:"\ud83d\udcdd",value:g.scriptCompleted,helper:"\u5168 ".concat(Pn(g.total)," \u4ef6\u4e2d ").concat(Rn(g.scriptCompleted,g.total))},{key:"audioSubtitle",label:"\u97f3\u58f0\u30fb\u5b57\u5e55\u5b8c\u4e86",icon:"\ud83c\udf99\ufe0f",value:g.audioSubtitleCompleted,helper:Rn(g.audioSubtitleCompleted,g.total)},{key:"alert",label:"\u8981\u5bfe\u5fdc",icon:"\u26a0\ufe0f",value:g.blocked,helper:"\u691c\u8a3cNG / \u5931\u6557\u306e\u4ef6\u6570"}],_=[...v].filter(e=>e.blocked>0).sort((e,t)=>t.blocked-e.blocked),y=g.blocked>0?[{key:"needsAttention",title:"\u8981\u5bfe\u5fdc",description:"\u691c\u8a3cNG\u30fb\u518d\u751f\u6210\u5931\u6557\u306a\u3069\u306e\u8981\u78ba\u8a8d\u6848\u4ef6\u3067\u3059\u3002",primary:null!==(t=_[0])&&void 0!==t?t:null,total:g.blocked,metric:e=>e.blocked,action:e=>{null===c||void 0===c||c(e),e&&x(e)},actionLabel:"\u3053\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8868\u793a",emptyMessage:"\u8981\u5bfe\u5fdc\u6848\u4ef6\u306f\u3042\u308a\u307e\u305b\u3093\u3002",footnote:g.blocked>0?"\u5168\u4f53\u306e\u8981\u5bfe\u5fdc: ".concat(Pn(g.blocked)," \u4ef6"):void 0}]:[],x=e=>{const t="/channels/".concat(encodeURIComponent(e));null===s||void 0===s||s(e),m.pathname===t?h(t,{replace:!0,state:{refresh:Date.now()}}):h(t)};return(0,kt.jsxs)("section",{className:"dashboard-overview dashboard-clean",children:[(0,kt.jsxs)("header",{className:"dashboard-overview__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h1",{children:[(0,kt.jsx)("span",{className:"dashboard-overview__title-icon","aria-hidden":!0,children:d}),null!==u&&void 0!==u?u:"\u53f0\u672c\u30fb\u97f3\u58f0\u5236\u4f5c\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"]}),(0,kt.jsx)("p",{className:"muted",children:p})]}),(0,kt.jsxs)("span",{className:"dashboard-overview__timestamp",children:["\u6700\u7d42\u66f4\u65b0 ",new Date(n.generated_at).toLocaleString("ja-JP")]})]}),(0,kt.jsx)("section",{className:"dashboard-overview__kpis","aria-label":"\u4e3b\u8981\u6307\u6a19",children:b.map(e=>(0,kt.jsxs)("article",{className:"kpi-card",children:[(0,kt.jsx)("header",{children:e.label}),(0,kt.jsxs)("div",{className:"kpi-card__header",children:[(0,kt.jsx)("span",{className:"kpi-card__icon","aria-hidden":!0,children:e.icon}),(0,kt.jsx)("p",{className:"kpi-card__value",children:Pn(e.value)})]}),(0,kt.jsx)("span",{className:"kpi-card__meta",children:e.helper})]},e.key))}),y.length>0?(0,kt.jsx)("section",{className:"dashboard-focus","aria-label":"\u6ede\u7559\u72b6\u6cc1",children:y.map(e=>(0,kt.jsxs)("article",{className:"dashboard-focus-card".concat(e.primary?" dashboard-focus-card--clickable":""),role:e.primary?"button":void 0,tabIndex:e.primary?0:-1,onClick:()=>{e.primary&&e.action(e.primary.code)},onKeyDown:t=>{e.primary&&("Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.action(e.primary.code)))},children:[(0,kt.jsxs)("header",{className:"dashboard-focus-card__header",children:[(0,kt.jsx)("h2",{children:e.title}),(0,kt.jsx)("p",{className:"muted",children:e.description})]}),e.primary&&e.total>0?(0,kt.jsxs)("div",{className:"dashboard-focus-card__body",children:[(0,kt.jsx)("div",{className:"dashboard-focus-card__count",children:Pn(e.metric(e.primary))}),(0,kt.jsxs)("p",{className:"dashboard-focus-card__channel",children:[e.primary.code," / ",Rn(e.metric(e.primary),e.primary.total)]}),(0,kt.jsx)("button",{type:"button",className:"dashboard-focus-card__action",onClick:()=>e.action(e.primary.code),children:e.actionLabel})]}):(0,kt.jsx)("p",{className:"muted dashboard-focus-card__empty",children:e.emptyMessage}),e.footnote&&(0,kt.jsx)("span",{className:"dashboard-focus-card__footnote",children:e.footnote})]},e.key))}):null,(0,kt.jsx)("div",{className:"dashboard-table-wrapper",children:(0,kt.jsxs)("table",{className:"dashboard-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{scope:"col",children:"\u30c1\u30e3\u30f3\u30cd\u30eb"}),(0,kt.jsx)("th",{scope:"col",children:"\u4f01\u753b\u7dcf\u6570"}),(0,kt.jsx)("th",{scope:"col",children:"\u53f0\u672c\u7740\u624b\u6e08\u307f"}),(0,kt.jsx)("th",{scope:"col",children:"\u53f0\u672c\u5b8c\u6210"}),(0,kt.jsx)("th",{scope:"col",children:"\u97f3\u58f0\u7528\u30c6\u30ad\u30b9\u30c8\u5b8c\u6210"}),(0,kt.jsx)("th",{scope:"col",children:"\u97f3\u58f0\u30fb\u5b57\u5e55\u5b8c\u4e86"})]})}),(0,kt.jsx)("tbody",{children:v.map(e=>{var t;return(0,kt.jsxs)("tr",{className:"dashboard-table__row".concat(i===e.code?" dashboard-table__row--selected":""),onClick:()=>x(e.code),onKeyDown:t=>((e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(t))})(t,e.code),role:"button",tabIndex:0,children:[(0,kt.jsx)("th",{scope:"row",children:(0,kt.jsxs)("div",{className:"dashboard-table__channel",children:[(0,kt.jsx)("span",{className:"dashboard-table__avatar".concat(e.avatarUrl?" dashboard-table__avatar--image":""),style:e.avatarUrl?{backgroundImage:"url(".concat(e.avatarUrl,")")}:e.themeColor?{backgroundColor:e.themeColor}:void 0,"aria-hidden":!0,children:e.avatarUrl?null:(null!==(t=e.displayName)&&void 0!==t?t:e.code).slice(0,2).toUpperCase()}),(0,kt.jsxs)("div",{className:"dashboard-table__channel-texts",children:[(0,kt.jsx)("span",{className:"dashboard-table__channel-code",children:e.code}),e.displayName?(0,kt.jsx)("span",{className:"dashboard-table__channel-name",children:e.displayName}):null]})]})}),(0,kt.jsx)("td",{children:Pn(e.total)}),(0,kt.jsx)("td",{children:Ln(e.scriptStarted,e.total)}),(0,kt.jsx)("td",{children:Ln(e.scriptCompleted,e.total)}),(0,kt.jsx)("td",{children:Ln(e.ttsReady,e.total)}),(0,kt.jsx)("td",{children:Ln(e.audioSubtitleCompleted,e.total)})]},e.code)})}),(0,kt.jsx)("tfoot",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:"\u5408\u8a08"}),(0,kt.jsx)("td",{children:Pn(g.total)}),(0,kt.jsx)("td",{children:Ln(g.scriptStarted,g.total)}),(0,kt.jsx)("td",{children:Ln(g.scriptCompleted,g.total)}),(0,kt.jsx)("td",{children:Ln(g.ttsReady,g.total)}),(0,kt.jsx)("td",{children:Ln(g.audioSubtitleCompleted,g.total)})]})})]})})]})}function zn(){const{channels:e,channelsLoading:t,channelsError:n,dashboardOverview:a,dashboardLoading:l,dashboardError:r,selectedChannel:s,navigateToChannel:i,handleFocusAudioBacklog:o,handleFocusNeedsAttention:c}=le();return(0,kt.jsxs)(kt.Fragment,{children:[t||n||r?(0,kt.jsxs)("div",{className:"main-status",children:[t?(0,kt.jsx)("span",{className:"status-chip",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,n?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:n}):null,r?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:r}):null]}):null,(0,kt.jsx)("section",{className:"main-content main-content--dashboard",children:(0,kt.jsx)(On,{overview:a,loading:l,error:r,channels:e,onSelectChannel:i,selectedChannel:s,onFocusAudioBacklog:o,onFocusNeedsAttention:c,title:"\u53f0\u672c\u30fb\u97f3\u58f0\u5b57\u5e55\u7ba1\u7406",titleIcon:"\ud83c\udf9b\ufe0f",subtitle:"\u65e2\u5b58\u306e\u6848\u4ef6\u3092\u4fef\u77b0\u3057\u3001\u53f0\u672c\u30fb\u97f3\u58f0\u30fb\u5b57\u5e55\u306e\u6ede\u7559\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\u3002"})})]})}const Mn=["audio"],In=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{id:"".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2,7)),section:e,voice:t}};function An(e){return Ve(Ve({},e),{},{defaultTags:[...e.defaultTags],audioRules:e.audioRules.map(e=>Ve({},e))})}function Un(e){return e.map(e=>e.trim()).filter(e=>e.length>0)}function Dn(e){if(!e)return null;const t=e.audioRules.map(e=>({section:e.section.trim(),voice:e.voice.trim()})).filter(e=>e.section&&e.voice).sort((e,t)=>e.section===t.section?e.voice.localeCompare(t.voice):e.section.localeCompare(t.section));return{scriptPrompt:e.scriptPrompt,description:e.description,youtubeTitle:e.youtubeTitle,youtubeDescription:e.youtubeDescription,youtubeHandle:e.youtubeHandle,defaultTags:Un(e.defaultTags),audioDefaultVoiceKey:e.audioDefaultVoiceKey.trim(),audioRules:t}}function Fn(e,t){var n,a,l,r,s,i,o,c;const u={},d=null!==(n=t.script_prompt)&&void 0!==n?n:"";e.scriptPrompt!==d&&(u.script_prompt=e.scriptPrompt);const p=null!==(a=t.description)&&void 0!==a?a:"";e.description!==p&&(u.description=e.description);const h=null!==(l=t.youtube_title)&&void 0!==l?l:"";e.youtubeTitle!==h&&(u.youtube_title=e.youtubeTitle);const m=null!==(r=t.youtube_description)&&void 0!==r?r:"";e.youtubeDescription!==m&&(u.youtube_description=e.youtubeDescription);const f=null!==(s=t.youtube_handle)&&void 0!==s?s:"";e.youtubeHandle!==f&&(u.youtube_handle=e.youtubeHandle);const v=Un(e.defaultTags),g=Un(null!==(i=t.default_tags)&&void 0!==i?i:[]);var b,_;_=g,(b=v).length===_.length&&b.every((e,t)=>e===_[t])||(u.default_tags=v);const y={},x=e.audioDefaultVoiceKey.trim(),j=(null!==(o=t.audio_default_voice_key)&&void 0!==o?o:"").trim();x&&x!==j&&(y.default_voice_key=x);const k=function(e){const t={};for(const n of e){const e=n.section.trim(),a=n.voice.trim();e&&a&&(t[e]=a)}return t}(e.audioRules);return function(e,t){const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(n=>e[n]===t[n])}(k,null!==(c=t.audio_section_voice_rules)&&void 0!==c?c:{})||(y.section_voice_rules=k),Object.keys(y).length>0&&(u.audio=y),u}function Bn(e){var t,n,a,r,s,i,o;let{channelCode:c,channelName:u}=e;const[d,p]=(0,l.useState)(null),[h,m]=(0,l.useState)(null),[f,v]=(0,l.useState)(null),[g,b]=(0,l.useState)(!1),[_,y]=(0,l.useState)(null),[x,j]=(0,l.useState)(!1),[k,w]=(0,l.useState)(null),[N,S]=(0,l.useState)({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,original:""}),[C,E]=(0,l.useState)({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,headers:[],sample:[],original:""}),T=(0,l.useMemo)(()=>{var e,t,n;return null!==(e=null!==(t=null!==(n=null===d||void 0===d?void 0:d.planning_persona)&&void 0!==n?n:null===d||void 0===d?void 0:d.persona_summary)&&void 0!==t?t:null===d||void 0===d?void 0:d.audience_profile)&&void 0!==e?e:""},[d]),P=null!==(t=null===d||void 0===d?void 0:d.planning_persona_path)&&void 0!==t?t:null,R=null!==(n=null===d||void 0===d?void 0:d.planning_template_path)&&void 0!==n?n:null,L=null!==(a=null===d||void 0===d?void 0:d.planning_template_headers)&&void 0!==a?a:[],O=null!==(r=null===d||void 0===d?void 0:d.planning_template_sample)&&void 0!==r?r:[],z=(0,l.useMemo)(()=>{var e;return Object.entries(null!==(e=null===d||void 0===d?void 0:d.planning_description_defaults)&&void 0!==e?e:{})},[d]),M=null!==(s=null===d||void 0===d?void 0:d.planning_required_fieldsets)&&void 0!==s?s:[],I=N.open&&N.content!==N.original,A=C.open&&C.content!==C.original,U=(0,l.useCallback)(e=>{p(e);const t=function(e){var t,n,a,l,r,s,i,o;const c=null!==(t=e.audio_section_voice_rules)&&void 0!==t?t:{},u=Object.entries(c).map(e=>{let[t,n]=e;return In(t,n)});return{scriptPrompt:null!==(n=e.script_prompt)&&void 0!==n?n:"",description:null!==(a=e.description)&&void 0!==a?a:"",youtubeTitle:null!==(l=e.youtube_title)&&void 0!==l?l:"",youtubeDescription:null!==(r=e.youtube_description)&&void 0!==r?r:"",youtubeHandle:null!==(s=e.youtube_handle)&&void 0!==s?s:"",defaultTags:[...null!==(i=e.default_tags)&&void 0!==i?i:[]],audioDefaultVoiceKey:null!==(o=e.audio_default_voice_key)&&void 0!==o?o:"",audioRules:u}}(e);m(An(t)),v(An(t)),w(null)},[]),D=(0,l.useCallback)(async e=>{const t=null!==e&&void 0!==e?e:c;if(t){b(!0),y(null);try{const e=await Ze(t);U(e)}catch(n){const e=n instanceof Error?n.message:String(n);y(e)}finally{b(!1)}}},[c,U]);(0,l.useEffect)(()=>{if(!c)return p(null),m(null),v(null),y(null),w(null),S({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,original:""}),void E({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,headers:[],sample:[],original:""});D(c)},[c,D]);const F=(0,l.useMemo)(()=>{if(!h||!f)return!1;const e=Dn(h),t=Dn(f);return JSON.stringify(e)!==JSON.stringify(t)},[h,f]),B=(0,l.useCallback)((e,t)=>{m(n=>n?Array.isArray(t)?Ve(Ve({},n),{},{[e]:t}):Ve(Ve({},n),{},{[e]:t}):n)},[]),W=(0,l.useCallback)(e=>{const t=e.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);B("defaultTags",t)},[B]),q=(0,l.useCallback)((e,t,n)=>{m(a=>a?Ve(Ve({},a),{},{audioRules:a.audioRules.map(a=>a.id===e?Ve(Ve({},a),{},{[t]:n}):a)}):a)},[]),H=(0,l.useCallback)(()=>{m(e=>e?Ve(Ve({},e),{},{audioRules:[...e.audioRules,In()]}):e)},[]),V=(0,l.useCallback)(e=>{m(t=>t?Ve(Ve({},t),{},{audioRules:t.audioRules.filter(t=>t.id!==e)}):t)},[]),$=(0,l.useCallback)(()=>{f&&(m(An(f)),w(null))},[f]),Q=(0,l.useCallback)(()=>{c&&D(c)},[c,D]),K=(0,l.useCallback)((e,t)=>{var n,a;if(e)if(null!==(n=navigator)&&void 0!==n&&null!==(a=n.clipboard)&&void 0!==a&&a.writeText)navigator.clipboard.writeText(e).then(()=>w({type:"info",text:t})).catch(()=>w({type:"error",text:"\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"}));else try{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),w({type:"info",text:t})}catch(_){w({type:"error",text:"\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})}},[]),J=(0,l.useCallback)(async e=>{S({open:!0,loading:!0,saving:!1,content:"",error:null,path:null,original:""});try{var t;const a=await(n=e,Ge("/api/ssot/persona/".concat(encodeURIComponent(n))));S({open:!0,loading:!1,saving:!1,content:a.content,error:null,path:null!==(t=a.path)&&void 0!==t?t:null,original:a.content})}catch(_){const t=_ instanceof Error?_.message:String(_);S(e=>Ve(Ve({},e),{},{loading:!1,error:t}))}var n},[]),Y=(0,l.useCallback)(async e=>{E({open:!0,loading:!0,saving:!1,content:"",error:null,path:null,headers:[],sample:[],original:""});try{var t,n,a;const r=await(l=e,Ge("/api/ssot/templates/".concat(encodeURIComponent(l))));E({open:!0,loading:!1,saving:!1,content:r.content,error:null,path:null!==(t=r.path)&&void 0!==t?t:null,headers:null!==(n=r.headers)&&void 0!==n?n:[],sample:null!==(a=r.sample)&&void 0!==a?a:[],original:r.content})}catch(_){const t=_ instanceof Error?_.message:String(_);E(e=>Ve(Ve({},e),{},{loading:!1,error:t}))}var l},[]),G=(0,l.useCallback)(()=>{c&&J(c)},[c,J]),X=(0,l.useCallback)(()=>{c&&Y(c)},[c,Y]),Z=(0,l.useCallback)(e=>{S(t=>Ve(Ve({},t),{},{content:e}))},[]),ee=(0,l.useCallback)(e=>{E(t=>Ve(Ve({},t),{},{content:e}))},[]),te=(0,l.useCallback)(async()=>{if(c){S(e=>Ve(Ve({},e),{},{saving:!0,error:null}));try{var e;const a=await(t=c,n={content:N.content},Ge("/api/ssot/persona/".concat(encodeURIComponent(t)),{method:"PUT",body:JSON.stringify(n)}));S({open:!0,loading:!1,saving:!1,content:a.content,error:null,path:null!==(e=a.path)&&void 0!==e?e:null,original:a.content}),w({type:"success",text:"\u30da\u30eb\u30bd\u30ca\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"}),await D(c)}catch(_){const t=_ instanceof Error?_.message:String(_);S(e=>Ve(Ve({},e),{},{saving:!1,error:t}))}var t,n}},[c,N.content,D]),ne=(0,l.useCallback)(async()=>{if(c){E(e=>Ve(Ve({},e),{},{saving:!0,error:null}));try{var e,t,n;const r=await(a=c,l={content:C.content},Ge("/api/ssot/templates/".concat(encodeURIComponent(a)),{method:"PUT",body:JSON.stringify(l)}));E({open:!0,loading:!1,saving:!1,content:r.content,error:null,path:null!==(e=r.path)&&void 0!==e?e:null,headers:null!==(t=r.headers)&&void 0!==t?t:[],sample:null!==(n=r.sample)&&void 0!==n?n:[],original:r.content}),w({type:"success",text:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8CSV\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"}),await D(c)}catch(_){const t=_ instanceof Error?_.message:String(_);E(e=>Ve(Ve({},e),{},{saving:!1,error:t}))}var a,l}},[c,C.content,D]),ae=(0,l.useCallback)(()=>{S({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,original:""})},[]),le=(0,l.useCallback)(()=>{E({open:!1,loading:!1,saving:!1,content:"",error:null,path:null,headers:[],sample:[],original:""})},[]),re=(0,l.useCallback)(async e=>{if(e.preventDefault(),!h||!d||!c)return;if(!F)return void w({type:"info",text:"\u5909\u66f4\u306f\u3042\u308a\u307e\u305b\u3093\u3002"});const t=Fn(h,d),{audio:n}=t,a=$e(t,Mn),l=Object.keys(a).length>0,r=Boolean(n&&Object.keys(n).length>0);if(l||r){j(!0),w(null);try{const e=Ve({},a);r&&n&&(e.audio=n);const t=await function(e,t){return Ge("/api/channels/".concat(encodeURIComponent(e),"/profile"),{method:"PUT",body:JSON.stringify(t)})}(c,e);U(t),w({type:"success",text:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002"})}catch(s){const e=s instanceof Error?s.message:String(s);w({type:"error",text:e})}finally{j(!1)}}else w({type:"info",text:"\u5909\u66f4\u306f\u3042\u308a\u307e\u305b\u3093\u3002"})},[U,c,h,F,d]),se=h?h.defaultTags.join("\n"):"",ie=null!==(i=null!==(o=null===d||void 0===d?void 0:d.channel_name)&&void 0!==o?o:u)&&void 0!==i?i:null,oe=c?"".concat(c).concat(ie?" \u2014 ".concat(ie):""):"\u30c1\u30e3\u30f3\u30cd\u30eb\u672a\u9078\u629e";return(0,kt.jsxs)("section",{className:"channel-profile-panel",children:[(0,kt.jsxs)("header",{className:"channel-profile-panel__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8a2d\u5b9a"}),(0,kt.jsx)("p",{className:"channel-profile-panel__subtitle",children:c?oe:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u7de8\u96c6\u3067\u304d\u307e\u3059"})]}),(0,kt.jsxs)("div",{className:"channel-profile-panel__actions",children:[(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:Q,disabled:!c||g,children:"\u518d\u8aad\u307f\u8fbc\u307f"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:$,disabled:!c||!F||x,children:"\u30ea\u30bb\u30c3\u30c8"})]})]}),k?(0,kt.jsx)("div",{className:"channel-profile-banner channel-profile-banner--".concat(k.type),children:k.text}):null,_?(0,kt.jsx)("div",{className:"channel-profile-banner channel-profile-banner--error",children:_}):null,d&&(T||z.length>0||M.length>0||L.length>0||P||R)?(0,kt.jsxs)("section",{className:"channel-profile-info",children:[(0,kt.jsxs)("div",{className:"channel-profile-info__heading",children:[(0,kt.jsx)("h3",{children:"\u4f01\u753b\u30b7\u30fc\u30c8 SSOT"}),(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"planning.csv \u306b\u81ea\u52d5\u9069\u7528\u3055\u308c\u308b\u30da\u30eb\u30bd\u30ca\u30fb\u8aac\u660e\u6587\u306e\u65e2\u5b9a\u5024\u30fb\u5fc5\u9808\u5217\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"})]}),T?(0,kt.jsxs)("div",{className:"channel-profile-info__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u56fa\u5b9a\u30da\u30eb\u30bd\u30ca"}),(0,kt.jsx)("p",{className:"channel-profile-info__persona",children:T})]}):null,P?(0,kt.jsxs)("div",{className:"channel-profile-info__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"Persona \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),(0,kt.jsxs)("div",{className:"channel-profile-info__path",children:[(0,kt.jsx)("code",{children:P}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:()=>K(P,"Persona \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30d1\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),children:"\u30d1\u30b9\u3092\u30b3\u30d4\u30fc"})]})]}):null,z.length>0?(0,kt.jsxs)("div",{className:"channel-profile-info__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u8aac\u660e\u6587\u30c7\u30d5\u30a9\u30eb\u30c8"}),(0,kt.jsx)("ul",{className:"channel-profile-info__list",children:z.map(e=>{let[t,n]=e;return(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:t}),": ",n]},t)})})]}):null,M.length>0?(0,kt.jsxs)("div",{className:"channel-profile-info__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u5fc5\u9808\u5217\u30eb\u30fc\u30eb"}),(0,kt.jsx)("div",{className:"channel-profile-info__requirements",children:M.map((e,t)=>{var n;return(0,kt.jsxs)("div",{className:"channel-profile-info__requirement",children:[(0,kt.jsx)("div",{className:"channel-profile-info__requirement-label",children:e.min_no?"No.".concat(e.min_no,"\u4ee5\u964d"):"\u5168No."}),(0,kt.jsx)("ul",{className:"channel-profile-info__list",children:e.required_columns.map(t=>{var n;return(0,kt.jsx)("li",{children:t},"".concat(null!==(n=e.min_no)&&void 0!==n?n:"all","-").concat(t))})})]},"req-".concat(null!==(n=e.min_no)&&void 0!==n?n:"all","-").concat(t))})})]}):null,L.length>0||R?(0,kt.jsxs)("div",{className:"channel-profile-info__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 CSV"}),R?(0,kt.jsxs)("div",{className:"channel-profile-info__path",children:[(0,kt.jsx)("code",{children:R}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:()=>K(R,"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30d1\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),children:"\u30d1\u30b9\u3092\u30b3\u30d4\u30fc"})]}):null,L.length>0?(0,kt.jsx)("div",{className:"channel-profile-info__table-scroll",children:(0,kt.jsxs)("table",{className:"channel-profile-info__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsx)("tr",{children:L.map(e=>(0,kt.jsx)("th",{children:e},"template-header-".concat(e)))})}),O.length>0?(0,kt.jsx)("tbody",{children:(0,kt.jsx)("tr",{children:L.map((e,t)=>{var n;return(0,kt.jsx)("td",{children:null!==(n=O[t])&&void 0!==n?n:""},"template-sample-".concat(t))})})}):null]})}):null]}):null]}):null,c?(0,kt.jsxs)("section",{className:"channel-profile-editor",children:[(0,kt.jsxs)("div",{className:"channel-profile-editor__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u30da\u30eb\u30bd\u30ca\u7de8\u96c6"}),N.open?null:(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:G,children:"\u30da\u30eb\u30bd\u30ca\u3092\u8aad\u307f\u8fbc\u3080"}),N.open?(0,kt.jsxs)(kt.Fragment,{children:[N.path?(0,kt.jsxs)("div",{className:"channel-profile-info__path",children:[(0,kt.jsx)("code",{children:N.path}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:()=>{var e;return K(null!==(e=N.path)&&void 0!==e?e:"","\u30da\u30eb\u30bd\u30ca\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")},children:"\u30d1\u30b9\u3092\u30b3\u30d4\u30fc"})]}):null,N.loading?(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):(0,kt.jsx)("textarea",{className:"channel-profile-editor__textarea",rows:6,value:N.content,onChange:e=>Z(e.target.value),disabled:N.saving}),N.error?(0,kt.jsx)("p",{className:"channel-profile-editor__error",children:N.error}):null,(0,kt.jsxs)("div",{className:"channel-profile-editor__actions",children:[(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--primary",onClick:te,disabled:!I||N.saving||N.loading,children:N.saving?"\u4fdd\u5b58\u4e2d\u2026":"\u4fdd\u5b58"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:ae,disabled:N.saving,children:"\u9589\u3058\u308b"})]})]}):null]}),(0,kt.jsxs)("div",{className:"channel-profile-editor__group",children:[(0,kt.jsx)("div",{className:"channel-profile-info__label",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8CSV\u7de8\u96c6"}),C.open?null:(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:X,children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8aad\u307f\u8fbc\u3080"}),C.open?(0,kt.jsxs)(kt.Fragment,{children:[C.path?(0,kt.jsxs)("div",{className:"channel-profile-info__path",children:[(0,kt.jsx)("code",{children:C.path}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:()=>{var e;return K(null!==(e=C.path)&&void 0!==e?e:"","\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")},children:"\u30d1\u30b9\u3092\u30b3\u30d4\u30fc"})]}):null,C.loading?(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):(0,kt.jsx)("textarea",{className:"channel-profile-editor__textarea",rows:10,value:C.content,onChange:e=>ee(e.target.value),disabled:C.saving}),C.error?(0,kt.jsx)("p",{className:"channel-profile-editor__error",children:C.error}):null,(0,kt.jsxs)("div",{className:"channel-profile-editor__actions",children:[(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--primary",onClick:ne,disabled:!A||C.saving||C.loading,children:C.saving?"\u4fdd\u5b58\u4e2d\u2026":"\u4fdd\u5b58"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:le,disabled:C.saving,children:"\u9589\u3058\u308b"})]})]}):null]})]}):null,c?null:(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"\u307e\u305a\u5de6\u306e\u30ea\u30b9\u30c8\u304b\u3089\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),c&&g?(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,c&&!g&&h?(0,kt.jsxs)("form",{className:"channel-profile-form",onSubmit:re,children:[(0,kt.jsxs)("div",{className:"channel-profile-grid",children:[(0,kt.jsxs)("div",{className:"channel-profile-field channel-profile-field--full",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-script",children:"\u53f0\u672c\u30d7\u30ed\u30f3\u30d7\u30c8"}),(0,kt.jsx)("textarea",{id:"channel-profile-script",value:h.scriptPrompt,onChange:e=>B("scriptPrompt",e.target.value),placeholder:"Qwen\u5411\u3051\u53f0\u672c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5165\u529b"}),(0,kt.jsx)("p",{className:"channel-profile-hint",children:"\u300c///\u300d\u306a\u3069\u65e7\u5f0f\u306e\u8a18\u53f7\u306f\u4f7f\u7528\u7981\u6b62\u3067\u3059\u3002\u6bb5\u843d\u30d9\u30fc\u30b9\u3067\u81ea\u7136\u306a\u6587\u7ae0\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),(0,kt.jsxs)("div",{className:"channel-profile-field channel-profile-field--full",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-description",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8aac\u660e\u6587"}),(0,kt.jsx)("textarea",{id:"channel-profile-description",value:h.description,onChange:e=>B("description",e.target.value),placeholder:"\u30c1\u30e3\u30f3\u30cd\u30eb\u6982\u8981"})]}),(0,kt.jsxs)("div",{className:"channel-profile-field",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-youtube-title",children:"YouTube\u30bf\u30a4\u30c8\u30eb"}),(0,kt.jsx)("input",{id:"channel-profile-youtube-title",type:"text",value:h.youtubeTitle,onChange:e=>B("youtubeTitle",e.target.value)})]}),(0,kt.jsxs)("div",{className:"channel-profile-field",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-youtube-handle",children:"YouTube\u30cf\u30f3\u30c9\u30eb"}),(0,kt.jsx)("input",{id:"channel-profile-youtube-handle",type:"text",value:h.youtubeHandle,onChange:e=>B("youtubeHandle",e.target.value),placeholder:"@example"})]}),(0,kt.jsxs)("div",{className:"channel-profile-field channel-profile-field--full",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-youtube-description",children:"YouTube\u8aac\u660e\u6587 / \u6295\u7a3f\u30c6\u30f3\u30d7\u30ec"}),(0,kt.jsx)("textarea",{id:"channel-profile-youtube-description",value:h.youtubeDescription,onChange:e=>B("youtubeDescription",e.target.value)})]}),(0,kt.jsxs)("div",{className:"channel-profile-field channel-profile-field--full",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-tags",children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b0\uff08\u6539\u884c\u533a\u5207\u308a\uff09"}),(0,kt.jsx)("textarea",{id:"channel-profile-tags",value:se,onChange:e=>W(e.target.value),placeholder:"\u4f8b\uff1a\u30b7\u30cb\u30a2\u5065\u5eb7\n\u6717\u8aad\n\u7652\u3084\u3057"})]}),(0,kt.jsxs)("div",{className:"channel-profile-field",children:[(0,kt.jsx)("label",{htmlFor:"channel-profile-audio-default",children:"\u97f3\u58f0\u30c7\u30d5\u30a9\u30eb\u30c8\u30dc\u30a4\u30b9"}),(0,kt.jsx)("input",{id:"channel-profile-audio-default",type:"text",value:h.audioDefaultVoiceKey,onChange:e=>B("audioDefaultVoiceKey",e.target.value),placeholder:"voicevox_namioto"}),(0,kt.jsx)("p",{className:"channel-profile-hint",children:"voice_config.json \u306e\u30ad\u30fc\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]})]}),(0,kt.jsxs)("div",{className:"channel-profile-section",children:[(0,kt.jsxs)("div",{className:"channel-profile-section__header",children:[(0,kt.jsx)("h3",{children:"\u30bb\u30af\u30b7\u30e7\u30f3\u5225\u30dc\u30a4\u30b9\u8a2d\u5b9a"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:H,children:"\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0"})]}),0===h.audioRules.length?(0,kt.jsx)("p",{className:"channel-profile-text-muted",children:"\u30eb\u30fc\u30eb\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093\u3002"}):null,h.audioRules.map(e=>(0,kt.jsxs)("div",{className:"channel-profile-rule-row",children:[(0,kt.jsxs)("div",{className:"channel-profile-field",children:[(0,kt.jsx)("label",{children:"\u30bb\u30af\u30b7\u30e7\u30f3\u30ad\u30fc"}),(0,kt.jsx)("input",{type:"text",value:e.section,onChange:t=>q(e.id,"section",t.target.value),placeholder:"intro / outro \u306a\u3069"})]}),(0,kt.jsxs)("div",{className:"channel-profile-field",children:[(0,kt.jsx)("label",{children:"\u30dc\u30a4\u30b9\u30ad\u30fc"}),(0,kt.jsx)("input",{type:"text",value:e.voice,onChange:t=>q(e.id,"voice",t.target.value),placeholder:"voicevox_namioto"})]}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--ghost",onClick:()=>V(e.id),children:"\u524a\u9664"})]},e.id))]}),(0,kt.jsxs)("div",{className:"channel-profile-actions",children:[(0,kt.jsx)("button",{type:"submit",className:"channel-profile-button channel-profile-button--primary",disabled:x||!F,children:x?"\u4fdd\u5b58\u4e2d\u2026":"\u4fdd\u5b58"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button",onClick:$,disabled:x||!F,children:"\u7834\u68c4"})]})]}):null]})}function Wn(e){if(!e)return"\u2015";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP",{hour12:!1})}function qn(e){return"number"!==typeof e?"\u2015":new Intl.NumberFormat("ja-JP",{notation:"compact",maximumFractionDigits:1}).format(e)}function Hn(e){if("number"!==typeof e||!Number.isFinite(e)||e<=0)return"\u2014";const t=["B","KB","MB","GB"];let n=e,a=0;for(;n>=1024&&a<t.length-1;)n/=1024,a+=1;const l=0===a?Math.round(n).toString():n.toFixed(1);return"".concat(l," ").concat(t[a])}function Vn(e){if(!e)return"";const t=e.replace(/[^0-9]/g,"");return t?t.padStart(3,"0"):e}function $n(e){const t=e.relative_path.split("/").filter(Boolean);if(t.length<=2)return"__root__";const n=t.slice(1,-1);return n.length?n.join("/"):"__root__"}function Qn(e){return"__root__"===e?"\u30c1\u30e3\u30f3\u30cd\u30eb\u76f4\u4e0b":e}function Kn(e){var t,n;const a=null===(t=e.columns)||void 0===t?void 0:t["\u30bf\u30a4\u30c8\u30eb"];return a&&a.trim()?a:null!==(n=e.title)&&void 0!==n?n:""}function Jn(e){let{title:t,description:n,actions:a,children:r,defaultOpen:s=!0}=e;const[i,o]=(0,l.useState)(s);return(0,kt.jsxs)("section",{className:"channel-settings-card".concat(i?" is-open":""),children:[(0,kt.jsxs)("header",{className:"channel-settings-card__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{children:t}),n?(0,kt.jsx)("p",{className:"channel-settings-card__description",children:n}):null]}),(0,kt.jsxs)("div",{className:"channel-settings-card__actions",children:[a,(0,kt.jsx)("button",{type:"button",className:"channel-settings-card__toggle",onClick:()=>o(e=>!e),children:i?"\u6700\u5c0f\u5316":"\u5c55\u958b"})]})]}),i?(0,kt.jsx)("div",{className:"channel-settings-card__body",children:r}):null]})}function Yn(){var e;const t=ne(),{channels:n,selectedChannel:a,selectedChannelSummary:r,selectChannel:s}=le(),[i,o]=(0,l.useState)([]),[c,u]=(0,l.useState)(!1),[d,p]=(0,l.useState)(null),[h,m]=(0,l.useState)(""),[f,v]=(0,l.useState)({open:!1,row:null,values:{},saving:!1,error:null}),[g,b]=(0,l.useState)({}),[_,y]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null),[k,w]=(0,l.useState)("all"),[N,S]=(0,l.useState)({tags:[]}),[C,E]=(0,l.useState)(!1),[T,P]=(0,l.useState)(null),[R,L]=(0,l.useState)(null),O=(0,l.useRef)(null),[z,M]=(0,l.useState)(null),[I,A]=(0,l.useState)(!1),U=(0,l.useRef)(null),[D,F]=(0,l.useState)(null),[B,W]=(0,l.useState)({pending:!1,success:null,error:null}),[q,H]=(0,l.useState)([]),[V,$]=(0,l.useState)({}),[Q,K]=(0,l.useState)(!1),[J,Y]=(0,l.useState)(null),[G,X]=(0,l.useState)("all"),Z=(0,l.useCallback)((e,t)=>{e&&navigator.clipboard.writeText(e).then(()=>{O.current&&clearTimeout(O.current),L("".concat(t," \u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")),O.current=setTimeout(()=>{L(null),O.current=null},3200)}).catch(()=>{O.current&&clearTimeout(O.current),L("\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u306e\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),O.current=setTimeout(()=>{L(null),O.current=null},3200)})},[]),ee=(0,l.useMemo)(()=>["\u60a9\u307f\u30bf\u30b0_\u30e1\u30a4\u30f3","\u60a9\u307f\u30bf\u30b0_\u30b5\u30d6","\u30e9\u30a4\u30d5\u30b7\u30fc\u30f3","\u30ad\u30fc\u30b3\u30f3\u30bb\u30d7\u30c8","\u30d9\u30cd\u30d5\u30a3\u30c3\u30c8\u4e00\u8a00","\u305f\u3068\u3048\u8a71\u30a4\u30e1\u30fc\u30b8","\u8aac\u660e\u6587_\u30ea\u30fc\u30c9","\u8aac\u660e\u6587_\u3053\u306e\u52d5\u753b\u3067\u308f\u304b\u308b\u3053\u3068"],[]),te=(0,l.useCallback)(e=>{const n=e.target.value||null;s(n),n&&t("/channel-settings?channel=".concat(encodeURIComponent(n)),{replace:!0})},[t,s]),ae=(0,l.useCallback)(e=>{let t=!1;return u(!0),p(null),nt(e).then(e=>{t||o(e)}).catch(e=>{t||p(e instanceof Error?e.message:String(e))}).finally(()=>{t||u(!1)}),()=>{t=!0}},[]);(0,l.useEffect)(()=>{if(!a)return void o([]);return ae(a)},[a,ae]),(0,l.useEffect)(()=>{m(""),w("all"),M(null),X("all"),O.current&&(clearTimeout(O.current),O.current=null),L(null)},[a]);const re=(0,l.useCallback)((e,t,n)=>{if(!e||!t)return;const a=Vn(e);a&&b(e=>Ve(Ve({},e),{},{[a]:{url:t,label:null!==n&&void 0!==n?n:null}}))},[]),se=(0,l.useCallback)(async e=>{var t;const n=a;if(!n)return H([]),$({}),Y(null),K(!1),void X("all");const l=null!==(t=null===e||void 0===e?void 0:e.silent)&&void 0!==t&&t;l||(K(!0),Y(null));try{const e=await ct(n);return H(e),$(t=>{const n={};return e.forEach(e=>{var a;const l=t[e.id];n[e.id]={video:null!==(a=null===l||void 0===l?void 0:l.video)&&void 0!==a?a:"",pending:!1}}),n}),X(t=>{if("all"===t)return t;return e.some(e=>$n(e)===t)?t:"all"}),e}catch(r){const e=r instanceof Error?r.message:String(r);Y(e)}finally{l||K(!1)}},[a]);(0,l.useEffect)(()=>{se()},[se]);const ie=(0,l.useCallback)((e,t)=>{$(n=>{var a;return Ve(Ve({},n),{},{[e]:Ve(Ve({},null!==(a=n[e])&&void 0!==a?a:{video:"",pending:!1}),{},{video:t})})})},[]),oe=(0,l.useCallback)(e=>{var t;const n=a;if(!n)return b({}),y(!1),j(null),()=>{};let l=!1;const r=null!==(t=null===e||void 0===e?void 0:e.silent)&&void 0!==t&&t;return r||(y(!0),j(null)),ot().then(e=>{if(l)return;const t=e.channels.find(e=>e.channel===n);if(!t)return void b({});const a={};t.projects.forEach(e=>{var t,n,l;const r=null!==(t=e.variants.find(e=>e.is_selected))&&void 0!==t?t:e.variants[0];if(null===r||void 0===r||!r.image_url)return;const s=Vn(e.video);s&&(a[s]={url:ht(r.image_url),label:null!==(n=null!==(l=r.label)&&void 0!==l?l:r.id)&&void 0!==n?n:null})}),b(a),j(null)}).catch(e=>{if(l)return;const t=e instanceof Error?e.message:String(e);j(t)}).finally(()=>{l||r||y(!1)}),()=>{l=!0}},[a]);(0,l.useEffect)(()=>{const e=oe();return()=>{null===e||void 0===e||e()}},[oe]);const ce=(0,l.useCallback)(async e=>{var t;const n=a;if(!n)return;const l=null!==(t=V[e.id])&&void 0!==t?t:{video:"",pending:!1},r=Vn(l.video);if(r&&/\d+/.test(l.video.replace(/[^0-9]/g,""))){$(t=>{var n;const a=null!==(n=t[e.id])&&void 0!==n?n:{video:"",pending:!1};return Ve(Ve({},t),{},{[e.id]:Ve(Ve({},a),{},{pending:!0,error:void 0,success:void 0})})});try{const t=ht((await(s=n,i=e.relative_path,o={video:r,label:e.file_name.replace(/\.[^.]+$/,""),make_selected:!0},Ge("/api/workspaces/thumbnails/".concat(encodeURIComponent(s),"/library/").concat(encodeURIComponent(i),"/assign"),{method:"POST",body:JSON.stringify(o)}))).public_url);re(r,t,e.file_name),$(t=>Ve(Ve({},t),{},{[e.id]:{video:"",pending:!1,success:"#".concat(r," \u306b\u767b\u9332\u3057\u307e\u3057\u305f"),error:void 0}})),await oe({silent:!0}),await se({silent:!0})}catch(c){const t=c instanceof Error?c.message:String(c);$(n=>{var a;const l=null!==(a=n[e.id])&&void 0!==a?a:{video:"",pending:!1};return Ve(Ve({},n),{},{[e.id]:Ve(Ve({},l),{},{pending:!1,error:t,success:void 0})})})}var s,i,o}else $(t=>Ve(Ve({},t),{},{[e.id]:Ve(Ve({},l),{},{error:"\u52d5\u753b\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",success:void 0})}))},[re,V,se,oe,a]);(0,l.useEffect)(()=>{F(r),W(e=>Ve(Ve({},e),{},{pending:!1,success:null,error:null}))},[r]),(0,l.useEffect)(()=>{if(!a)return S({tags:[]}),E(!1),void P(null);let e=!1;return E(!0),P(null),Ze(a).then(t=>{e||S(function(e){var t,n,a,l,r,s,i,o,c,u;if(!e)return{tags:[]};const d=null!==(t=e.planning_description_defaults)&&void 0!==t?t:{};return{persona:null!==(n=null!==(a=e.persona_summary)&&void 0!==a?a:e.audience_profile)&&void 0!==n?n:null,planningPersona:null!==(l=e.planning_persona)&&void 0!==l?l:null,descriptionLead:null!==(r=null!==(s=d.description_lead)&&void 0!==s?s:e.description)&&void 0!==r?r:null,descriptionTakeaways:null!==(i=d.description_takeaways)&&void 0!==i?i:null,personaPath:null!==(o=e.planning_persona_path)&&void 0!==o?o:null,templatePath:null!==(c=e.planning_template_path)&&void 0!==c?c:null,tags:null!==(u=e.default_tags)&&void 0!==u?u:[]}}(t))}).catch(t=>{if(e)return;const n=t instanceof Error?t.message:String(t);P(n)}).finally(()=>{e||E(!1)}),()=>{e=!0}},[a]);const ue=(0,l.useMemo)(()=>{const e=new Map;return i.forEach(t=>{var n,a;const l=(null===(n=t.progress)||void 0===n?void 0:n.trim())||"\u672a\u8a2d\u5b9a";e.set(l,(null!==(a=e.get(l))&&void 0!==a?a:0)+1)}),Array.from(e.entries()).sort((e,t)=>t[1]-e[1]).map(e=>{let[t,n]=e;return{value:t,count:n}})},[i]),de=(0,l.useMemo)(()=>ee.map(e=>{const t=i.filter(t=>{var n,a;return!(null!==(n=t.columns)&&void 0!==n&&null!==(a=n[e])&&void 0!==a&&a.trim())}).length;return{column:e,missing:t}}),[i,ee]),pe=(0,l.useMemo)(()=>{const e=h.trim();return i.filter(t=>{var n,a;if("all"!==k){var l;if(((null===(l=t.progress)||void 0===l?void 0:l.trim())||"\u672a\u8a2d\u5b9a")!==k)return!1}if(z){var r;const e=null===(r=t.columns)||void 0===r?void 0:r[z];if(e&&e.trim())return!1}if(!e)return!0;const s=null!==(n=Kn(t))&&void 0!==n?n:"",i=null!==(a=t.script_id)&&void 0!==a?a:"";return s.includes(e)||i.includes(e)})},[i,h,k,z]),he=(0,l.useMemo)(()=>{const e=e=>{const t=Vn(e);return t&&/^\d+$/.test(t)?parseInt(t,10):Number.MAX_SAFE_INTEGER};return[...pe].sort((t,n)=>e(t.video_number)-e(n.video_number))},[pe]),me=(0,l.useCallback)(()=>{if(!pe.length)return;const e=function(e,t){const n=["\u30c1\u30e3\u30f3\u30cd\u30eb","\u52d5\u753b\u756a\u53f7","\u52d5\u753bID","\u30bf\u30a4\u30c8\u30eb","\u9032\u6357","\u66f4\u65b0\u65e5\u6642",...t],a=e.map(e=>{var n,a,l,r,s,i;return[null!==(n=e.channel)&&void 0!==n?n:"",null!==(a=e.video_number)&&void 0!==a?a:"",null!==(l=e.script_id)&&void 0!==l?l:"",null!==(r=Kn(e))&&void 0!==r?r:"",null!==(s=e.progress)&&void 0!==s?s:"",null!==(i=e.updated_at)&&void 0!==i?i:"",...t.map(t=>{var n,a;return null!==(n=null===(a=e.columns)||void 0===a?void 0:a[t])&&void 0!==n?n:""})]}),l=e=>'"'.concat(e.replace(/"/g,'""'),'"');return[n.map(l).join(","),...a.map(e=>e.map(e=>l(null!==e&&void 0!==e?e:"")).join(","))].join("\n")}(pe,ee),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download="".concat(null!==a&&void 0!==a?a:"ALL","_planning_filtered.csv"),document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(n)},[pe,a,ee]),fe=(0,l.useMemo)(()=>{let e=null;return i.forEach(t=>{t.updated_at&&(!e||t.updated_at>e)&&(e=t.updated_at)}),e?Wn(e):"\u2015"},[i]),ve=(0,l.useMemo)(()=>i.filter(e=>{var t;return(null!==(t=e.progress)&&void 0!==t?t:"").includes("completed")}).length,[i]),ge=(0,l.useMemo)(()=>pe.filter(e=>{var t;const n=Vn(e.video_number);return!n||!(null!==(t=g[n])&&void 0!==t&&t.url)}).length,[pe,g]),be=i.length,_e=he.length,ye=Object.keys(g).length,xe=(0,l.useMemo)(()=>{const e=new Map;return q.forEach(t=>{var n;const a=$n(t);e.set(a,(null!==(n=e.get(a))&&void 0!==n?n:0)+1)}),Array.from(e.entries()).map(e=>{let[t,n]=e;return{key:t,label:Qn(t),count:n}}).sort((e,t)=>"__root__"===e.key?-1:"__root__"===t.key?1:e.label.localeCompare(t.label,"ja"))},[q]),je=(0,l.useMemo)(()=>"all"===G?q:q.filter(e=>$n(e)===G),[q,G]),ke=(0,l.useMemo)(()=>[{key:"persona",label:"\u56fa\u5b9a\u30da\u30eb\u30bd\u30ca",value:N.persona},{key:"planningPersona",label:"\u4f01\u753b\u30b7\u30fc\u30c8\u7528\u30da\u30eb\u30bd\u30ca",value:N.planningPersona},{key:"descriptionLead",label:"\u8aac\u660e\u6587\u30ea\u30fc\u30c9",value:N.descriptionLead},{key:"descriptionTakeaways",label:"\u8aac\u660e\u6587_\u3053\u306e\u52d5\u753b\u3067\u308f\u304b\u308b\u3053\u3068",value:N.descriptionTakeaways}],[N]),we=(0,l.useMemo)(()=>{var e,t,n,l;return a?null!==(e=null!==(t=null!==(n=null===r||void 0===r||null===(l=r.branding)||void 0===l?void 0:l.title)&&void 0!==n?n:null===r||void 0===r?void 0:r.youtube_title)&&void 0!==t?t:null===r||void 0===r?void 0:r.name)&&void 0!==e?e:a:""},[a,r]),Ne=(0,l.useMemo)(()=>{var e,t,n,a,l,r,s,i;if(null===D||void 0===D||!D.branding)return null;const o=D.branding;return{avatarUrl:null!==(e=o.avatar_url)&&void 0!==e?e:null,handle:null!==(t=null!==(n=o.handle)&&void 0!==n?n:D.youtube_handle)&&void 0!==t?t:null,url:null!==(a=o.url)&&void 0!==a?a:null,updatedAt:null!==(l=o.updated_at)&&void 0!==l?l:null,subscriberCount:null!==(r=o.subscriber_count)&&void 0!==r?r:null,viewCount:null!==(s=o.view_count)&&void 0!==s?s:null,videoCount:null!==(i=o.video_count)&&void 0!==i?i:null}},[D]);(0,l.useEffect)(()=>{const e=()=>{A(window.scrollY>320)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[]);const Se=(0,l.useCallback)(()=>{U.current?U.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},[]),Ce=(0,l.useCallback)(async()=>{if(a){W({pending:!0,success:null,error:null});try{const e=await function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"?ignore_backoff=true":"";return Ge("/api/channels/".concat(encodeURIComponent(e),"/branding/refresh").concat(t),{method:"POST"})}(a);F(e),W({pending:!1,success:"".concat(a," \u306e YouTube \u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),error:null})}catch(e){W({pending:!1,success:null,error:e instanceof Error?e.message:String(e)})}}},[a]);return(0,kt.jsxs)("section",{className:"channel-settings-page workspace--channel-clean",ref:U,children:[(0,kt.jsxs)("header",{className:"channel-settings-page__header",children:[(0,kt.jsx)("div",{children:(0,kt.jsx)("h1",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u8a73\u7d30\u8a2d\u5b9a"})}),(0,kt.jsx)("div",{className:"channel-settings-page__controls",children:(0,kt.jsxs)("label",{className:"channel-settings-page__select-label",children:[(0,kt.jsx)("span",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb"}),(0,kt.jsxs)("select",{value:null!==a&&void 0!==a?a:"",onChange:te,children:[(0,kt.jsx)("option",{value:"",children:"\u672a\u9078\u629e"}),n.map(e=>(0,kt.jsx)("option",{value:e.code,children:e.code},e.code))]})]})})]}),(0,kt.jsx)("div",{className:"channel-settings-page__quick-select",role:"tablist","aria-label":"\u30c1\u30e3\u30f3\u30cd\u30eb\u5207\u308a\u66ff\u3048",children:n.map(e=>(0,kt.jsx)("button",{type:"button",className:e.code===a?"channel-settings-page__pill channel-settings-page__pill--active":"channel-settings-page__pill",onClick:()=>{s(e.code),t("/channel-settings?channel=".concat(encodeURIComponent(e.code)),{replace:!0})},children:e.code},e.code))}),a?(0,kt.jsxs)(kt.Fragment,{children:[R?(0,kt.jsx)("div",{className:"channel-settings-page__toast",children:R}):null,(0,kt.jsxs)("section",{className:"channel-settings-page__summary",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__summary-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:we}),(0,kt.jsx)("p",{className:"channel-settings-page__summary-subtitle",children:a})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__summary-actions",children:[(0,kt.jsxs)("span",{children:["\u6700\u7d42\u66f4\u65b0 ",fe||"\u2014"]}),(0,kt.jsxs)("span",{children:["\u30b5\u30e0\u30cd\u30a4\u30eb ",ye," \u4ef6"]}),(0,kt.jsx)("button",{type:"button",onClick:()=>oe(),children:"\ud83d\udd04 \u30b5\u30e0\u30cd\u30a4\u30eb\u518d\u53d6\u5f97"})]})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__kpis",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__kpi",children:[(0,kt.jsx)("span",{children:"\u5168\u4f01\u753b"}),(0,kt.jsx)("strong",{children:be})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__kpi",children:[(0,kt.jsx)("span",{children:"\u8868\u793a\u4e2d"}),(0,kt.jsx)("strong",{children:_e})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__kpi",children:[(0,kt.jsx)("span",{children:"completed \u542b\u3080"}),(0,kt.jsx)("strong",{children:ve})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__kpi",children:[(0,kt.jsx)("span",{children:"\u30b5\u30e0\u30cd\u672a\u53d6\u5f97"}),(0,kt.jsx)("strong",{children:ge})]})]})]}),(0,kt.jsxs)("section",{className:"channel-settings-page__youtube",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__youtube-header",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__youtube-identity",children:[null!==Ne&&void 0!==Ne&&Ne.avatarUrl?(0,kt.jsx)("img",{src:Ne.avatarUrl,alt:"",className:"channel-settings-page__youtube-avatar"}):(0,kt.jsx)("div",{className:"channel-settings-page__youtube-avatar channel-settings-page__youtube-avatar--fallback",children:we.slice(0,2)||a.slice(0,2)}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"channel-settings-page__youtube-handle",children:null!==Ne&&void 0!==Ne&&Ne.handle?"@".concat(Ne.handle):"YouTube \u60c5\u5831"}),null!==Ne&&void 0!==Ne&&Ne.updatedAt?(0,kt.jsxs)("small",{children:["\u6700\u7d42\u540c\u671f ",Wn(Ne.updatedAt)]}):null]})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__youtube-actions",children:[null!==Ne&&void 0!==Ne&&Ne.url?(0,kt.jsx)("a",{className:"channel-settings-page__button channel-settings-page__button--ghost",href:Ne.url,target:"_blank",rel:"noreferrer",children:"YouTube\u3092\u958b\u304f \u2197"}):null,(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button",onClick:Ce,disabled:B.pending,children:B.pending?"\u540c\u671f\u4e2d\u2026":"YouTube\u60c5\u5831\u3092\u518d\u53d6\u5f97"})]})]}),B.error?(0,kt.jsx)("p",{className:"channel-settings-page__warning",children:B.error}):null,B.success?(0,kt.jsx)("p",{className:"channel-settings-page__success",children:B.success}):null,Ne?(0,kt.jsxs)("div",{className:"channel-settings-page__youtube-metrics",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{children:"\u767b\u9332\u8005"}),(0,kt.jsx)("strong",{children:qn(Ne.subscriberCount)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{children:"\u7dcf\u518d\u751f\u56de\u6570"}),(0,kt.jsx)("strong",{children:qn(Ne.viewCount)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{children:"\u516c\u958b\u672c\u6570"}),(0,kt.jsx)("strong",{children:qn(Ne.videoCount)})]})]}):(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"YouTube \u60c5\u5831\u3092\u540c\u671f\u3059\u308b\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})]}),(0,kt.jsx)(Jn,{title:"\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u767b\u9332",description:"\u6700\u8fd1\u53d6\u308a\u8fbc\u3093\u3060\u30b5\u30e0\u30cd\u3092\u305d\u306e\u307e\u307e\u4f01\u753b\u306b\u7d10\u4ed8\u3051\u3067\u304d\u307e\u3059\u3002",defaultOpen:!1,actions:(0,kt.jsxs)("div",{className:"channel-settings-page__library-actions",children:[(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button channel-settings-page__button--ghost",onClick:()=>se(),disabled:Q,children:Q?"\u66f4\u65b0\u4e2d\u2026":"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"}),(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button channel-settings-page__button--ghost",onClick:()=>t("/thumbnails?channel=".concat(encodeURIComponent(null!==a&&void 0!==a?a:""))),children:"\u30b5\u30e0\u30cd\u30a4\u30eb\u30da\u30fc\u30b8\u3092\u958b\u304f"})]}),children:(0,kt.jsxs)("div",{className:"channel-settings-page__library",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__library-filters",children:[(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"\u30d5\u30a9\u30eb\u30c0"}),(0,kt.jsxs)("select",{value:G,onChange:e=>X(e.target.value),children:[(0,kt.jsxs)("option",{value:"all",children:["\u3059\u3079\u3066\uff08",q.length,"\u4ef6\uff09"]}),xe.map(e=>(0,kt.jsxs)("option",{value:e.key,children:[e.label,"\uff08",e.count,"\uff09"]},e.key))]})]}),(0,kt.jsxs)("span",{className:"channel-settings-page__library-count",children:["\u8868\u793a ",je.length," / ",q.length," \u4ef6"]})]}),J?(0,kt.jsx)("p",{className:"channel-settings-page__warning",children:J}):null,Q&&0===q.length?(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):je.length?(0,kt.jsx)("div",{className:"channel-settings-page__library-grid",children:je.map(e=>{var t;const n=null!==(t=V[e.id])&&void 0!==t?t:{video:"",pending:!1},a=ht(e.public_url),l=Qn($n(e));return(0,kt.jsxs)("article",{className:"channel-settings-page__library-card",children:[(0,kt.jsx)("div",{className:"channel-settings-page__library-preview",children:(0,kt.jsx)("img",{src:a,alt:e.file_name,loading:"lazy"})}),(0,kt.jsxs)("div",{className:"channel-settings-page__library-meta",children:[(0,kt.jsx)("strong",{children:e.file_name}),(0,kt.jsx)("span",{children:l}),(0,kt.jsx)("span",{children:e.relative_path}),(0,kt.jsxs)("span",{children:[Hn(e.size_bytes),"\u30fb",Wn(e.updated_at)]})]}),(0,kt.jsxs)("div",{className:"channel-settings-page__library-form",children:[(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"\u52d5\u753b\u756a\u53f7"}),(0,kt.jsx)("input",{type:"text",inputMode:"numeric",value:n.video,onChange:t=>ie(e.id,t.target.value),placeholder:"\u4f8b: 191",disabled:n.pending})]}),(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button channel-settings-page__button--primary",onClick:()=>ce(e),disabled:n.pending||!n.video.trim(),children:n.pending?"\u7d10\u4ed8\u3051\u4e2d\u2026":"\u3053\u306e\u4f01\u753b\u306b\u4f7f\u3046"})]}),n.error?(0,kt.jsx)("p",{className:"channel-settings-page__warning",children:n.error}):null,n.success?(0,kt.jsx)("p",{className:"channel-settings-page__success",children:n.success}):null]},e.id)})}):(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u8868\u793a\u3067\u304d\u308b\u753b\u50cf\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u30b5\u30e0\u30cd\u30a4\u30eb\u30da\u30fc\u30b8\u304b\u3089\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]})}),(0,kt.jsxs)("div",{className:"channel-settings-page__filters",children:["all"!==k?(0,kt.jsxs)("button",{type:"button",className:"channel-settings-page__filter-badge",onClick:()=>w("all"),children:["\u9032\u6357: ",k," \xd7"]}):null,z?(0,kt.jsxs)("button",{type:"button",className:"channel-settings-page__filter-badge",onClick:()=>M(null),children:["\u6b20\u640d\u5217: ",z," \xd7"]}):null,(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button channel-settings-page__button--ghost",onClick:me,disabled:!pe.length,children:"CSV\u66f8\u304d\u51fa\u3057"}),(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__button channel-settings-page__button--ghost",onClick:()=>Z(pe.map(e=>{var t;return null!==(t=e.script_id)&&void 0!==t?t:""}).join(", "),"\u52d5\u753bID\u4e00\u89a7"),disabled:!pe.length,children:"\u52d5\u753bID\u30b3\u30d4\u30fc"})]}),de.some(e=>e.missing>0)?(0,kt.jsx)(Jn,{title:"\u5fc5\u9808\u5217\u306e\u6b20\u640d\u72b6\u6cc1",description:"\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u6b20\u640d\u884c\u306e\u307f\u8868\u793a\u3057\u307e\u3059",defaultOpen:!1,children:(0,kt.jsx)("div",{className:"channel-settings-page__requirements",children:(0,kt.jsx)("div",{className:"channel-settings-page__requirements-list",children:de.map(e=>(0,kt.jsxs)("button",{type:"button",className:z===e.column?"channel-settings-page__requirements-chip is-active":"channel-settings-page__requirements-chip",disabled:0===e.missing,onClick:()=>M(e.column),children:[(0,kt.jsx)("span",{children:e.column}),(0,kt.jsx)("strong",{children:e.missing})]},e.column))})})}):null,(0,kt.jsx)(Jn,{title:"\u30da\u30eb\u30bd\u30ca / \u8aac\u660e\u6587\u30c7\u30d5\u30a9\u30eb\u30c8",defaultOpen:!1,children:(0,kt.jsxs)("div",{className:"channel-settings-page__persona-card",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__persona-content",children:[(0,kt.jsx)("div",{children:(0,kt.jsx)("h3",{children:"\u56fa\u5b9a\u30da\u30eb\u30bd\u30ca / \u8aac\u660e\u6587\u30c7\u30d5\u30a9\u30eb\u30c8"})}),C?(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):T?(0,kt.jsxs)("p",{className:"channel-settings-page__error",children:["\u30da\u30eb\u30bd\u30ca\u53d6\u5f97\u306b\u5931\u6557: ",T]}):(0,kt.jsx)("dl",{children:ke.map(e=>{var t;return(0,kt.jsxs)("div",{className:"channel-settings-page__persona-field",children:[(0,kt.jsx)("dt",{children:e.label}),(0,kt.jsx)("dd",{children:null!==(t=e.value)&&void 0!==t?t:"\u2014"}),e.value?(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__persona-copy",onClick:()=>Z(e.value,e.label),children:"\u30b3\u30d4\u30fc"}):null]},e.key)})})]}),N.tags.length?(0,kt.jsxs)("div",{className:"channel-settings-page__persona-tags",children:[N.tags.slice(0,6).map(e=>(0,kt.jsx)("span",{children:e},e)),N.tags.length>6?(0,kt.jsxs)("span",{className:"channel-settings-page__persona-tags-more",children:["+",N.tags.length-6]}):null,(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__persona-copy channel-settings-page__persona-copy--tag",onClick:()=>Z(N.tags.join(", "),"\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b0"),children:"\u30bf\u30b0\u3092\u30b3\u30d4\u30fc"})]}):null,N.personaPath||N.templatePath?(0,kt.jsxs)("div",{className:"channel-settings-page__persona-files",children:[N.personaPath?(0,kt.jsxs)("button",{type:"button",className:"channel-settings-page__persona-file",onClick:()=>Z(N.personaPath,"\u30da\u30eb\u30bd\u30ca\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9"),children:["\u30da\u30eb\u30bd\u30caDoc: ",(0,kt.jsx)("code",{children:N.personaPath})]}):null,N.templatePath?(0,kt.jsxs)("button",{type:"button",className:"channel-settings-page__persona-file",onClick:()=>Z(N.templatePath,"\u30c6\u30f3\u30d7\u30ecCSV\u30d1\u30b9"),children:["\u30c6\u30f3\u30d7\u30ecCSV: ",(0,kt.jsx)("code",{children:N.templatePath})]}):null]}):null]})}),(0,kt.jsxs)("div",{className:"channel-settings-page__grid",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__planning",children:[(0,kt.jsxs)("div",{className:"channel-settings-page__planning-header",children:[(0,kt.jsx)("div",{children:(0,kt.jsx)("h2",{children:"\u4f01\u753b\u4e00\u89a7"})}),(0,kt.jsxs)("div",{className:"channel-settings-page__planning-actions",children:[(0,kt.jsxs)("label",{className:"channel-settings-page__field",children:[(0,kt.jsx)("span",{children:"\u52d5\u753b\u756a\u53f7 / \u30bf\u30a4\u30c8\u30eb"}),(0,kt.jsx)("input",{id:"channel-settings-search",type:"text",value:h,placeholder:"\u4f8b: 015 / \u5b64\u72ec",onChange:e=>m(e.target.value)})]}),(0,kt.jsxs)("label",{className:"channel-settings-page__field",children:[(0,kt.jsx)("span",{children:"\u9032\u6357\u30d5\u30a3\u30eb\u30bf\u30fc"}),(0,kt.jsxs)("select",{value:k,onChange:e=>w(e.target.value),children:[(0,kt.jsx)("option",{value:"all",children:"\u3059\u3079\u3066"}),ue.map(e=>(0,kt.jsxs)("option",{value:e.value,children:[e.value,"\uff08",e.count,"\uff09"]},e.value))]})]})]})]}),d?(0,kt.jsx)("div",{className:"channel-settings-page__error",children:d}):null,x?(0,kt.jsxs)("div",{className:"channel-settings-page__warning",children:["\u30b5\u30e0\u30cd\u30a4\u30eb\u53d6\u5f97\u306b\u5931\u6557: ",x]}):null,(0,kt.jsx)("div",{className:"channel-settings-page__table-wrapper",children:c?(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):0===pe.length?(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u8a72\u5f53\u3059\u308b\u4f01\u753b\u304c\u3042\u308a\u307e\u305b\u3093\u3002"}):(0,kt.jsxs)("table",{className:"channel-settings-page__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"No."}),(0,kt.jsx)("th",{children:"\u52d5\u753bID"}),(0,kt.jsx)("th",{children:"\u30bf\u30a4\u30c8\u30eb"}),(0,kt.jsx)("th",{children:"\u30b5\u30e0\u30cd\u30a4\u30eb"}),(0,kt.jsx)("th",{children:"\u9032\u6357"}),(0,kt.jsx)("th",{children:"\u66f4\u65b0\u65e5\u6642"}),(0,kt.jsx)("th",{})]})}),(0,kt.jsx)("tbody",{children:he.map(e=>{var n,a,l;const r=function(e,t){const n=null===e||void 0===e?void 0:e.trim();return n&&/^\d+$/.test(n)?n:Vn(t)||n||"\u2014"}(null===(n=e.columns)||void 0===n?void 0:n["No."],e.video_number),s=function(e){if(!e)return"\u30bf\u30a4\u30c8\u30eb\u672a\u8a2d\u5b9a";const t=e.trim().replace(/^#+\s*/,"");return t?t.length>40?"".concat(t.slice(0,40),"\u2026"):t:"\u30bf\u30a4\u30c8\u30eb\u672a\u8a2d\u5b9a"}(Kn(e));return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{className:"channel-settings-page__col-no",children:r}),(0,kt.jsx)("td",{className:"channel-settings-page__col-id",children:null!==(a=e.script_id)&&void 0!==a?a:"".concat(e.channel,"-").concat(e.video_number)}),(0,kt.jsx)("td",{className:"channel-settings-page__table-title",children:s}),(0,kt.jsx)("td",{className:"channel-settings-page__col-thumb",children:(()=>{const t=Vn(e.video_number),n=t?g[t]:void 0;var a;return null!==n&&void 0!==n&&n.url?(0,kt.jsx)("img",{src:n.url,alt:null!==(a=n.label)&&void 0!==a?a:"\u30b5\u30e0\u30cd\u30a4\u30eb",className:"channel-settings-page__thumb",loading:"lazy"}):(0,kt.jsx)("span",{className:"channel-settings-page__thumb-placeholder",children:_?"\u8aad\u8fbc\u4e2d\u2026":"\u2014"})})()}),(0,kt.jsx)("td",{className:"channel-settings-page__col-progress",children:null!==(l=e.progress)&&void 0!==l?l:"\u672a\u8a2d\u5b9a"}),(0,kt.jsx)("td",{className:"channel-settings-page__col-updated",children:Wn(e.updated_at)}),(0,kt.jsxs)("td",{children:[(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__link",onClick:()=>t("/channels/".concat(e.channel,"/videos/").concat(e.video_number)),children:"\u8a73\u7d30\u3078"}),(0,kt.jsx)("button",{type:"button",className:"channel-settings-page__link",onClick:()=>{v({open:!0,row:e,values:ee.reduce((t,n)=>{var a,l;return t[n]=null!==(a=null===(l=e.columns)||void 0===l?void 0:l[n])&&void 0!==a?a:"",t},{}),saving:!1,error:null})},children:"\u7de8\u96c6"})]})]},"".concat(e.channel,"-").concat(e.video_number))})})]})})]}),(0,kt.jsx)("div",{className:"channel-settings-page__profile",children:(0,kt.jsx)(Bn,{channelCode:a,channelName:null!==(e=null===r||void 0===r?void 0:r.name)&&void 0!==e?e:null})})]})]}):(0,kt.jsx)("p",{className:"channel-settings-page__placeholder",children:"\u5de6\u4e0a\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),f.open&&f.row?(0,kt.jsxs)("div",{className:"channel-settings-editor",role:"dialog","aria-modal":"true",children:[(0,kt.jsx)("div",{className:"channel-settings-editor__backdrop",onClick:()=>v({open:!1,row:null,values:{},saving:!1,error:null})}),(0,kt.jsxs)("div",{className:"channel-settings-editor__panel",children:[(0,kt.jsxs)("header",{children:[(0,kt.jsxs)("h3",{children:[f.row.channel,"-",f.row.video_number," (",f.row.title,")"]}),(0,kt.jsx)("p",{children:"\u60a9\u307f\u30bf\u30b0\u3084\u8aac\u660e\u6587\u306a\u3069\u4f01\u753b\u306e\u4e3b\u8981\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002"})]}),(0,kt.jsx)("div",{className:"channel-settings-editor__grid",children:ee.map(e=>{var t;const n=e.includes("\u8aac\u660e\u6587")||e.includes("\u30d9\u30cd\u30d5\u30a3\u30c3\u30c8")||e.includes("\u305f\u3068\u3048\u8a71")||e.includes("\u60a9\u307f\u30bf\u30b0")||e.includes("\u30e9\u30a4\u30d5\u30b7\u30fc\u30f3")||e.includes("\u30ad\u30fc\u30b3\u30f3\u30bb\u30d7\u30c8");return(0,kt.jsxs)("label",{className:n?"channel-settings-editor__field channel-settings-editor__field--wide":"channel-settings-editor__field",children:[(0,kt.jsx)("span",{children:e}),(0,kt.jsx)("textarea",{rows:n?5:3,value:null!==(t=f.values[e])&&void 0!==t?t:"",onChange:t=>v(n=>Ve(Ve({},n),{},{values:Ve(Ve({},n.values),{},{[e]:t.target.value})}))})]},e)})}),f.error?(0,kt.jsx)("p",{className:"channel-settings-editor__error",children:f.error}):null,(0,kt.jsxs)("div",{className:"channel-settings-editor__actions",children:[(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--secondary",onClick:()=>v({open:!1,row:null,values:{},saving:!1,error:null}),disabled:f.saving,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,kt.jsx)("button",{type:"button",className:"channel-profile-button channel-profile-button--primary",onClick:async()=>{if(f.row){v(e=>Ve(Ve({},e),{},{saving:!0,error:null}));try{var e,t,n,l,r,s,i,o;await lt(f.row.channel,f.row.video_number,{fields:{primary_pain_tag:null!==(e=f.values["\u60a9\u307f\u30bf\u30b0_\u30e1\u30a4\u30f3"])&&void 0!==e?e:null,secondary_pain_tag:null!==(t=f.values["\u60a9\u307f\u30bf\u30b0_\u30b5\u30d6"])&&void 0!==t?t:null,life_scene:null!==(n=f.values["\u30e9\u30a4\u30d5\u30b7\u30fc\u30f3"])&&void 0!==n?n:null,key_concept:null!==(l=f.values["\u30ad\u30fc\u30b3\u30f3\u30bb\u30d7\u30c8"])&&void 0!==l?l:null,benefit_blurb:null!==(r=f.values["\u30d9\u30cd\u30d5\u30a3\u30c3\u30c8\u4e00\u8a00"])&&void 0!==r?r:null,analogy_image:null!==(s=f.values["\u305f\u3068\u3048\u8a71\u30a4\u30e1\u30fc\u30b8"])&&void 0!==s?s:null,description_lead:null!==(i=f.values["\u8aac\u660e\u6587_\u30ea\u30fc\u30c9"])&&void 0!==i?i:null,description_takeaways:null!==(o=f.values["\u8aac\u660e\u6587_\u3053\u306e\u52d5\u753b\u3067\u308f\u304b\u308b\u3053\u3068"])&&void 0!==o?o:null}}),v({open:!1,row:null,values:{},saving:!1,error:null}),a&&ae(a)}catch(c){v(e=>Ve(Ve({},e),{},{saving:!1,error:c instanceof Error?c.message:String(c)}))}}},disabled:f.saving,children:f.saving?"\u4fdd\u5b58\u4e2d\u2026":"\u4fdd\u5b58"})]})]})]}):null,I?(0,kt.jsxs)("button",{type:"button",className:"channel-settings-page__scroll-top",onClick:Se,children:["\u2191",(0,kt.jsx)("span",{children:"TOP"})]}):null]})}const Gn=[{label:"\u5fc3\u7406\u30fb\u30b9\u30d4\u7cfb\u30d9\u30f3\u30c1",base:"research",path:"\u5fc3\u7406\u5b66\u30b9\u30d4\u30ea\u30c1\u30e5\u30a2\u30eb\u7cfb"},{label:"\u30b7\u30cb\u30a2\u604b\u611b\u30d9\u30f3\u30c1",base:"research",path:"\u30b7\u30cb\u30a2\u306e\u30b9\u30c8\u30fc\u30ea\u30fc/\u30b7\u30cb\u30a2\u306e\u604b\u611b1"},{label:"\u5049\u4eba\u30fb\u540d\u8a00\u30d9\u30f3\u30c1",base:"research",path:"\u5049\u4eba\u540d\u8a00\u7cfb\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u53f0\u672c\uff08\u53c2\u8003\uff09"},{label:"CH05 \u53f0\u672c\u30a2\u30fc\u30ab\u30a4\u30d6",base:"scripts",path:"CH05"},{label:"CH10 \u53f0\u672c\u30a2\u30fc\u30ab\u30a4\u30d6",base:"scripts",path:"CH10"}],Xn={research:"00_research\uff08\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30fb\u8abf\u67fb\uff09",scripts:"script_pipeline/data\uff08\u53f0\u672c\u30a2\u30fc\u30ab\u30a4\u30d6\uff09"};function Zn(){var e;const[t,n]=(0,l.useState)("research"),[a,r]=(0,l.useState)(""),[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[u,d]=(0,l.useState)(null),[p,h]=(0,l.useState)(""),[m,f]=(0,l.useState)(!1),[v,g]=(0,l.useState)(null),[b,_]=(0,l.useState)(null),y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;f(!0),g(null);try{const l=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=new URLSearchParams;e&&n.set("base",e),t&&n.set("path",t);const a=n.toString();return Ge("/api/research/list".concat(a?"?".concat(a):""))}(e,t);n(e),r(l.path),c(l.entries),a&&i(a),d(null),h("")}catch(l){g(l instanceof Error?l.message:String(l))}finally{f(!1)}},x=async e=>{f(!0),g(null);try{const n=await function(e,t){const n=new URLSearchParams({base:e,path:t});return Ge("/api/research/file?".concat(n.toString()))}(t,e);if(d(e),h(n.content),"csv"===function(e){const t=e.split(".");return t.length>1?t.pop().toLowerCase():""}(e)){const e=n.content.split(/\r?\n/).slice(0,200).map(e=>e.split(","));_(e)}else _(null)}catch(n){g(n instanceof Error?n.message:String(n))}finally{f(!1)}},j=(0,l.useCallback)(e=>{y(e.base,e.path,e)},[]);(0,l.useEffect)(()=>{j(Gn[0])},[j]);return(0,l.useEffect)(()=>{if(!u&&o.length>0){const e=o.find(e=>function(e){if(e.is_dir)return!1;const t=e.name.toLowerCase();return[".md",".txt",".csv",".json"].some(e=>t.endsWith(e))||!t.includes(".")}(e));e&&x(e.path)}},[o,u]),(0,kt.jsxs)("section",{className:"research-workspace",children:[(0,kt.jsxs)("header",{className:"research-workspace__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"eyebrow",children:"/research"}),(0,kt.jsx)("h2",{children:"\u30ea\u30b5\u30fc\u30c1\uff06\u30d9\u30f3\u30c1\u30de\u30fc\u30af"}),(0,kt.jsx)("p",{className:"research-workspace__note",children:"00_research\uff08\u30d9\u30f3\u30c1\u30de\u30fc\u30af\uff09\u3068 script_pipeline/data\uff08\u53f0\u672c\u30a2\u30fc\u30ab\u30a4\u30d6\uff09\u3092\u30d6\u30e9\u30a6\u30ba\u3002\u30d9\u30f3\u30c1\u60c5\u5831\u3092\u898b\u306a\u304c\u3089\u53f0\u672c\u3092\u78ba\u8a8d\u3059\u308b\u6700\u5c0f\u9650\u30d3\u30e5\u30fc\u3067\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"research-workspace__actions",children:[(0,kt.jsx)("span",{className:"badge subtle",children:Xn[t]}),s?(0,kt.jsx)("span",{className:"badge subtle",children:s.label}):null,(0,kt.jsx)("button",{type:"button",className:"research-chip",onClick:()=>j(null!==s&&void 0!==s?s:Gn[0]),children:"\u518d\u8aad\u307f\u8fbc\u307f"})]})]}),(0,kt.jsxs)("section",{className:"research-quick",children:[(0,kt.jsx)("div",{className:"research-quick__title",children:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8"}),(0,kt.jsx)("div",{className:"research-quick__grid",children:Gn.map(e=>{var t;return(0,kt.jsxs)("button",{className:"research-quick__item",onClick:()=>j(e),title:null!==(t=e.hint)&&void 0!==t?t:e.path,children:[(0,kt.jsx)("span",{className:"research-quick__label",children:e.label}),(0,kt.jsxs)("span",{className:"research-quick__path",children:[Xn[e.base]," / ",e.path]})]},e.label)})})]}),(0,kt.jsxs)("div",{className:"research-body",children:[(0,kt.jsxs)("div",{className:"research-list",children:[(0,kt.jsxs)("div",{className:"research-list__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"muted",children:"\u73fe\u5728\u306e\u30d7\u30ea\u30bb\u30c3\u30c8"}),(0,kt.jsxs)("div",{className:"research-breadcrumb",children:[(0,kt.jsx)("strong",{children:null!==(e=null===s||void 0===s?void 0:s.label)&&void 0!==e?e:"\u672a\u9078\u629e"}),(0,kt.jsx)("span",{className:"crumb-sep",children:"/"}),(0,kt.jsx)("span",{className:"muted small-text",children:a||"\u2014"})]})]}),(0,kt.jsxs)("div",{className:"research-list__status",children:[(0,kt.jsxs)("span",{className:"badge subtle",children:[o.length," \u4ef6"]}),(0,kt.jsx)("span",{className:"badge subtle",children:Xn[t]})]})]}),m&&(0,kt.jsx)("div",{className:"research-loading",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}),v&&(0,kt.jsxs)("div",{className:"research-error",children:["\u30a8\u30e9\u30fc: ",v]}),!m&&!v&&(0,kt.jsx)("ul",{className:"research-list__items",children:0===o.length?(0,kt.jsx)("li",{className:"muted",children:"\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002"}):o.map(e=>(0,kt.jsx)("li",{children:(0,kt.jsxs)("button",{className:"research-entry",onClick:()=>(e=>{e.is_dir?y(t,e.path,null!==s&&void 0!==s?s:void 0):x(e.path)})(e),children:[(0,kt.jsx)("span",{className:"badge ".concat(e.is_dir?"dir":"file"),children:e.is_dir?"DIR":"FILE"}),(0,kt.jsxs)("div",{className:"research-entry__meta",children:[(0,kt.jsx)("span",{className:"name",children:e.name}),(0,kt.jsx)("span",{className:"meta",children:e.modified?new Date(e.modified).toLocaleString("ja-JP"):"-"})]})]})},e.path))})]}),(0,kt.jsxs)("div",{className:"research-viewer",children:[(0,kt.jsxs)("div",{className:"research-viewer__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("strong",{children:"\u30d7\u30ec\u30d3\u30e5\u30fc"}),(0,kt.jsx)("p",{className:"research-viewer__path",children:null!==u&&void 0!==u?u:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]}),u?(0,kt.jsx)("span",{className:"badge subtle",children:"\u30c6\u30ad\u30b9\u30c8\u524d\u63d0\u306e\u7c21\u6613\u8868\u793a\uff08CSV\u306f\u8868\u5f62\u5f0f\u3067\u6700\u5927200\u884c\uff09"}):null]}),b?(0,kt.jsx)("div",{className:"research-csv",children:(0,kt.jsx)("table",{className:"research-csv__table",children:(0,kt.jsx)("tbody",{children:b.map((e,t)=>(0,kt.jsx)("tr",{children:e.map((e,t)=>(0,kt.jsx)("td",{children:e},t))},t))})})}):(0,kt.jsx)("pre",{className:"research-viewer__content",children:p||" "})]})]})]})}function ea(){return(0,kt.jsx)("section",{className:"main-content main-content--workspace",children:(0,kt.jsx)(Zn,{})})}function ta(){var e,t,n,a,r;const[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),[u,d]=(0,l.useState)({}),[p,h]=(0,l.useState)(null),[m,f]=(0,l.useState)(null),v=(0,l.useRef)(new Set),g=(0,l.useMemo)(()=>{var e;return null!==(e=null===s||void 0===s?void 0:s.channels)&&void 0!==e?e:[]},[s]),b=o?u[o]:void 0;return(0,l.useEffect)(()=>{let e=!0;return ot().then(t=>{e&&(i(t),t.channels.length&&c(e=>e&&t.channels.some(t=>t.channel===e)?e:t.channels[0].channel))}).catch(t=>{if(!e)return;const n=t instanceof Error?t.message:String(t);h(n)}),()=>{e=!1}},[]),(0,l.useEffect)(()=>{const e=o;if(!e)return;if(v.current.has(e))return;let t=!1;return d(t=>{var n,a;return Ve(Ve({},t),{},{[e]:{assets:null!==(n=null===(a=t[e])||void 0===a?void 0:a.assets)&&void 0!==n?n:[],loading:!0,loaded:!1,error:null}})}),ct(e).then(n=>{t||(v.current.add(e),d(t=>Ve(Ve({},t),{},{[e]:{assets:n,loading:!1,loaded:!0,error:null}})))}).catch(n=>{if(t)return;const a=n instanceof Error?n.message:String(n);v.current.add(e),d(t=>{var n,l;return Ve(Ve({},t),{},{[e]:{assets:null!==(n=null===(l=t[e])||void 0===l?void 0:l.assets)&&void 0!==n?n:[],loading:!1,loaded:!0,error:a}})})}),()=>{t=!0}},[o]),(0,kt.jsxs)("section",{className:"thumbnail-library-panel",children:[(0,kt.jsxs)("div",{className:"thumbnail-library-panel__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{children:"\u53c2\u8003\u30b5\u30e0\u30cd\u30e9\u30a4\u30d6\u30e9\u30ea"}),(0,kt.jsx)("p",{className:"muted small-text",children:"thumbnails \u914d\u4e0b\u306b\u7f6e\u3044\u305f\u753b\u50cf\u3092\u30c1\u30e3\u30f3\u30cd\u30eb\u3054\u3068\u306b\u78ba\u8a8d\u3067\u304d\u307e\u3059"})]}),(0,kt.jsx)("div",{className:"thumbnail-hub__tabs",role:"tablist","aria-label":"\u30c1\u30e3\u30f3\u30cd\u30eb\u5207\u66ff",children:g.map(e=>{var t;return(0,kt.jsx)("button",{className:"thumbnail-hub__tab".concat(o===e.channel?" thumbnail-hub__tab--active":""),onClick:()=>c(e.channel),role:"tab","aria-selected":o===e.channel,children:null!==(t=e.channel_title)&&void 0!==t?t:e.channel},e.channel)})})]}),p?(0,kt.jsx)("p",{className:"thumbnail-library__alert",children:p}):null,(0,kt.jsx)("div",{className:"thumbnail-library-panel__header",style:{marginTop:"8px"},children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("strong",{children:null!==o&&void 0!==o?o:"\u2014"}),o&&s?(0,kt.jsx)("p",{className:"thumbnail-library-card__meta-info",children:null!==(e=null===(t=s.channels.find(e=>e.channel===o))||void 0===t?void 0:t.library_path)&&void 0!==e?e:""}):null]})}),null!==b&&void 0!==b&&b.error?(0,kt.jsx)("p",{className:"thumbnail-library__alert",children:b.error}):null,null!==b&&void 0!==b&&b.loading?(0,kt.jsx)("p",{className:"thumbnail-library__placeholder",children:"\u753b\u50cf\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u2026"}):null,null!==b&&void 0!==b&&b.loading||0!==(null!==(n=null===b||void 0===b||null===(a=b.assets)||void 0===a?void 0:a.length)&&void 0!==n?n:0)?null:(0,kt.jsx)("p",{className:"thumbnail-library__placeholder",children:"\u753b\u50cf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"}),null!==b&&void 0!==b&&null!==(r=b.assets)&&void 0!==r&&r.length?(0,kt.jsx)("div",{className:"thumbnail-library-grid",children:b.assets.map(e=>{const t=ht(e.public_url);return(0,kt.jsxs)("article",{className:"thumbnail-library-card",children:[(0,kt.jsx)("div",{className:"thumbnail-library-card__preview",children:(0,kt.jsx)("img",{src:t,alt:e.file_name,loading:"lazy"})}),(0,kt.jsxs)("div",{className:"thumbnail-library-card__meta",children:[(0,kt.jsx)("strong",{title:e.file_name,children:e.file_name}),(0,kt.jsx)("div",{className:"thumbnail-library-card__meta-info",children:e.relative_path})]}),(0,kt.jsx)("div",{className:"thumbnail-library-card__actions",children:(0,kt.jsx)("button",{type:"button",className:"btn btn--ghost",onClick:()=>{var t,n;o&&(f(e.id),(t=o,n=e.relative_path,Ge("/api/workspaces/thumbnails/".concat(encodeURIComponent(t),"/library/").concat(encodeURIComponent(n)),{method:"DELETE"})).then(()=>{d(t=>{const n=t[o];return n?Ve(Ve({},t),{},{[o]:Ve(Ve({},n),{},{assets:n.assets.filter(t=>t.id!==e.id)})}):t})}).catch(e=>{const t=e instanceof Error?e.message:String(e);d(e=>{var n;return Ve(Ve({},e),{},{[o]:Ve(Ve({},null!==(n=e[o])&&void 0!==n?n:{assets:[],loading:!1,loaded:!0}),{},{error:t})})})}).finally(()=>{f(t=>t===e.id?null:t)}))},disabled:m===e.id,children:m===e.id?"\u524a\u9664\u4e2d\u2026":"\u524a\u9664"})})]},e.id)})}):null]})}function na(){return(0,kt.jsxs)("section",{className:"thumbnail-hub",children:[(0,kt.jsx)("header",{className:"thumbnail-hub__header",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{children:"\u30b5\u30e0\u30cd\u30a4\u30eb\u30e9\u30a4\u30d6\u30e9\u30ea"}),(0,kt.jsx)("p",{className:"muted small-text",children:"thumbnails \u914d\u4e0b\u306b\u7f6e\u3044\u305f\u30b5\u30e0\u30cd\u3092\u30c1\u30e3\u30f3\u30cd\u30eb\u3054\u3068\u306b\u78ba\u8a8d\u3067\u304d\u307e\u3059"})]})}),(0,kt.jsx)("div",{className:"thumbnail-hub__panes",children:(0,kt.jsx)("div",{className:"thumbnail-hub__pane thumbnail-hub__pane--primary",children:(0,kt.jsx)(ta,{})})})]})}function aa(){return(0,kt.jsx)("section",{className:"thumbnail-page workspace--thumbnail-clean",children:(0,kt.jsx)(na,{})})}const la=[{code:"CH06",name:"\u7981\u65ad\u306e\u77e5\u6075\u888b",count:33},{code:"CH02",name:"\u4eba\u751f\u306e\u9053\u6a19",count:82},{code:"CH04",name:"\u95d8\u5fd7\u306e\u708e",count:30}];function ra(){const[e,t]=(0,l.useState)(null),[n,a]=(0,l.useState)(null),[r,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)(new Set(["CH06","CH02","CH04"])),[c,u]=(0,l.useState)(!1),[d,p]=(0,l.useState)(""),[h,m]=(0,l.useState)(!1),f=(0,l.useCallback)(async()=>{try{const e=await async function(){const e=await fetch("".concat(Je,"/api/batch-tts/progress"));if(!e.ok)throw new Error("Failed: ".concat(e.status));return e.json()}();if(t(e),a(null),"running"===e.status&&c){const e=await async function(){try{const e=await fetch("".concat(Je,"/api/batch-tts/log"));return e.ok?e.text():""}catch(e){return""}}();p(e)}}catch(e){a(e instanceof Error?e.message:String(e))}},[c]);(0,l.useEffect)(()=>{f();const e=setInterval(()=>{f()},3e3);return()=>clearInterval(e)},[f]);const v=(0,l.useCallback)(async()=>{if(0!==i.size){s(!0),a(null);try{await async function(e){const t=await fetch("".concat(Je,"/api/batch-tts/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channels:e})});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.detail||"Failed: ".concat(t.status))}return t.json()}(Array.from(i)),await f(),u(!0)}catch(e){a(e instanceof Error?e.message:String(e))}finally{s(!1)}}else a("\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")},[i,f]),g="running"===(null===e||void 0===e?void 0:e.status),b="completed"===(null===e||void 0===e?void 0:e.status),_=!e||"idle"===e.status,y=null!==e&&void 0!==e&&e.total?Math.round(e.completed/e.total*100):0;return h?(0,kt.jsx)("div",{className:"batch-panel batch-panel--collapsed",onClick:()=>m(!1),children:(0,kt.jsxs)("div",{className:"batch-panel__collapsed-header",children:[(0,kt.jsx)("span",{className:"batch-panel__collapsed-icon",children:"\ud83c\udf99\ufe0f"}),(0,kt.jsx)("span",{className:"batch-panel__collapsed-title",children:"\u30d0\u30c3\u30c1TTS"}),g&&(0,kt.jsxs)("span",{className:"batch-panel__collapsed-status batch-panel__collapsed-status--running",children:[null===e||void 0===e?void 0:e.current_channel,"/",null===e||void 0===e?void 0:e.current_video," (",y,"%)"]}),b&&(0,kt.jsxs)("span",{className:"batch-panel__collapsed-status batch-panel__collapsed-status--done",children:["\u5b8c\u4e86 \u2713 ",null===e||void 0===e?void 0:e.success,"/",null===e||void 0===e?void 0:e.total]}),_&&(0,kt.jsx)("span",{className:"batch-panel__collapsed-status",children:"\u5f85\u6a5f\u4e2d"}),(0,kt.jsx)("button",{className:"batch-panel__expand-btn",onClick:e=>{e.stopPropagation(),m(!1)},children:"\u5c55\u958b"})]})}):(0,kt.jsxs)("div",{className:"batch-panel",children:[(0,kt.jsxs)("header",{className:"batch-panel__header",children:[(0,kt.jsxs)("div",{className:"batch-panel__title-row",children:[(0,kt.jsxs)("h3",{className:"batch-panel__title",children:[(0,kt.jsx)("span",{className:"batch-panel__icon",children:"\ud83c\udf99\ufe0f"}),"\u30d0\u30c3\u30c1TTS\u97f3\u58f0\u751f\u6210"]}),(0,kt.jsxs)("div",{className:"batch-panel__header-actions",children:[(0,kt.jsx)("button",{className:"batch-panel__btn batch-panel__btn--ghost",onClick:()=>{f()},title:"\u66f4\u65b0",children:"\ud83d\udd04"}),(0,kt.jsx)("button",{className:"batch-panel__btn batch-panel__btn--ghost",onClick:()=>m(!0),title:"\u6298\u308a\u305f\u305f\u3080",children:"\u2796"})]})]}),(0,kt.jsx)("p",{className:"batch-panel__description",children:"\u53f0\u672c\uff08assembled.md\uff09\u3092\u78ba\u8a8d\u5f8c\u3001\u9078\u629e\u3057\u305f\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u97f3\u58f0\u3092\u4e00\u62ec\u751f\u6210\u3057\u307e\u3059"})]}),n&&(0,kt.jsxs)("div",{className:"batch-panel__alert batch-panel__alert--error",children:["\u26a0\ufe0f ",n]}),(0,kt.jsxs)("div",{className:"batch-panel__workflow",children:[(0,kt.jsxs)("div",{className:"batch-panel__step ".concat(_?"batch-panel__step--active":"batch-panel__step--done"),children:[(0,kt.jsx)("span",{className:"batch-panel__step-number",children:"1"}),(0,kt.jsx)("span",{className:"batch-panel__step-label",children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u9078\u629e"})]}),(0,kt.jsx)("div",{className:"batch-panel__step-arrow",children:"\u2192"}),(0,kt.jsxs)("div",{className:"batch-panel__step ".concat(g?"batch-panel__step--active":b?"batch-panel__step--done":""),children:[(0,kt.jsx)("span",{className:"batch-panel__step-number",children:"2"}),(0,kt.jsx)("span",{className:"batch-panel__step-label",children:"\u97f3\u58f0\u751f\u6210\u4e2d"})]}),(0,kt.jsx)("div",{className:"batch-panel__step-arrow",children:"\u2192"}),(0,kt.jsxs)("div",{className:"batch-panel__step ".concat(b?"batch-panel__step--active":""),children:[(0,kt.jsx)("span",{className:"batch-panel__step-number",children:"3"}),(0,kt.jsx)("span",{className:"batch-panel__step-label",children:"\u5b8c\u4e86"})]})]}),_&&(0,kt.jsxs)("section",{className:"batch-panel__section",children:[(0,kt.jsx)("h4",{className:"batch-panel__section-title",children:"\u5bfe\u8c61\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e"}),(0,kt.jsx)("div",{className:"batch-panel__channel-grid",children:la.map(e=>(0,kt.jsxs)("label",{className:"batch-panel__channel-card ".concat(i.has(e.code)?"batch-panel__channel-card--selected":""),children:[(0,kt.jsx)("input",{type:"checkbox",checked:i.has(e.code),onChange:()=>{return t=e.code,void o(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t}}),(0,kt.jsxs)("div",{className:"batch-panel__channel-info",children:[(0,kt.jsx)("span",{className:"batch-panel__channel-code",children:e.code}),(0,kt.jsx)("span",{className:"batch-panel__channel-name",children:e.name}),(0,kt.jsxs)("span",{className:"batch-panel__channel-count",children:[e.count," \u672c"]})]})]},e.code))}),(0,kt.jsx)("div",{className:"batch-panel__action-row",children:(0,kt.jsx)("button",{className:"batch-panel__btn batch-panel__btn--primary batch-panel__btn--large",onClick:()=>{v()},disabled:r||0===i.size,children:r?"\u958b\u59cb\u4e2d...":"\ud83d\ude80 ".concat(i.size,"\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u97f3\u58f0\u751f\u6210\u3092\u958b\u59cb")})})]}),g&&e&&(0,kt.jsxs)("section",{className:"batch-panel__section",children:[(0,kt.jsxs)("div",{className:"batch-panel__current-task",children:[(0,kt.jsx)("span",{className:"batch-panel__current-label",children:"\u51e6\u7406\u4e2d:"}),(0,kt.jsxs)("span",{className:"batch-panel__current-target",children:[e.current_channel,"/",e.current_video]}),(0,kt.jsx)("span",{className:"batch-panel__current-step",children:e.current_step||"\u51e6\u7406\u4e2d..."})]}),(0,kt.jsxs)("div",{className:"batch-panel__progress-main",children:[(0,kt.jsx)("div",{className:"batch-panel__progress-bar",children:(0,kt.jsx)("div",{className:"batch-panel__progress-fill",style:{width:"".concat(y,"%")}})}),(0,kt.jsxs)("div",{className:"batch-panel__progress-stats",children:[(0,kt.jsxs)("span",{children:[e.completed," / ",e.total," \u5b8c\u4e86 (",y,"%)"]}),(0,kt.jsxs)("span",{className:"batch-panel__stats-detail",children:[(0,kt.jsxs)("span",{className:"batch-panel__stat-success",children:["\u2713 ",e.success]}),(0,kt.jsxs)("span",{className:"batch-panel__stat-fail",children:["\u2717 ",e.failed]})]})]})]}),e.channels&&(0,kt.jsx)("div",{className:"batch-panel__channel-progress",children:Object.entries(e.channels).map(t=>{let[n,a]=t;const l=a.total>0?Math.round(a.completed/a.total*100):0,r=e.current_channel===n;return(0,kt.jsxs)("div",{className:"batch-panel__ch-row ".concat(r?"batch-panel__ch-row--active":""),children:[(0,kt.jsx)("span",{className:"batch-panel__ch-code",children:n}),(0,kt.jsx)("div",{className:"batch-panel__ch-bar",children:(0,kt.jsx)("div",{className:"batch-panel__ch-fill",style:{width:"".concat(l,"%")}})}),(0,kt.jsxs)("span",{className:"batch-panel__ch-text",children:[a.completed,"/",a.total]})]},n)})})]}),b&&e&&(0,kt.jsxs)("section",{className:"batch-panel__section batch-panel__section--completed",children:[(0,kt.jsxs)("div",{className:"batch-panel__completed-header",children:[(0,kt.jsx)("span",{className:"batch-panel__completed-icon",children:"\u2705"}),(0,kt.jsx)("span",{className:"batch-panel__completed-text",children:"\u30d0\u30c3\u30c1\u51e6\u7406\u5b8c\u4e86"})]}),(0,kt.jsxs)("div",{className:"batch-panel__completed-stats",children:[(0,kt.jsxs)("div",{className:"batch-panel__stat-box batch-panel__stat-box--success",children:[(0,kt.jsx)("span",{className:"batch-panel__stat-value",children:e.success}),(0,kt.jsx)("span",{className:"batch-panel__stat-label",children:"\u6210\u529f"})]}),(0,kt.jsxs)("div",{className:"batch-panel__stat-box batch-panel__stat-box--fail",children:[(0,kt.jsx)("span",{className:"batch-panel__stat-value",children:e.failed}),(0,kt.jsx)("span",{className:"batch-panel__stat-label",children:"\u5931\u6557"})]}),(0,kt.jsxs)("div",{className:"batch-panel__stat-box",children:[(0,kt.jsx)("span",{className:"batch-panel__stat-value",children:e.total}),(0,kt.jsx)("span",{className:"batch-panel__stat-label",children:"\u5408\u8a08"})]})]}),e.failed>0&&(0,kt.jsxs)("details",{className:"batch-panel__errors",children:[(0,kt.jsxs)("summary",{children:["\u30a8\u30e9\u30fc\u8a73\u7d30 (",e.errors.length,"\u4ef6)"]}),(0,kt.jsx)("ul",{children:e.errors.map((e,t)=>{var n;return(0,kt.jsxs)("li",{children:[(0,kt.jsxs)("strong",{children:[e.channel,"/",e.video]}),": ",e.error||(null===(n=e.issues)||void 0===n?void 0:n.join(", "))]},t)})})]}),(0,kt.jsx)("button",{className:"batch-panel__btn batch-panel__btn--primary",onClick:()=>{t(Ve(Ve({},e),{},{status:"idle"}))},children:"\u65b0\u3057\u3044\u30d0\u30c3\u30c1\u3092\u958b\u59cb"})]}),(g||c)&&(0,kt.jsxs)("section",{className:"batch-panel__section",children:[(0,kt.jsxs)("div",{className:"batch-panel__log-header",children:[(0,kt.jsx)("h4",{className:"batch-panel__section-title",children:"\u51e6\u7406\u30ed\u30b0"}),(0,kt.jsx)("button",{className:"batch-panel__btn batch-panel__btn--ghost",onClick:()=>u(!c),children:c?"\u30ed\u30b0\u3092\u96a0\u3059":"\u30ed\u30b0\u3092\u8868\u793a"})]}),c&&(0,kt.jsx)("pre",{className:"batch-panel__log",children:d||"\u30ed\u30b0\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}),(null===e||void 0===e?void 0:e.updated_at)&&(0,kt.jsxs)("footer",{className:"batch-panel__footer",children:["\u6700\u7d42\u66f4\u65b0: ",new Date(e.updated_at).toLocaleString("ja-JP")]})]})}function sa(e){if(null==e||Number.isNaN(e))return"-";const t=Math.max(e,0),n=Math.floor(t/60),a=Math.round(t%60*10)/10;return 0===n?"".concat(a.toFixed(a%1===0?0:1)," \u79d2"):"".concat(n,"\u5206 ").concat(a.toFixed(a%1===0?0:1),"\u79d2")}function ia(e){if(!e)return"\u66f4\u65b0\u306a\u3057";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}const oa={completed:"\u97f3\u58f0\u5b8c\u4e86",in_progress:"\u97f3\u58f0\u751f\u6210\u4e2d",review:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc\u5f85\u3061",blocked:"\u8981\u5bfe\u5fdc",pending:"\u672a\u7740\u624b",unknown:"\u4e0d\u660e"},ca={completed:"\u5b57\u5e55\u5b8c\u4e86",in_progress:"\u5b57\u5e55\u751f\u6210\u4e2d",review:"\u5b57\u5e55\u30ec\u30d3\u30e5\u30fc\u5f85\u3061",blocked:"\u5b57\u5e55\u8981\u5bfe\u5fdc",pending:"\u5b57\u5e55\u672a\u7740\u624b",unknown:"\u5b57\u5e55\u4e0d\u660e"};function ua(e){if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:"/".concat(e);return"".concat(Je).concat(t)}function da(){const e=ne(),[t,n]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[u,d]=(0,l.useState)(!1),[p,h]=(0,l.useState)(null),[m,f]=(0,l.useState)(null),[v,g]=(0,l.useState)(!1),[b,_]=(0,l.useState)(""),[y,x]=(0,l.useState)(""),[j,k]=(0,l.useState)(null),[w,N]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[E,T]=(0,l.useState)(""),[P,R]=(0,l.useState)(""),[L,O]=(0,l.useState)(null),[z,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!m)return;const e=window.setTimeout(()=>f(null),2500);return()=>window.clearTimeout(e)},[m]),(0,l.useEffect)(()=>{if(!m)return;const e=window.setTimeout(()=>f(null),2500);return()=>window.clearTimeout(e)},[m]);const I=(0,l.useCallback)(async(e,t)=>{g(!0),_(t),x(""),k(null),N(!0);try{const t=await fetch(e);if(!t.ok)throw new Error("".concat(t.status," ").concat(t.statusText));const n=await t.text();x(n)}catch(n){k(n instanceof Error?n.message:String(n))}finally{N(!1)}},[]),A=(0,l.useCallback)(async(e,t)=>{C(!0),T("".concat(e,"-").concat(t," A\u30c6\u30ad\u30b9\u30c8")),R(""),O(null),M(!0);try{const n=await st(e,t);R(n)}catch(n){O(n instanceof Error?n.message:String(n))}finally{M(!1)}},[]),[U,D]=(0,l.useState)(null),[F,B]=(0,l.useState)(null),[W,q]=(0,l.useState)(null),[H,V]=(0,l.useState)(""),[$,Q]=(0,l.useState)("all"),[K,J]=(0,l.useState)("recent"),[Y,G]=(0,l.useState)(!1),[X,Z]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(""),[re,se]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(null),ce=(0,l.useRef)(new Map),ue=(0,l.useCallback)(e=>{e.stopPropagation()},[]);(0,l.useEffect)(()=>{r(!0),i(null),Xe().then(e=>{n(e),!H&&e.length>0&&V("all")}).catch(e=>{i(e instanceof Error?e.message:String(e))}).finally(()=>{r(!1)})},[]);const de=(0,l.useCallback)(e=>{d(!0),h(null),function(e){const t=new URLSearchParams;return null!==e&&void 0!==e&&e.channel&&t.set("channel",e.channel),null!==e&&void 0!==e&&e.status&&t.set("status",e.status),null!==e&&void 0!==e&&e.video&&t.set("video",e.video),Ge("/api/workspaces/audio-review".concat(t.toString()?"?".concat(t.toString()):""))}(e).then(e=>c(e)).catch(e=>{h(e instanceof Error?e.message:String(e))}).finally(()=>{d(!1)})},[]);(0,l.useEffect)(()=>{de({channel:H&&"all"!==H?H:void 0,status:$&&"all"!==$?$:void 0})},[H,$,de]);const pe=ae.trim().toLowerCase(),he=(0,l.useMemo)(()=>{let e=o;pe&&(e=e.filter(e=>{var t,n;return[e.video,e.channel,null!==(t=e.title)&&void 0!==t?t:"",e.status,null!==(n=e.audio_quality_status)&&void 0!==n?n:""].some(e=>e.toLowerCase().includes(pe))})),Y&&(e=e.filter(e=>{var t;return(null!==(t=e.manual_pause_count)&&void 0!==t?t:0)>0})),X&&(e=e.filter(e=>e.audio_quality_status&&!/ok|\u826f\u597d|\u5b8c\u4e86|\u554f\u984c\u306a\u3057/i.test(e.audio_quality_status))),ee&&(e=e.filter(e=>"completed"!==e.subtitle_stage));const t=[...e];return t.sort((e,t)=>{var n,a;if("recent"===K){const n=e.audio_updated_at?new Date(e.audio_updated_at).getTime():0;return(t.audio_updated_at?new Date(t.audio_updated_at).getTime():0)-n}const l=null!==(n=e.audio_duration_seconds)&&void 0!==n?n:0,r=null!==(a=t.audio_duration_seconds)&&void 0!==a?a:0;return"duration_desc"===K?r-l:l-r}),t},[o,pe,Y,X,ee,K]),me=(0,l.useMemo)(()=>he.map(e=>"".concat(e.channel,"-").concat(e.video)),[he]),fe=(0,l.useMemo)(()=>{const e=new Map;return t.forEach(t=>{e.set(t.code,t)}),e},[t]),ve=(0,l.useMemo)(()=>{const e=he.length;if(0===e)return[];const t=he.filter(e=>"completed"===e.audio_stage).length,n=he.filter(e=>!!e.audio_quality_status&&!/ok|\u826f\u597d|\u5b8c\u4e86|\u554f\u984c\u306a\u3057/i.test(e.audio_quality_status)).length,a=he.filter(e=>{var t;return(null!==(t=e.manual_pause_count)&&void 0!==t?t:0)>0}).length,l=he.filter(e=>"completed"!==e.subtitle_stage).length;return[{label:"\u97f3\u58f0\u5b8c\u4e86",value:t,description:"".concat(Math.round(t/e*100),"% \u5b8c\u4e86"),onClick:()=>Q(e=>"completed"===e?"all":"completed"),active:"completed"===$},{label:"\u54c1\u8cea\u78ba\u8a8d\u8981",value:n,description:"\u54c1\u8cea\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u6ce8\u610f",onClick:()=>Z(e=>!e),active:X},{label:"\u624b\u52d5\u30dd\u30fc\u30ba\u3042\u308a",value:a,description:"manual\u30bf\u30b0\u306e\u3042\u308b\u6848\u4ef6",onClick:()=>G(e=>!e),active:Y},{label:"\u5b57\u5e55\u672a\u5b8c",value:l,description:"\u5b57\u5e55\u4ed5\u4e0a\u3052\u5f85\u3061",onClick:()=>te(e=>!e),active:ee}]},[he,Y,X,ee,$]);(0,l.useEffect)(()=>{const e=new Set(me);for(const t of Array.from(ce.current.keys()))e.has(t)||ce.current.delete(t);ie&&!e.has(ie)&&oe(null)},[me,ie]);const ge=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;const n=ce.current.get(e);n&&(t&&(n.currentTime=0),n.play().catch(()=>{n.focus()}),oe(e))},[]),be=(0,l.useCallback)(e=>{if(!me.length)return;const t=ie?me.indexOf(ie):-1,n=t<0?1===e?0:me.length-1:t+e;n<0||n>=me.length||ge(me[n],!0)},[ie,ge,me]),_e=(0,l.useMemo)(()=>{if(!ie)return{index:-1,canPrev:!1,canNext:me.length>0};const e=me.indexOf(ie);return{index:e,canPrev:e>0,canNext:e>=0&&e<me.length-1}},[ie,me]),ye=(0,l.useCallback)(e=>{if(!re)return;const t=me.indexOf(e);if(-1===t)return;const n=me[t+1];n&&ge(n,!0)},[re,ge,me]),xe=(0,l.useMemo)(()=>{var e;if(!H||"all"===H)return"\u3059\u3079\u3066\u306e\u30c1\u30e3\u30f3\u30cd\u30eb";const n=t.find(e=>e.code===H);return(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n||null===(e=n.branding)||void 0===e?void 0:e.title)||H},[H,t]);return(0,kt.jsxs)("div",{className:"audio-review",children:[(0,kt.jsxs)("header",{className:"audio-review__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{children:"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc"}),(0,kt.jsx)("p",{className:"audio-review__subtitle",children:"\u5b8c\u6210\u6e08\u307f\u97f3\u58f0\u3092\u6a2a\u65ad\u7684\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3001\u6c17\u306b\u306a\u308b\u6848\u4ef6\u3092\u97f3\u58f0\u30bf\u30d6\u3067\u3059\u3050\u958b\u3051\u307e\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"audio-review__summary",children:[(0,kt.jsxs)("span",{className:"audio-review__summary-badge",children:[he.length," \u4ef6"]}),(0,kt.jsx)("span",{className:"audio-review__summary-text",children:xe})]})]}),(0,kt.jsx)(ra,{}),(0,kt.jsx)("section",{className:"audio-review__notice message message--info",children:(0,kt.jsx)("p",{className:"muted",children:"\u57fa\u672c\u30d5\u30ed\u30fc: \u6848\u4ef6\u8a73\u7d30\u306e\u300c\u97f3\u58f0\u30bf\u30d6\u300d\u3067\u518d\u751f\u6210\u30fb\u6700\u7d42WAV/SRT/\u30ed\u30b0\u3092\u78ba\u8a8d\u3002\u3053\u3053\u3067\u306f\u6a2a\u65ad\u30c1\u30a7\u30c3\u30af\u3068\u500b\u5225\u518d\u751f\u6210\u306e\u307f\u884c\u3044\u307e\u3059\u3002"})}),U?(0,kt.jsx)("div",{className:"message message--success",children:U}):null,F?(0,kt.jsx)("div",{className:"message message--danger",children:F}):null,m?(0,kt.jsx)("div",{className:"message message--info",children:m}):null,v?(0,kt.jsx)("div",{className:"modal-backdrop",onClick:()=>g(!1),children:(0,kt.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,kt.jsxs)("header",{className:"modal__header",children:[(0,kt.jsx)("h3",{children:b||"\u30ed\u30b0"}),(0,kt.jsx)("button",{className:"workspace-button workspace-button--ghost",onClick:()=>g(!1),children:"\u9589\u3058\u308b"})]}),(0,kt.jsxs)("div",{className:"modal__body",style:{maxHeight:"60vh",overflow:"auto"},children:[w?(0,kt.jsx)("p",{children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,j?(0,kt.jsx)("p",{className:"error",children:j}):null,y?(0,kt.jsx)("pre",{className:"code-block",children:y}):null]})]})}):null,S?(0,kt.jsx)("div",{className:"modal-backdrop",onClick:()=>C(!1),children:(0,kt.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,kt.jsxs)("header",{className:"modal__header",children:[(0,kt.jsx)("h3",{children:E||"A\u30c6\u30ad\u30b9\u30c8"}),(0,kt.jsx)("button",{className:"workspace-button workspace-button--ghost",onClick:()=>C(!1),children:"\u9589\u3058\u308b"})]}),(0,kt.jsxs)("div",{className:"modal__body",style:{maxHeight:"60vh",overflow:"auto"},children:[z?(0,kt.jsx)("p",{children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,L?(0,kt.jsx)("p",{className:"error",children:L}):null,P?(0,kt.jsx)("pre",{className:"code-block",style:{whiteSpace:"pre-wrap"},children:P}):null]})]})}):null,(0,kt.jsxs)("section",{className:"audio-review__toolbar","aria-label":"\u97f3\u58f0\u30d5\u30a3\u30eb\u30bf",children:[(0,kt.jsxs)("label",{className:"audio-review__field",children:[(0,kt.jsx)("span",{children:"\u30c1\u30e3\u30f3\u30cd\u30eb"}),(0,kt.jsxs)("select",{value:H,onChange:e=>V(e.target.value),disabled:a,children:[(0,kt.jsx)("option",{value:"all",children:"\u3059\u3079\u3066"}),t.map(e=>{var t,n,a;return(0,kt.jsxs)("option",{value:e.code,children:[e.code," / ",null!==(t=null!==(n=e.name)&&void 0!==n?n:null===(a=e.branding)||void 0===a?void 0:a.title)&&void 0!==t?t:"\u540d\u79f0\u672a\u8a2d\u5b9a"]},e.code)})]})]}),(0,kt.jsxs)("label",{className:"audio-review__field",children:[(0,kt.jsx)("span",{children:"\u6848\u4ef6\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,kt.jsxs)("select",{value:$,onChange:e=>Q(e.target.value),children:[(0,kt.jsx)("option",{value:"all",children:"\u3059\u3079\u3066"}),(0,kt.jsx)("option",{value:"completed",children:"\u5b8c\u4e86"}),(0,kt.jsx)("option",{value:"in_progress",children:"\u9032\u884c\u4e2d"}),(0,kt.jsx)("option",{value:"review",children:"\u30ec\u30d3\u30e5\u30fc\u5f85\u3061"}),(0,kt.jsx)("option",{value:"blocked",children:"\u8981\u5bfe\u5fdc"}),(0,kt.jsx)("option",{value:"pending",children:"\u672a\u7740\u624b"})]})]}),(0,kt.jsxs)("label",{className:"audio-review__field",children:[(0,kt.jsx)("span",{children:"\u4e26\u3073\u66ff\u3048"}),(0,kt.jsxs)("select",{value:K,onChange:e=>J(e.target.value),children:[(0,kt.jsx)("option",{value:"recent",children:"\u6700\u65b0\u66f4\u65b0\u9806"}),(0,kt.jsx)("option",{value:"duration_desc",children:"\u9577\u3055\uff08\u9577\u3044\u9806\uff09"}),(0,kt.jsx)("option",{value:"duration_asc",children:"\u9577\u3055\uff08\u77ed\u3044\u9806\uff09"})]})]}),(0,kt.jsxs)("label",{className:"audio-review__field audio-review__field--grow",children:[(0,kt.jsx)("span",{children:"\u30ad\u30fc\u30ef\u30fc\u30c9"}),(0,kt.jsx)("input",{type:"search",placeholder:"\u4f01\u753b\u756a\u53f7\u30fb\u30bf\u30a4\u30c8\u30eb\u30fb\u54c1\u8cea\u306a\u3069",value:ae,onChange:e=>le(e.target.value)})]}),(0,kt.jsxs)("label",{className:"audio-review__field audio-review__field--checkbox",children:[(0,kt.jsx)("input",{type:"checkbox",checked:Y,onChange:e=>G(e.target.checked)}),(0,kt.jsx)("span",{children:"\u624b\u52d5\u30dd\u30fc\u30ba\u3042\u308a\u306e\u307f"})]}),(0,kt.jsxs)("label",{className:"audio-review__field audio-review__field--checkbox",children:[(0,kt.jsx)("input",{type:"checkbox",checked:X,onChange:e=>Z(e.target.checked)}),(0,kt.jsx)("span",{children:"\u54c1\u8cea\u78ba\u8a8d\u8981\u306e\u307f"})]}),(0,kt.jsxs)("label",{className:"audio-review__field audio-review__field--checkbox",children:[(0,kt.jsx)("input",{type:"checkbox",checked:ee,onChange:e=>te(e.target.checked)}),(0,kt.jsx)("span",{children:"\u5b57\u5e55\u672a\u5b8c\u306e\u307f"})]}),u?(0,kt.jsx)("span",{className:"status-chip",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026"}):null,p?(0,kt.jsx)("span",{className:"status-chip status-chip--danger",children:p}):null]}),ve.length>0?(0,kt.jsx)("section",{className:"audio-review__stats","aria-label":"\u97f3\u58f0\u30ec\u30d3\u30e5\u30fc\u30b5\u30de\u30ea",children:ve.map(e=>(0,kt.jsxs)("button",{type:"button",className:"audio-review__stat-card".concat(e.active?" audio-review__stat-card--active":""),onClick:e.onClick,children:[(0,kt.jsx)("span",{className:"audio-review__stat-value",children:e.value}),(0,kt.jsx)("span",{className:"audio-review__stat-label",children:e.label}),(0,kt.jsx)("span",{className:"audio-review__stat-meta",children:e.description})]},e.label))}):null,he.length>0?(0,kt.jsxs)("section",{className:"audio-review__playback","aria-label":"\u518d\u751f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",children:[(0,kt.jsxs)("div",{className:"audio-review__playback-left",children:[(0,kt.jsxs)("label",{className:"audio-review__playback-option",children:[(0,kt.jsx)("input",{type:"checkbox",checked:re,onChange:e=>se(e.target.checked)}),(0,kt.jsx)("span",{children:"\u9023\u7d9a\u518d\u751f"})]}),_e.index>=0?(0,kt.jsxs)("span",{className:"audio-review__playback-progress",children:[_e.index+1," / ",he.length]}):null]}),(0,kt.jsxs)("div",{className:"audio-review__playback-buttons",children:[(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>be(-1),disabled:!_e.canPrev,children:"\u524d\u3078"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost",onClick:()=>be(1),disabled:!_e.canNext,children:"\u6b21\u3078"})]})]}):null,(0,kt.jsxs)("section",{className:"audio-review__list","aria-label":"\u5b8c\u6210\u6e08\u307f\u97f3\u58f0\u4e00\u89a7",children:[he.map((t,n)=>{var a,l,r,s,i,o,c,u,d,p,h,m,v,g,b,_,y,x,j;const k="".concat(t.channel,"-").concat(t.video),w=ua(t.audio_url),N=ua(null!==(a=t.srt_url)&&void 0!==a?a:void 0),S=ua(null!==(l=t.audio_log_url)&&void 0!==l?l:void 0),C=ua("/api/channels/".concat(t.channel,"/videos/").concat(t.video,"/audio")),E=ua("/api/channels/".concat(t.channel,"/videos/").concat(t.video,"/srt")),T=[];t.audio_engine&&T.push("engine: ".concat(t.audio_engine)),null!=t.audio_duration_seconds&&T.push(sa(t.audio_duration_seconds)),t.audio_quality_status&&T.push(t.audio_quality_status);const P=t.audio_log_summary;w||ce.current.delete(k);const R=null!==(r=oa[t.audio_stage])&&void 0!==r?r:"\u97f3\u58f0: ".concat(t.audio_stage),L=null!==(s=ca[t.subtitle_stage])&&void 0!==s?s:"\u5b57\u5e55: ".concat(t.subtitle_stage),O=t.audio_quality_status?/ok|\u826f\u597d|\u5b8c\u4e86|\u554f\u984c\u306a\u3057/i.test(t.audio_quality_status)?"success":"warning":void 0,z=ie===k,M=W===k,U="audio-card__badge audio-card__badge--quality".concat(O?" audio-card__badge--quality-".concat(O):""),F=fe.get(t.channel),V=null!==(i=null===F||void 0===F||null===(o=F.branding)||void 0===o?void 0:o.avatar_url)&&void 0!==i?i:null,Q=null!==(c=null!==(u=null!==(d=null!==(p=null===F||void 0===F||null===(h=F.branding)||void 0===h?void 0:h.title)&&void 0!==p?p:null===F||void 0===F?void 0:F.youtube_title)&&void 0!==d?d:null===F||void 0===F?void 0:F.name)&&void 0!==u?u:null===F||void 0===F?void 0:F.code)&&void 0!==c?c:t.channel,K=null!==(m=null===Q||void 0===Q?void 0:Q.trim().charAt(0).toUpperCase())&&void 0!==m?m:"?",J=null!==(v=null!==(g=null===F||void 0===F||null===(b=F.branding)||void 0===b?void 0:b.title)&&void 0!==g?g:null===F||void 0===F?void 0:F.name)&&void 0!==v?v:t.channel,Y=()=>{const n=function(e){if(!e)return"/projects";const t="undefined"!==typeof window?window.location.origin:"http://localhost:3000";try{const n=new URL(e,t);return n.searchParams.set("tab","audio"),"".concat(n.pathname).concat(n.search)}catch(n){const[t,a]=e.split("?"),l=new URLSearchParams(null!==a&&void 0!==a?a:"");l.set("tab","audio");const r=t.startsWith("/")?t:"/".concat(t),s=l.toString();return"".concat(r).concat(s?"?".concat(s):"")}}(t.workspace_path);e(n)};return(0,kt.jsxs)("article",{className:"audio-card".concat(z?" audio-card--active":""),role:"button",tabIndex:0,onClick:Y,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Y())},children:[(0,kt.jsxs)("div",{className:"audio-card__marker",children:[(0,kt.jsxs)("span",{className:"audio-card__index",children:["#",n+1]}),(0,kt.jsx)("span",{className:"audio-card__avatar",title:J,children:V?(0,kt.jsx)("img",{src:V,alt:"".concat(J,"\u306e\u30a2\u30a4\u30b3\u30f3")}):K})]}),(0,kt.jsxs)("header",{className:"audio-card__header",children:[(0,kt.jsxs)("div",{className:"audio-card__identity",children:[(0,kt.jsxs)("span",{className:"audio-card__chip audio-card__chip--code",children:[t.channel,"-",t.video]}),t.channel_title?(0,kt.jsx)("span",{className:"audio-card__chip audio-card__chip--channel",children:t.channel_title}):null]}),(0,kt.jsxs)("div",{className:"audio-card__status-group",children:[(0,kt.jsx)("span",{className:"audio-card__badge",children:R}),(0,kt.jsx)("span",{className:"audio-card__badge",children:L}),(0,kt.jsxs)("span",{className:"audio-card__badge",children:["\u6848\u4ef6: ",jt(t.status)]}),M?(0,kt.jsx)("span",{className:"audio-card__badge audio-card__badge--info",children:"\u518d\u751f\u6210\u4e2d\u2026"}):null]})]}),(0,kt.jsx)("div",{className:"audio-card__title",title:null!==(_=t.title)&&void 0!==_?_:void 0,children:null!==(y=t.title)&&void 0!==y?y:"\u30bf\u30a4\u30c8\u30eb\u672a\u8a2d\u5b9a"}),(0,kt.jsxs)("div",{className:"audio-card__stats",children:[(0,kt.jsx)("span",{className:U,children:null!==(x=t.audio_quality_status)&&void 0!==x?x:"\u54c1\u8cea\u672a\u8a55\u4fa1"}),T.map((e,t)=>(0,kt.jsx)("span",{className:"audio-card__chip",children:e},"meta-".concat(k,"-").concat(t))),P?(0,kt.jsxs)("span",{className:"audio-card__chip",children:["log: ",null!==(j=P.engine)&&void 0!==j?j:"-"," / ",P.duration_sec?"".concat(P.duration_sec.toFixed(1),"s"):"?",null!=P.chunk_count?" / chunks ".concat(P.chunk_count):""]}):null,(0,kt.jsx)("span",{children:ia(t.audio_updated_at)})]}),(0,kt.jsxs)("div",{className:"audio-card__player",children:[M?(0,kt.jsx)("div",{style:{position:"absolute",top:8,right:8,background:"rgba(0,0,0,0.6)",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,zIndex:2},children:"\u518d\u751f\u6210\u4e2d\u2026"}):null,w?(0,kt.jsx)("audio",{className:"audio-card__audio",controls:!0,preload:"metadata",src:w,"aria-label":"".concat(t.channel,"-").concat(t.video," \u306e\u97f3\u58f0\u3092\u518d\u751f"),ref:e=>{e?ce.current.set(k,e):ce.current.delete(k)},onPlay:()=>oe(k),onEnded:()=>ye(k),onClick:ue,onPointerDown:ue,onPointerUp:ue,onDoubleClick:ue}):(0,kt.jsx)("div",{className:"audio-card__unavailable",children:"\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}),(0,kt.jsxs)("div",{className:"audio-card__actions",children:[N?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:N,target:"_blank",rel:"noreferrer",onClick:ue,children:"\u5b57\u5e55SRT"}):null,(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--primary workspace-button--compact",disabled:W===k,onClick:async e=>{e.stopPropagation(),q(k),D(null),B(null),f("\u518d\u751f\u6210\u4e2d: ".concat(t.channel,"-").concat(t.video));try{var n;const e=t.tts_input_path;if(!e)throw new Error("input_path \u304c\u4e0d\u660e\u3067\u3059\u3002\u97f3\u58f0\u30bf\u30d6\u304b\u3089\u518d\u751f\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002");const a=await it({channel:t.channel,video:t.video,input_path:e}),l=a.log?" / log: ".concat(a.log):"",r=a.final_wav?" / final_wav: ".concat(a.final_wav):"";D("\u518d\u751f\u6210\u5b8c\u4e86: ".concat(t.channel,"-").concat(t.video," (").concat(null!==(n=a.engine)&&void 0!==n?n:"engine?",")").concat(l).concat(r)),f(null)}catch(a){const e=a instanceof Error?a.message:String(null!==a&&void 0!==a?a:"\u518d\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f");B("".concat(t.channel,"-").concat(t.video,": ").concat(e)),f(null)}finally{q(null),de({channel:H&&"all"!==H?H:void 0,status:$&&"all"!==$?$:void 0,video:t.video})}},children:W===k?"\u518d\u751f\u6210\u4e2d\u2026":"\u518d\u751f\u6210 (TTS v2)"}),(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--compact",onClick:e=>{e.stopPropagation(),Y()},children:"\u97f3\u58f0\u8a73\u7d30\u8a2d\u5b9a"}),C?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:C,target:"_blank",rel:"noreferrer",onClick:ue,children:"\u6700\u7d42WAV"}):null,E?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:E,target:"_blank",rel:"noreferrer",onClick:ue,children:"\u6700\u7d42SRT"}):null,S?(0,kt.jsx)("a",{className:"workspace-button workspace-button--ghost workspace-button--compact",href:S,target:"_blank",rel:"noreferrer",onClick:ue,children:"\u30ed\u30b0"}):null,S?(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--compact",onClick:e=>{e.stopPropagation(),I(S,"".concat(t.channel,"-").concat(t.video," log.json"))},children:"\u30ed\u30b0\u5168\u6587"}):null,(0,kt.jsx)("button",{type:"button",className:"workspace-button workspace-button--ghost workspace-button--compact",onClick:e=>{e.stopPropagation(),A(t.channel,t.video)},children:"A\u30c6\u30ad\u30b9\u30c8\u3092\u898b\u308b"})]}),(0,kt.jsxs)("div",{className:"audio-card__artifacts",children:[(0,kt.jsxs)("div",{className:"audio-card__meta-line",children:[(0,kt.jsx)("span",{className:"audio-card__meta-label",children:"\u66f4\u65b0:"}),(0,kt.jsx)("span",{className:"audio-card__meta-value",children:ia(t.audio_updated_at)}),(0,kt.jsx)("span",{className:"audio-card__meta-sep",children:"/"}),(0,kt.jsx)("span",{className:"audio-card__meta-label",children:"\u9577\u3055:"}),(0,kt.jsx)("span",{className:"audio-card__meta-value",children:sa(t.audio_duration_seconds)})]}),(0,kt.jsxs)("div",{className:"audio-card__meta-line",children:[(0,kt.jsx)("span",{className:"audio-card__meta-label",children:"\u6210\u679c\u7269:"}),(0,kt.jsxs)("span",{className:"audio-card__meta-value",children:[C?(0,kt.jsx)("a",{className:"link",href:C,target:"_blank",rel:"noreferrer",onClick:ue,children:"WAV"}):"\u306a\u3057",E?(0,kt.jsxs)(kt.Fragment,{children:[" / ",(0,kt.jsx)("a",{className:"link",href:E,target:"_blank",rel:"noreferrer",onClick:ue,children:"SRT"})]}):null,S?(0,kt.jsxs)(kt.Fragment,{children:[" / ",(0,kt.jsx)("a",{className:"link",href:S,target:"_blank",rel:"noreferrer",onClick:ue,children:"LOG"})]}):null]})]})]})]})]},k)}),u||0!==he.length?null:(0,kt.jsx)("div",{className:"audio-review__empty",children:"\u8a72\u5f53\u3059\u308b\u97f3\u58f0\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})]}),s?(0,kt.jsxs)("p",{className:"audio-review__error",children:["\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ",s]}):null]})}function pa(){return(0,kt.jsx)("section",{className:"main-content main-content--workspace",children:(0,kt.jsx)(da,{})})}function ha(){var e,t;const{placeholderPanel:n}=le();return(0,kt.jsx)("section",{className:"main-content main-content--placeholder",children:(0,kt.jsxs)("div",{className:"shell-panel shell-panel--placeholder",children:[(0,kt.jsx)("h2",{children:null!==(e=null===n||void 0===n?void 0:n.title)&&void 0!==e?e:"\u6e96\u5099\u4e2d"}),(0,kt.jsx)("p",{className:"shell-panel__subtitle",children:null!==(t=null===n||void 0===n?void 0:n.description)&&void 0!==t?t:"\u3053\u306e\u753b\u9762\u306f\u73fe\u5728\u958b\u767a\u4e2d\u3067\u3059\u3002\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"})]})})}function ma(e){if(!e)return"\u2015";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ja-JP",{hour12:!1})}function fa(e){if(void 0===e||null===e)return"\u2015";const t=["B","KB","MB","GB"];let n=e,a=0;for(;n>=1024&&a<t.length-1;)n/=1024,a+=1;const l=0===a?Math.round(n).toString():n.toFixed(1);return"".concat(l," ").concat(t[a])}function va(){var e,t,n,a,r;const{placeholderPanel:s}=le(),[i,o]=(0,l.useState)([]),[c,u]=(0,l.useState)(!1),[d,p]=(0,l.useState)(null),[h,m]=(0,l.useState)(null),[f,v]=(0,l.useState)(null),[g,b]=(0,l.useState)(!1),[_,y]=(0,l.useState)(null),[x,j]=(0,l.useState)(""),[k,w]=(0,l.useState)(!1),[N,S]=(0,l.useState)(null),[C,E]=(0,l.useState)(null),T=(0,l.useCallback)(async()=>{u(!0),p(null);try{const e=await Ge("/api/prompts");o(e),m(t=>{var n,a;return t&&e.some(e=>e.id===t)?t:null!==(n=null===(a=e[0])||void 0===a?void 0:a.id)&&void 0!==n?n:null})}catch(e){o([]),p(e instanceof Error?e.message:String(e))}finally{u(!1)}},[]),P=(0,l.useCallback)(async e=>{b(!0),y(null);try{const t=await function(e){return Ge("/api/prompts/".concat(encodeURIComponent(e)))}(e);v(t),j(t.content)}catch(t){v(null),j(""),y(t instanceof Error?t.message:String(t))}finally{b(!1)}},[]);(0,l.useEffect)(()=>{T()},[T]),(0,l.useEffect)(()=>{if(!h)return v(null),void j("");P(h)},[h,P]);const R=(0,l.useMemo)(()=>!!f&&x!==f.content,[f,x]),L=(0,l.useMemo)(()=>f?f.sync_targets.map(e=>{let t="missing";return e.exists&&(t=e.checksum&&e.checksum===f.checksum?"ok":"diff"),Ve(Ve({},e),{},{status:t})}):[],[f]),O=(0,l.useCallback)(async()=>{if(f){w(!0),S(null),E(null);try{const e=await function(e,t){const n={content:t.content};return t.expectedChecksum&&(n.expected_checksum=t.expectedChecksum),Ge("/api/prompts/".concat(encodeURIComponent(e)),{method:"PUT",body:JSON.stringify(n)})}(f.id,{content:x,expectedChecksum:f.checksum});v(e),j(e.content),E("\u4fdd\u5b58\u3057\u307e\u3057\u305f"),o(t=>t.map(t=>t.id===e.id?Ve(Ve({},t),{},{checksum:e.checksum,size_bytes:e.size_bytes,updated_at:e.updated_at,sync_targets:e.sync_targets}):t))}catch(e){S(e instanceof Error?e.message:String(e))}finally{w(!1)}}},[f,x]),z=(0,l.useCallback)(()=>{f&&(j(f.content),S(null),E(null))},[f]),M=(0,l.useCallback)(()=>{h&&P(h)},[h,P]);return(0,kt.jsx)("section",{className:"main-content main-content--workspace",children:(0,kt.jsxs)("div",{className:"prompt-manager",children:[(0,kt.jsxs)("header",{className:"prompt-manager__header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"prompt-manager__eyebrow",children:"ScriptFactory / Prompts"}),(0,kt.jsx)("h1",{children:"\u53f0\u672c\u30d7\u30ed\u30f3\u30d7\u30c8\u7ba1\u7406"}),(0,kt.jsx)("p",{className:"prompt-manager__subtitle",children:null!==(e=null===s||void 0===s?void 0:s.description)&&void 0!==e?e:"\u53f0\u672c\u91cf\u7523\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u4f7f\u7528\u3059\u308b\u521d\u671f\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u76f4\u63a5\u7de8\u96c6\u3067\u304d\u307e\u3059\u3002"})]}),(0,kt.jsx)("div",{className:"prompt-manager__header-actions",children:(0,kt.jsx)("button",{type:"button",className:"action-button",onClick:T,disabled:c,children:c?"\u66f4\u65b0\u4e2d...":"\u4e00\u89a7\u3092\u518d\u8aad\u8fbc"})})]}),(0,kt.jsxs)("div",{className:"prompt-manager__grid",children:[(0,kt.jsxs)("section",{className:"prompt-manager__panel prompt-manager__panel--list",children:[(0,kt.jsxs)("header",{children:[(0,kt.jsx)("h2",{children:"\u30d7\u30ed\u30f3\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb"}),(0,kt.jsx)("p",{children:"Qwen \u306e\u521d\u671f\u5316\u306b\u4f7f\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3002\u7de8\u96c6\u5185\u5bb9\u306f\u5373\u5ea7\u306b SoT \u3078\u53cd\u6620\u3055\u308c\u307e\u3059\u3002"})]}),d?(0,kt.jsx)("p",{className:"prompt-manager__error",children:d}):null,c&&!i.length?(0,kt.jsx)("p",{className:"prompt-manager__hint",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):null,c||0!==i.length?null:(0,kt.jsx)("p",{className:"prompt-manager__hint",children:"\u7ba1\u7406\u5bfe\u8c61\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"}),(0,kt.jsx)("ul",{className:"prompt-manager__list",children:i.map(e=>(0,kt.jsx)("li",{children:(0,kt.jsxs)("button",{type:"button",className:e.id===h?"prompt-manager__doc-button prompt-manager__doc-button--active":"prompt-manager__doc-button",onClick:()=>m(e.id),disabled:e.id===h||c,children:[(0,kt.jsx)("div",{className:"prompt-manager__doc-title",children:e.label}),(0,kt.jsx)("div",{className:"prompt-manager__doc-path",children:e.relative_path}),(0,kt.jsxs)("div",{className:"prompt-manager__doc-meta",children:[(0,kt.jsx)("span",{children:fa(e.size_bytes)}),(0,kt.jsx)("span",{children:ma(e.updated_at)})]})]})},e.id))})]}),(0,kt.jsxs)("section",{className:"prompt-manager__panel prompt-manager__panel--editor",children:[(0,kt.jsxs)("header",{className:"prompt-manager__panel-header",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:null!==(t=null===f||void 0===f?void 0:f.label)&&void 0!==t?t:"\u30d7\u30ed\u30f3\u30d7\u30c8\u5185\u5bb9"}),(0,kt.jsx)("p",{children:null!==(n=null===f||void 0===f?void 0:f.description)&&void 0!==n?n:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u5185\u5bb9\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),(0,kt.jsxs)("div",{className:"prompt-manager__editor-actions",children:[(0,kt.jsx)("button",{type:"button",className:"action-button",onClick:M,disabled:!h||g,children:g?"\u8aad\u8fbc\u4e2d...":"\u6700\u65b0\u3092\u53d6\u5f97"}),(0,kt.jsx)("button",{type:"button",className:"action-button",onClick:z,disabled:!R,children:"\u5909\u66f4\u3092\u7834\u68c4"}),(0,kt.jsx)("button",{type:"button",className:"action-button action-button--primary",onClick:O,disabled:!f||!R||k,children:k?"\u4fdd\u5b58\u4e2d...":"\u4fdd\u5b58"})]})]}),_?(0,kt.jsx)("p",{className:"prompt-manager__error",children:_}):null,(0,kt.jsxs)("div",{className:"prompt-manager__meta-grid",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"prompt-manager__meta-label",children:"\u30d5\u30a1\u30a4\u30eb"}),(0,kt.jsx)("code",{className:"prompt-manager__meta-value",children:null!==(a=null===f||void 0===f?void 0:f.relative_path)&&void 0!==a?a:"\u2015"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"prompt-manager__meta-label",children:"\u30b5\u30a4\u30ba"}),(0,kt.jsx)("p",{className:"prompt-manager__meta-value",children:fa(null===f||void 0===f?void 0:f.size_bytes)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"prompt-manager__meta-label",children:"\u66f4\u65b0\u65e5\u6642"}),(0,kt.jsx)("p",{className:"prompt-manager__meta-value",children:ma(null===f||void 0===f?void 0:f.updated_at)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"prompt-manager__meta-label",children:"\u30c1\u30a7\u30c3\u30af\u30b5\u30e0"}),(0,kt.jsx)("p",{className:"prompt-manager__meta-value checksum-value",children:null!==(r=null===f||void 0===f?void 0:f.checksum)&&void 0!==r?r:"\u2015"})]})]}),(0,kt.jsx)("label",{className:"prompt-manager__textarea-label",htmlFor:"prompt-editor",children:"\u30d7\u30ed\u30f3\u30d7\u30c8\u672c\u6587"}),(0,kt.jsx)("textarea",{id:"prompt-editor",className:"prompt-manager__textarea",value:x,onChange:e=>{j(e.target.value),S(null),E(null)},disabled:!f||g,spellCheck:!1}),(0,kt.jsxs)("div",{className:"prompt-manager__status-row",children:[C?(0,kt.jsx)("span",{className:"prompt-manager__status prompt-manager__status--success",children:C}):null,N?(0,kt.jsx)("span",{className:"prompt-manager__status prompt-manager__status--error",children:N}):null,C||N||!R?null:(0,kt.jsx)("span",{className:"prompt-manager__status",children:"\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"prompt-manager__sync-title",children:"\u540c\u671f\u72b6\u614b"}),0===L.length?(0,kt.jsx)("p",{className:"prompt-manager__hint",children:"\u540c\u671f\u5148\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"}):(0,kt.jsx)("ul",{className:"prompt-manager__sync-list",children:L.map(e=>{var t;return(0,kt.jsxs)("li",{className:"prompt-manager__sync-item",children:[(0,kt.jsxs)("span",{className:"prompt-manager__sync-badge prompt-manager__sync-badge--".concat(e.status),children:["ok"===e.status&&"\u540c\u671f\u6e08\u307f","diff"===e.status&&"\u5dee\u5206\u3042\u308a","missing"===e.status&&"\u672a\u4f5c\u6210"]}),(0,kt.jsx)("div",{className:"prompt-manager__sync-path",children:e.path}),(0,kt.jsxs)("div",{className:"prompt-manager__sync-meta",children:[(0,kt.jsx)("span",{children:e.exists?ma(e.updated_at):"\u2015"}),(0,kt.jsx)("span",{children:e.exists?null!==(t=e.checksum)&&void 0!==t?t:"\u2015":""})]})]},e.path)})})]})]})]})]})})}const ga={image_track_target_count:44,belt_segments:5,belt_text_limit:20,start_offset_sec:3,max_duration_sec:960,allow_extra_video_tracks:!0},ba=()=>{const[e,t]=(0,l.useState)(Ve(Ve({},ga),{},{loading:!0,saving:!1})),[n,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{Ge("/api/params").then(e=>{t(t=>Ve(Ve(Ve({},t),e.params),{},{loading:!1})),a(e.params)}).catch(e=>t(t=>Ve(Ve({},t),{},{loading:!1,error:e.message})))},[]);const r=e=>n=>{const a="checkbox"===n.target.type?n.target.checked:Number(n.target.value);t(t=>Ve(Ve({},t),{},{[e]:a,message:void 0,error:void 0}))},s=(0,l.useMemo)(()=>{const t=e.belt_text_limit||0,n="\u5e2f\u30b5\u30f3\u30d7\u30eb: \u3042\u306a\u305f\u306e\u4eba\u751f\u304c\u5909\u308f\u308b\u4e94\u3064\u306e\u9053\u6a19",a=n.length>t,l=a?n.slice(0,t)+"\u2026":n;return{text:n,shown:l,over:a,limit:t}},[e.belt_text_limit]);return e.loading?(0,kt.jsx)("div",{className:"card",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):(0,kt.jsxs)("div",{className:"card",style:{maxWidth:640},children:[(0,kt.jsxs)("div",{className:"card-header",children:[(0,kt.jsx)("h3",{className:"card-title",children:"\u753b\u50cf/\u5e2f\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,kt.jsx)("p",{className:"card-subtitle",children:"\u30c9\u30e9\u30d5\u30c8\u751f\u6210\u6642\u306e\u76ee\u5b89\u5024\u3002UI\u304b\u3089\u7c21\u5358\u306b\u8abf\u6574\u3067\u304d\u307e\u3059\u3002"}),n?(0,kt.jsxs)("div",{className:"flex gap-2 flex-wrap text-xs text-gray-600 mt-2",children:[(0,kt.jsx)(_a,{label:"\u9069\u7528\u4e2d"}),(0,kt.jsxs)("span",{children:["\u753b\u50cf\u672c\u6570 ",n.image_track_target_count]}),(0,kt.jsxs)("span",{children:["\u5e2f ",n.belt_segments," \u5206\u5272"]}),(0,kt.jsxs)("span",{children:["\u5e2f\u6587\u5b57 ",n.belt_text_limit," \u6587\u5b57/\u884c"]}),(0,kt.jsxs)("span",{children:["\u958b\u59cb ",n.start_offset_sec,"s"]}),(0,kt.jsxs)("span",{children:["\u5c3a\u4e0a\u9650 ",n.max_duration_sec,"s"]})]}):null]}),(0,kt.jsxs)("div",{className:"card-body space-y-4",children:[(0,kt.jsx)(ya,{label:"\u753b\u50cf\u672c\u6570\u306e\u76ee\u5b89",desc:"srt2images\u30c8\u30e9\u30c3\u30af\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u6570\u30bf\u30fc\u30b2\u30c3\u30c8",value:e.image_track_target_count,onChange:r("image_track_target_count"),min:1,max:300}),(0,kt.jsx)(ya,{label:"\u5e2f\u306e\u5206\u5272\u6570",desc:"\u5e2f\u30c6\u30ad\u30b9\u30c8\u3092\u4f55\u5206\u5272\u3067\u7f6e\u304f\u304b\u306e\u76ee\u5b89",value:e.belt_segments,onChange:r("belt_segments"),min:1,max:20}),(0,kt.jsx)(ya,{label:"\u5e2f1\u884c\u306e\u6700\u5927\u6587\u5b57\u6570\u76ee\u5b89",desc:"\u9577\u3059\u304e\u308b\u5e2f\u30c6\u30ad\u30b9\u30c8\u3092\u907f\u3051\u308b\u4e0a\u9650",value:e.belt_text_limit,onChange:r("belt_text_limit"),min:5,max:80}),(0,kt.jsx)(ya,{label:"\u958b\u59cb\u30aa\u30d5\u30bb\u30c3\u30c8(\u79d2)",desc:"\u753b\u50cf\u30fb\u5e2f\u3092\u7f6e\u304d\u59cb\u3081\u308b\u79d2\u6570\uff08\u4f8b: 3\u79d2\uff09",value:e.start_offset_sec,onChange:r("start_offset_sec"),step:.1,min:0,max:30}),(0,kt.jsx)(ya,{label:"\u6700\u5927\u5c3a\u306e\u76ee\u5b89(\u79d2)",desc:"srt2images\u30c8\u30e9\u30c3\u30af\u306e\u7d42\u7aef\u76ee\u5b89\uff08\u4f8b: 960\u79d2\uff09",value:e.max_duration_sec,onChange:r("max_duration_sec"),step:1,min:10,max:7200}),(0,kt.jsx)(xa,{label:"\u624b\u52d5\u7de8\u96c6\u30c8\u30e9\u30c3\u30af\u3092\u8a31\u5bb9",desc:"\u80cc\u666f\u30fbBGM\u306a\u3069srt2images\u4ee5\u5916\u306e\u30c8\u30e9\u30c3\u30af\u3092\u8a31\u5bb9\u3059\u308b\uff08\u53b3\u5bc6\u30c1\u30a7\u30c3\u30af\u3092\u907f\u3051\u308b\uff09",checked:e.allow_extra_video_tracks,onChange:r("allow_extra_video_tracks")}),(0,kt.jsxs)("div",{className:"p-3 rounded bg-gray-50 border text-sm",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)("span",{className:"font-medium",children:"\u5e2f\u30c6\u30ad\u30b9\u30c8\u306e\u30d7\u30ec\u30d3\u30e5\u30fc"}),(0,kt.jsxs)("span",{className:s.over?"text-red-600":"text-gray-600",children:[s.text.length,"/",s.limit," \u6587\u5b57"]})]}),(0,kt.jsx)("p",{className:s.over?"text-red-600":"text-gray-700",children:s.shown}),s.over&&(0,kt.jsx)("p",{className:"text-xs text-red-500",children:"\u4e0a\u9650\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002\u77ed\u304f\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),e.error&&(0,kt.jsx)("p",{className:"text-red-600 text-sm",children:e.error}),e.message&&(0,kt.jsx)("p",{className:"text-green-600 text-sm",children:e.message}),(0,kt.jsx)("button",{className:"btn btn-primary",onClick:async()=>{t(e=>Ve(Ve({},e),{},{saving:!0,error:void 0,message:void 0}));try{const n={image_track_target_count:e.image_track_target_count,belt_segments:e.belt_segments,belt_text_limit:e.belt_text_limit,start_offset_sec:e.start_offset_sec,max_duration_sec:e.max_duration_sec,allow_extra_video_tracks:e.allow_extra_video_tracks},l=await function(e){return Ge("/api/params",{method:"POST",body:JSON.stringify(e)})}(n);t(e=>Ve(Ve(Ve({},e),l.params),{},{saving:!1,message:"\u4fdd\u5b58\u3057\u307e\u3057\u305f"})),a(l.params)}catch(Ka){t(t=>Ve(Ve({},t),{},{saving:!1,error:Ka.message||"\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f"}))}},disabled:e.saving,children:e.saving?"\u4fdd\u5b58\u4e2d...":"\u4fdd\u5b58"})]})]})},_a=e=>{let{label:t}=e;return(0,kt.jsx)("span",{className:"inline-block px-2 py-1 rounded bg-gray-200 text-gray-700",children:t})},ya=e=>{let{label:t,desc:n,value:a,onChange:l,min:r,max:s,step:i=1}=e;return(0,kt.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium",children:t}),n&&(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:n})]}),(0,kt.jsx)("input",{type:"number",className:"input input-bordered w-24 text-right",value:a,min:r,max:s,step:i,onChange:l})]}),(0,kt.jsx)("input",{type:"range",min:r,max:s,step:i,value:a,onChange:l})]})},xa=e=>{let{label:t,desc:n,checked:a,onChange:l}=e;return(0,kt.jsxs)("label",{className:"flex items-start gap-2 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",className:"checkbox mt-1",checked:a,onChange:l}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{className:"font-medium",children:t}),n&&(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:n})]})]})},ja=JSON.parse('[{"id":"qwen3-235b","label":"Qwen3-235B A22B (MoE)","provider":"OpenRouter","model_id":"qwen/qwen3-235b-a22b:free","iq":120,"knowledge_metric":{"name":"MMLU-Redux","value":87.4,"source":"https://www.reddit.com/r/LocalLLaMA/comments/1kh6kh3/qwen3_mmlupro_computer_science_llm_benchmark/"},"specialist_metric":{"name":"LiveCodeBench v5","value":70.7,"source":"https://openlaboratory.ai/models/qwen3-235b-a22b"},"notes":"MoE 235B/22B \u30a2\u30af\u30c6\u30a3\u30d6\u3002AIME\'24 85.7 \u306a\u3069\u63a8\u8ad6\u5bc4\u308a\u30bb\u30c3\u30c8\u3067 SOTA \u7d1a\u3002\u9577\u6587 reasoning \u2192 coding \u306e\u4e21\u5200\u5411\u3051\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen3-30b","label":"Qwen3-30B A3B","provider":"OpenRouter","model_id":"qwen/qwen3-30b-a3b:free","iq":115,"knowledge_metric":{"name":"MMLU","value":81.38,"source":"https://openlaboratory.ai/models/qwen3-30b-a3b"},"specialist_metric":{"name":"LiveCodeBench v6","value":66,"source":"https://skywork.ai/blog/models/yoyo-ai-qwen3-30b-a3b-yoyo-v5-free-chat-online-skywork-ai/"},"notes":"MoE 30B/3B \u30a2\u30af\u30c6\u30a3\u30d6\u3067\u9ad8\u901f\u3002agent / tool \u30bf\u30b9\u30af\u3067\u3082 QwQ-32B \u76f8\u5f53\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen3-14b","label":"Qwen3-14B Instruct","provider":"OpenRouter","model_id":"qwen/qwen3-14b:free","iq":112,"knowledge_metric":{"name":"MMLU","value":81.05,"source":"https://openlaboratory.ai/models/qwen3-14b"},"specialist_metric":{"name":"GSM8K","value":92.49,"source":"https://openlaboratory.ai/models/qwen3-14b"},"notes":"dense 14B \u3067\u3082\u591a\u8a00\u8a9e/\u6570\u7406\u304c\u5f37\u304f\u3001\u9577\u6587 TTS \u30ea\u30e9\u30a4\u30c8\u3067\u3082\u7834\u7dbb\u3057\u306a\u3044\u5b89\u5b9a\u611f\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen3-4b","label":"Qwen3-4B Instruct","provider":"OpenRouter","model_id":"qwen/qwen3-4b:free","iq":106,"knowledge_metric":{"name":"MMLU-Redux","value":83.7,"source":"https://openlaboratory.ai/models/qwen3-4b"},"specialist_metric":{"name":"MATH-500","value":97,"source":"https://openlaboratory.ai/models/qwen3-4b"},"notes":"4B \u3067\u3082 Qwen2.5-72B \u7d1a\u3002\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30ec\u30b9\u306e\u7701\u30e1\u30e2\u30ea\u63a8\u8ad6\u3084\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u9014\u306b\u6700\u9069\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen3-coder","label":"Qwen3-Coder 480B A35B","provider":"OpenRouter","model_id":"qwen/qwen3-coder:free","iq":118,"knowledge_metric":{"name":"SWE-Bench Verified","value":67,"source":"https://www.digitalocean.com/community/tutorials/qwen3-coder-agentic-coding-model"},"specialist_metric":{"name":"LiveCodeBench v5","value":70.6,"source":"https://binaryverseai.com/qwen3-coder-review/"},"notes":"Agentic coding \u5411\u3051\u3002SWE-Bench 69.6% (500 turn) \u306b\u5c4a\u304f\u304c\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u30b3\u30b9\u30c8\u306f\u7121\u6599\u67a0\u5185\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen2.5-72b","label":"Qwen2.5-72B Instruct","provider":"OpenRouter","model_id":"qwen/qwen-2.5-72b-instruct:free","iq":111,"knowledge_metric":{"name":"MMLU","value":86.1,"source":"https://www.alibabacloud.com/blog/601786"},"specialist_metric":{"name":"MBPP","value":88.2,"source":"https://www.alibabacloud.com/blog/601786"},"notes":"\u5f93\u6765\u306e\u5b89\u5b9a\u67a0\u3002Qwen3 429 \u6642\u306e\u4fdd\u967a\u3068\u3057\u3066\u6b8b\u3059\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"qwen2.5-32b","label":"Qwen2.5-32B Instruct","provider":"OpenRouter","model_id":"qwen/qwen-2.5-coder-32b-instruct:free","iq":108,"knowledge_metric":{"name":"MMLU-Redux","value":83.9,"source":"https://www.alibabacloud.com/blog/601786"},"specialist_metric":{"name":"LiveCodeBench","value":51.2,"source":"https://www.alibabacloud.com/blog/601786"},"notes":"32B \u5e2f\u3067 GPT-4o mini \u30af\u30e9\u30b9\u306e\u6c4e\u7528\u6027\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"llama-3.3-70b","label":"Llama 3.3 70B Instruct","provider":"OpenRouter","model_id":"meta-llama/llama-3.3-70b-instruct:free","iq":111,"knowledge_metric":{"name":"MMLU Chat","value":86,"source":"https://privatellm.app/blog/llama-3-3-70b-available-locally-private-llm-macos"},"specialist_metric":{"name":"HumanEval","value":88.4,"source":"https://privatellm.app/blog/llama-3-3-70b-available-locally-private-llm-macos"},"notes":"\u82f1\u8a9e\u7de8\u96c6\u3084\u591a\u8a00\u8a9e Q&A \u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"mistral-small-3.2-24b","label":"Mistral Small 3.2 24B","provider":"OpenRouter","model_id":"mistralai/mistral-small-3.2-24b-instruct:free","iq":103,"knowledge_metric":{"name":"MMLU","value":80.5,"source":"https://topmostads.com/mistral-small-3-2-update-analysis/"},"specialist_metric":{"name":"HumanEval+","value":92.9,"source":"https://topmostads.com/mistral-small-3-2-update-analysis/"},"notes":"Apache2.0 / 24B\u3002\u82f1\u8a9e\u9577\u6587\u304b\u3064\u9ad8\u901f\u30ec\u30b9\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"deepseek-v3.1","label":"DeepSeek-V3.1","provider":"OpenRouter","model_id":"deepseek/deepseek-chat-v3.1:free","iq":98,"knowledge_metric":{"name":"MMLU-Pro","value":81.2,"source":"https://api-docs.deepseek.com/updates"},"specialist_metric":{"name":"LiveCodeBench","value":49.2,"source":"https://api-docs.deepseek.com/updates"},"notes":"\u63a8\u8ad6\u7cfb Upstream 429 \u591a\u767a\u306a\u306e\u3067\u51b7\u5374\u67a0\u3060\u304c\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u54c1\u8cea\u306f\u9ad8\u3044\u3002","last_updated":"2025-11-17T02:40:00+09:00"},{"id":"glm-4.5-air","label":"GLM-4.5 Air","provider":"OpenRouter","model_id":"z-ai/glm-4.5-air:free","iq":106,"knowledge_metric":{"name":"MMLU-Pro","value":84.6,"source":"https://z.ai/blog/glm-4.5"},"specialist_metric":{"name":"LiveCodeBench","value":72.9,"source":"https://z.ai/blog/glm-4.5"},"notes":"Chutes \u30d7\u30ed\u30d0\u30a4\u30c0\u7d4c\u7531\u306e\u7121\u6599\u67a0\u3002\u8ad6\u7406\u7cfb\u306e fallback\u3002","last_updated":"2025-11-17T02:40:00+09:00"}]');function ka(){var e,t,n,a,r,s,i,o,c,u;const[d,p]=(0,l.useState)(null),[h,m]=(0,l.useState)("openai"),[f,v]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[_,y]=(0,l.useState)(""),[x,j]=(0,l.useState)(""),[k,w]=(0,l.useState)({}),[N,S]=(0,l.useState)({}),[C,E]=(0,l.useState)(""),[T,P]=(0,l.useState)(""),[R,L]=(0,l.useState)(null),[O,z]=(0,l.useState)(null),[M,I]=(0,l.useState)(!0),[A,U]=(0,l.useState)(!1),[D,F]=(0,l.useState)(!1),[B,W]=(0,l.useState)([]),[q,H]=(0,l.useState)([]),[V,$]=(0,l.useState)([]),[Q,K]=(0,l.useState)(null),J=(0,l.useCallback)(e=>{var t,n,a,l,r,s;p(e),m(e.llm.caption_provider),v(null!==(t=e.llm.openai_caption_model)&&void 0!==t?t:""),b(null!==(n=e.llm.openrouter_caption_model)&&void 0!==n?n:""),W(null!==(a=e.llm.openai_models)&&void 0!==a?a:[]),H(null!==(l=e.llm.openrouter_models)&&void 0!==l?l:[]),w(null!==(r=e.llm.phase_models)&&void 0!==r?r:{}),S(null!==(s=e.llm.phase_details)&&void 0!==s?s:{})},[]),Y=(0,l.useCallback)(async()=>{I(!0),z(null);try{const e=await mt();J(e)}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{I(!1)}},[J]);(0,l.useEffect)(()=>{Y()},[Y]),(0,l.useEffect)(()=>{(async()=>{K(null);try{const e=await Ge("/api/llm/models");if(e&&e.length>0)return void $(e)}catch(e){const t=e instanceof Error?e.message:String(e);K(t),$([])}if(Array.isArray(ja)&&ja.length>0)return $(ja),void K(null);K("\u30e2\u30c7\u30eb\u30b9\u30b3\u30a2\u304c\u3042\u308a\u307e\u305b\u3093\u3002API\u30ad\u30fc\u8a2d\u5b9a\u5f8c\u306b\u518d\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002")})()},[]);const G=(0,l.useCallback)(async()=>{U(!0),L(null),z(null);try{const e=await ft({caption_provider:h,openai_caption_model:f.trim()||null,openrouter_caption_model:g.trim()||null,phase_models:k});J(e),L("\u30e2\u30c7\u30eb\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{U(!1)}},[J,f,g,h,k]),X=(0,l.useCallback)(async()=>{U(!0),L(null),z(null);try{const e=await ft({openai_api_key:_.trim()});J(e),y(""),L("OpenAI API\u30ad\u30fc\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{U(!1)}},[J,_]),Z=(0,l.useCallback)(async()=>{U(!0),L(null),z(null);try{const e=await ft({openai_api_key:""});J(e),L("OpenAI API\u30ad\u30fc\u3092\u524a\u9664\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{U(!1)}},[J]),ee=(0,l.useCallback)(async()=>{U(!0),L(null),z(null);try{const e=await ft({openrouter_api_key:x.trim()});J(e),j(""),L("OpenRouter API\u30ad\u30fc\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{U(!1)}},[J,x]),te=(0,l.useCallback)(async()=>{U(!0),L(null),z(null);try{const e=await ft({openrouter_api_key:""});J(e),L("OpenRouter API\u30ad\u30fc\u3092\u524a\u9664\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{U(!1)}},[J]),ne=(0,l.useCallback)(async()=>{F(!0),L(null),z(null);try{const e=await mt();J(e),L("OpenRouter \u30e2\u30c7\u30eb\u4e00\u89a7\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")}catch(e){const t=e instanceof Error?e.message:String(e);z(t)}finally{F(!1)}},[J]),ae=(0,l.useMemo)(()=>(0,kt.jsxs)("select",{value:h,onChange:e=>m(e.target.value),children:[(0,kt.jsx)("option",{value:"openai",children:"OpenAI\uff08Vision\u30e2\u30c7\u30eb\uff09"}),(0,kt.jsx)("option",{value:"openrouter",children:"OpenRouter\uff08Qwen\u7cfb\uff09"})]}),[h]),le=(0,l.useMemo)(()=>{const e=new Set(null!==B&&void 0!==B?B:[]);return f&&!e.has(f)&&e.add(f),Array.from(e)},[B,f]),re=(0,l.useMemo)(()=>{const e=new Set(null!==q&&void 0!==q?q:[]);return g&&!e.has(g)&&e.add(g),Array.from(e)},[q,g]),se=(0,l.useMemo)(()=>{const e=new Set([...le,...re]);return Array.from(e)},[le,re]),ie=(0,l.useMemo)(()=>null!==V&&void 0!==V?V:[],[V]),oe=(0,l.useCallback)((e,t)=>n=>{const a=n.target.value;w(n=>{var l;const r=null!==(l=n[e])&&void 0!==l?l:{label:e,provider:"openrouter",model:""};return Ve(Ve({},n),{},{[e]:Ve(Ve({},r),{},{[t]:a})})})},[w]),ce=(0,l.useCallback)(()=>{const e=C.trim();e&&(w(t=>Ve(Ve({},t),{},{[e]:{label:T.trim()||e,provider:"openrouter",model:""}})),E(""),P(""))},[C,T]),ue=(0,l.useMemo)(()=>{var e,t;const n=Object.keys(k).length;return["\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3: ".concat("openai"===h?"OpenAI":"OpenRouter"),"OpenAI\u30e2\u30c7\u30eb: ".concat(f||"\u672a\u8a2d\u5b9a"),"OpenRouter\u30e2\u30c7\u30eb: ".concat(g||"\u672a\u8a2d\u5b9a"),"\u30d5\u30a7\u30fc\u30ba\u8a2d\u5b9a: ".concat(n," \u4ef6"),"\u9375(OpenAI/OR): ".concat(null!==d&&void 0!==d&&null!==(e=d.llm)&&void 0!==e&&e.openai_key_configured?"OpenAI\u2713":"OpenAI\u672a"," / ").concat(null!==d&&void 0!==d&&null!==(t=d.llm)&&void 0!==t&&t.openrouter_key_configured?"OR\u2713":"OR\u672a")]},[h,f,g,k,d]),de=(0,l.useMemo)(()=>{const e=Object.entries(k||{});return 0===e.length?[]:e.map(e=>{let[t,n]=e;const a=N[t];return{id:t,label:n.label||(null===a||void 0===a?void 0:a.label)||t,provider:n.provider,model:n.model||(null===a||void 0===a?void 0:a.model)||"(\u672a\u8a2d\u5b9a)",role:(null===a||void 0===a?void 0:a.role)||"",path:(null===a||void 0===a?void 0:a.path)||"",prompt:(null===a||void 0===a?void 0:a.prompt_source)||"",endpoint:(null===a||void 0===a?void 0:a.endpoint)||""}})},[k,N]);return(0,kt.jsxs)("section",{className:"settings-page",children:[(0,kt.jsxs)("header",{children:[(0,kt.jsx)("h1",{children:"LLM\u8a2d\u5b9a"}),(0,kt.jsx)("p",{children:"\u2460 \u3069\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u4f7f\u3046\u304b \u2192 \u2461 \u305d\u306e\u30e2\u30c7\u30eb\u540d \u2192 \u2462 \u30ad\u30fc \u3092\u3053\u3053\u3067\u307e\u3068\u3081\u3066\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002"}),!M&&d?(0,kt.jsx)("ul",{className:"settings-page__summary",children:ue.map((e,t)=>(0,kt.jsx)("li",{children:e},t))}):null]}),M?(0,kt.jsx)("p",{className:"settings-page__placeholder",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):null,O?(0,kt.jsx)("p",{className:"settings-page__alert",children:O}):null,R?(0,kt.jsx)("p",{className:"settings-page__status",children:R}):null,!M&&d?(0,kt.jsxs)("div",{className:"settings-page__grid",children:[de.length>0?(0,kt.jsxs)("section",{className:"settings-card settings-card--wide",children:[(0,kt.jsx)("h2",{children:"\u73fe\u5728\u306e\u30d5\u30a7\u30fc\u30ba\u5225\u9069\u7528\u30e2\u30c7\u30eb"}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"UI\u8a2d\u5b9a\u304b\u3089\u4fdd\u5b58\u3055\u308c\u305f provider/model \u304c\u305d\u306e\u307e\u307e\u5b9f\u884c\u6642\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u5f79\u5272/\u30d1\u30b9/\u30d7\u30ed\u30f3\u30d7\u30c8\u51fa\u5178\u3082\u5408\u308f\u305b\u3066\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002"}),(0,kt.jsx)("div",{className:"settings-card__table-wrapper",children:(0,kt.jsxs)("table",{className:"settings-card__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"\u30d5\u30a7\u30fc\u30ba"}),(0,kt.jsx)("th",{children:"\u30d7\u30ed\u30d0\u30a4\u30c0"}),(0,kt.jsx)("th",{children:"\u30e2\u30c7\u30eb"}),(0,kt.jsx)("th",{children:"\u5f79\u5272"}),(0,kt.jsx)("th",{children:"\u30d1\u30b9"}),(0,kt.jsx)("th",{children:"\u30d7\u30ed\u30f3\u30d7\u30c8"}),(0,kt.jsx)("th",{children:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"})]})}),(0,kt.jsx)("tbody",{children:de.map(e=>(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:e.label}),(0,kt.jsx)("td",{children:e.provider}),(0,kt.jsx)("td",{children:e.model}),(0,kt.jsx)("td",{children:e.role||"\u2014"}),(0,kt.jsx)("td",{children:e.path||"\u2014"}),(0,kt.jsx)("td",{children:e.prompt||"\u2014"}),(0,kt.jsx)("td",{children:e.endpoint||"\u2014"})]},e.id))})]})})]}):null,(0,kt.jsxs)("section",{className:"settings-card settings-card--wide",children:[(0,kt.jsx)("h2",{children:"\u753b\u50cf/\u5e2f\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u30c9\u30e9\u30d5\u30c8\u751f\u6210\u6642\u306e\u76ee\u5b89\u5024\u3092UI\u304b\u3089\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002"}),(0,kt.jsx)(ba,{})]}),(0,kt.jsxs)("section",{className:"settings-card",children:[(0,kt.jsx)("h2",{children:"\u2460 \u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u30e2\u30c7\u30eb"}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u3053\u3053\u3067\u9078\u3093\u3060\u30d7\u30ed\u30d0\u30a4\u30c0/\u30e2\u30c7\u30eb\u304c\u30b5\u30e0\u30cd\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3\u751f\u6210\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u5165\u529b\u6b04\u306f\u624b\u52d5\u5165\u529bOK\u3001\u4e0b\u306e\u5019\u88dc\u306f\u88dc\u52a9\u7528\u3067\u3059\u3002"}),(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"\u512a\u5148\u30d7\u30ed\u30d0\u30a4\u30c0"}),ae]}),(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"OpenAI \u30e2\u30c7\u30eb\uff08\u624b\u5165\u529b\u53ef\uff09"}),(0,kt.jsx)("input",{list:"openai-models",value:f,onChange:e=>v(e.target.value),placeholder:"\u4f8b: gpt-5.1 / gpt-4o-mini"}),(0,kt.jsx)("datalist",{id:"openai-models",children:le.map(e=>(0,kt.jsx)("option",{value:e},e))}),null!==(e=d.llm)&&void 0!==e&&e.openai_models_error?(0,kt.jsx)("p",{className:"settings-card__hint settings-card__hint--warning",children:null===(t=d.llm)||void 0===t?void 0:t.openai_models_error}):0===le.length?(0,kt.jsx)("p",{className:"settings-card__hint",children:"API\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u6700\u65b0\u30e2\u30c7\u30eb\u3092\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u5019\u88dc\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u3076\u304b\u3001\u305d\u306e\u307e\u307e\u4efb\u610f\u306e\u30e2\u30c7\u30eb\u540d\u3092\u5165\u529b\u3067\u304d\u307e\u3059\u3002"})]}),(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"OpenRouter \u30e2\u30c7\u30eb\uff08\u624b\u5165\u529b\u53ef\uff09"}),(0,kt.jsx)("input",{list:"openrouter-models",value:g,onChange:e=>b(e.target.value),placeholder:"\u4f8b: qwen/qwen3-14b:free"}),(0,kt.jsx)("datalist",{id:"openrouter-models",children:re.map(e=>(0,kt.jsx)("option",{value:e},e))}),null!==(n=d.llm)&&void 0!==n&&n.openrouter_models_error?(0,kt.jsx)("p",{className:"settings-card__hint settings-card__hint--warning",children:null===(a=d.llm)||void 0===a?void 0:a.openrouter_models_error}):0===re.length?(0,kt.jsx)("p",{className:"settings-card__hint",children:"OpenRouter API\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u304b\u3089\u518d\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u5019\u88dc\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u3076\u304b\u3001\u305d\u306e\u307e\u307e\u4efb\u610f\u306e\u30e2\u30c7\u30eb\u540d\u3092\u5165\u529b\u3067\u304d\u307e\u3059\u3002"}),(0,kt.jsx)("div",{className:"settings-card__inline-actions",children:(0,kt.jsx)("button",{type:"button",className:"settings-page__button settings-page__button--ghost",onClick:ne,disabled:D||M,children:D?"\u518d\u53d6\u5f97\u4e2d\u2026":"OpenRouter\u30e2\u30c7\u30eb\u3092\u518d\u53d6\u5f97"})})]}),(0,kt.jsx)("button",{type:"button",className:"settings-page__button",onClick:G,disabled:A,children:A?"\u4fdd\u5b58\u4e2d\u2026":"\u30e2\u30c7\u30eb\u8a2d\u5b9a\u3092\u4fdd\u5b58"})]}),(0,kt.jsxs)("section",{className:"settings-card settings-card--wide",children:[(0,kt.jsx)("h2",{children:"\u2463 \u30d5\u30a7\u30fc\u30ba\u5225\u30e2\u30c7\u30eb\u5272\u308a\u5f53\u3066"}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u30d5\u30a7\u30fc\u30ba\u3054\u3068\u306b\u4f7f\u3046\u30d7\u30ed\u30d0\u30a4\u30c0/\u30e2\u30c7\u30eb\u3092\u30e1\u30e2\u3057\u3066\u304a\u3051\u307e\u3059\uff08\u4fdd\u5b58\u3059\u308b\u3068\u8a2d\u5b9a\u306b\u8a18\u9332\uff09\u3002\u4f8b: \u53f0\u672c\u4f5c\u6210/\u30ea\u30b5\u30fc\u30c1/\u97f3\u58f0\u30c6\u30ad\u30b9\u30c8\u751f\u6210\u3002"}),(0,kt.jsxs)("div",{className:"settings-card__inline-actions",children:[(0,kt.jsx)("input",{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"phase-id (\u4f8b: research)"}),(0,kt.jsx)("input",{type:"text",value:T,onChange:e=>P(e.target.value),placeholder:"\u8868\u793a\u540d (\u4f8b: \u30ea\u30b5\u30fc\u30c1)"}),(0,kt.jsx)("button",{type:"button",onClick:ce,disabled:!C.trim(),children:"\u30d5\u30a7\u30fc\u30ba\u8ffd\u52a0"})]}),(0,kt.jsx)("div",{className:"settings-card__table-wrapper",children:(0,kt.jsxs)("table",{className:"settings-card__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"\u30d5\u30a7\u30fc\u30ba"}),(0,kt.jsx)("th",{children:"\u30d7\u30ed\u30d0\u30a4\u30c0"}),(0,kt.jsx)("th",{children:"\u30e2\u30c7\u30eb"})]})}),(0,kt.jsxs)("tbody",{children:[Object.entries(k).map(e=>{let[t,n]=e;return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:n.label||t}),(0,kt.jsx)("td",{children:(0,kt.jsxs)("select",{value:n.provider,onChange:oe(t,"provider"),children:[(0,kt.jsx)("option",{value:"openai",children:"OpenAI"}),(0,kt.jsx)("option",{value:"openrouter",children:"OpenRouter"}),(0,kt.jsx)("option",{value:"gemini",children:"Gemini"})]})}),(0,kt.jsx)("td",{children:(0,kt.jsx)("input",{list:"phase-models",value:n.model||"",onChange:oe(t,"model"),placeholder:"\u30e2\u30c7\u30ebID\u3092\u5165\u529b"})})]},t)}),0===Object.keys(k).length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:3,children:"\u30d5\u30a7\u30fc\u30ba\u8a2d\u5b9a\u304c\u3042\u308a\u307e\u305b\u3093"})}):null]})]})}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"\u5165\u529b\u3057\u305f\u30e2\u30c7\u30ebID\u306f\u624b\u52d5\u5165\u529b\u3067OK\u3067\u3059\u3002\u5c06\u6765\u306e\u5b9f\u884c\u30d5\u30ed\u30fc\u5074\u3078\u306e\u9069\u7528\u306f\u5225\u9014\u5bfe\u5fdc\u3057\u307e\u3059\u3002"}),(0,kt.jsx)("datalist",{id:"phase-models",children:se.map(e=>(0,kt.jsx)("option",{value:e},e))})]}),(0,kt.jsxs)("section",{className:"settings-card",children:[(0,kt.jsx)("h2",{children:"\u2461 OpenAI API\u30ad\u30fc"}),(0,kt.jsxs)("p",{className:"settings-card__hint",children:["\u72b6\u614b: ",null!==(r=null===(s=d.llm)||void 0===s?void 0:s.openai_key_preview)&&void 0!==r?r:null!==(i=d.llm)&&void 0!==i&&i.openai_key_configured?"\u8a2d\u5b9a\u6e08\u307f":"\u672a\u8a2d\u5b9a"]}),(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"API\u30ad\u30fc"}),(0,kt.jsx)("input",{type:"password",value:_,onChange:e=>y(e.target.value),placeholder:"sk-..."})]}),(0,kt.jsxs)("div",{className:"settings-card__actions",children:[(0,kt.jsx)("button",{type:"button",onClick:X,disabled:A||!_.trim(),children:"\u66f4\u65b0"}),(0,kt.jsx)("button",{type:"button",onClick:Z,disabled:A,children:"\u524a\u9664"})]})]}),(0,kt.jsxs)("section",{className:"settings-card",children:[(0,kt.jsx)("h2",{children:"\u2462 OpenRouter API\u30ad\u30fc"}),(0,kt.jsxs)("p",{className:"settings-card__hint",children:["\u72b6\u614b: ",null!==(o=null===(c=d.llm)||void 0===c?void 0:c.openrouter_key_preview)&&void 0!==o?o:null!==(u=d.llm)&&void 0!==u&&u.openrouter_key_configured?"\u8a2d\u5b9a\u6e08\u307f":"\u672a\u8a2d\u5b9a"]}),(0,kt.jsxs)("label",{children:[(0,kt.jsx)("span",{children:"API\u30ad\u30fc"}),(0,kt.jsx)("input",{type:"password",value:x,onChange:e=>j(e.target.value),placeholder:"sk-or-..."})]}),(0,kt.jsxs)("div",{className:"settings-card__actions",children:[(0,kt.jsx)("button",{type:"button",onClick:ee,disabled:A||!x.trim(),children:"\u66f4\u65b0"}),(0,kt.jsx)("button",{type:"button",onClick:te,disabled:A,children:"\u524a\u9664"})]})]}),(0,kt.jsxs)("section",{className:"settings-card settings-card--wide",children:[(0,kt.jsx)("h2",{children:"LLM\u30e2\u30c7\u30eb\u6027\u80fd\u8868"}),(0,kt.jsx)("p",{className:"settings-card__hint",children:"`ssot/history/HISTORY_llm_model_scores.json` \u7531\u6765\u306e\u30b9\u30b3\u30a2\u3067\u3059\u3002\u7121\u6599\u67a0\u30e2\u30c7\u30eb\u306e\u6027\u80fd\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"}),Q?(0,kt.jsx)("p",{className:"settings-card__alert",children:Q}):null,(0,kt.jsx)("div",{className:"settings-card__table-wrapper",children:(0,kt.jsxs)("table",{className:"settings-card__table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"\u30d7\u30ed\u30d0\u30a4\u30c0"}),(0,kt.jsx)("th",{children:"\u30e2\u30c7\u30eb"}),(0,kt.jsx)("th",{children:"IQ"}),(0,kt.jsx)("th",{children:"\u77e5\u8b58\u6307\u6a19"}),(0,kt.jsx)("th",{children:"\u5c02\u9580\u6307\u6a19"}),(0,kt.jsx)("th",{children:"\u5099\u8003"})]})}),(0,kt.jsxs)("tbody",{children:[ie.map(e=>{var t,n,a,l,r,s;return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:e.provider}),(0,kt.jsxs)("td",{children:[(0,kt.jsx)("div",{className:"settings-card__table-title",children:e.label}),(0,kt.jsx)("div",{className:"settings-card__table-sub",children:e.model_id})]}),(0,kt.jsx)("td",{children:null!==(t=e.iq)&&void 0!==t?t:"\u2014"}),(0,kt.jsx)("td",{children:null!==(n=e.knowledge_metric)&&void 0!==n&&n.name?"".concat(e.knowledge_metric.name,": ").concat(null!==(a=e.knowledge_metric.value)&&void 0!==a?a:"\u2014"):"\u2014"}),(0,kt.jsx)("td",{children:null!==(l=e.specialist_metric)&&void 0!==l&&l.name?"".concat(e.specialist_metric.name,": ").concat(null!==(r=e.specialist_metric.value)&&void 0!==r?r:"\u2014"):"\u2014"}),(0,kt.jsxs)("td",{className:"settings-card__table-notes",children:[null!==(s=e.notes)&&void 0!==s?s:"\u2014",e.last_updated?(0,kt.jsxs)("div",{className:"settings-card__table-sub",children:["\u66f4\u65b0: ",e.last_updated]}):null]})]},e.id)}),0===ie.length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:6,children:"\u30e2\u30c7\u30eb\u30b9\u30b3\u30a2\u304c\u3042\u308a\u307e\u305b\u3093\u3002API\u30ad\u30fc\u8a2d\u5b9a\u5f8c\u306b\u518d\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}):null]})]})})]})]}):null]})}const wa=[{id:"CH06",name:"\u95c7\u306e\u96d1\u5b66",engine:"voicevox"},{id:"CH02",name:"\u4eba\u751f\u306e\u9053\u6a19",engine:"voicevox"},{id:"CH04",name:"\u4e16\u754c\u306e\u30df\u30b9\u30c6\u30ea\u30fc",engine:"voicevox"}],Na=()=>{const[e,t]=(0,l.useState)(null),[n,a]=(0,l.useState)("CH06"),[r,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[c,u]=(0,l.useState)([]),[d,p]=(0,l.useState)(null),h=(0,l.useCallback)(async()=>{try{const e=await fetch("/api/tts-progress");if(e.ok){const n=await e.json();t(n)}}catch(Ka){console.error("Failed to fetch progress:",Ka)}},[]);(0,l.useEffect)(()=>{h();const e=setInterval(h,1e4);return()=>clearInterval(e)},[h]);const m=async(e,t)=>{o("".concat(e,"-").concat(t)),u(n=>[...n,"\ud83c\udf99\ufe0f ".concat(e,"-").concat(t," \u751f\u6210\u958b\u59cb...")]);try{const a=wa.find(t=>t.id===e);return await(n={channel:e,video:t,engine_override:null===a||void 0===a?void 0:a.engine},Ge("/api/audio-tts-v2/run-from-script",{method:"POST",body:JSON.stringify(n)})),u(n=>[...n,"\u2705 ".concat(e,"-").concat(t," \u5b8c\u4e86")]),!0}catch(Ka){return u(a=>[...a,"\u274c ".concat(e,"-").concat(t," \u5931\u6557: ").concat(Ka.message)]),!1}var n},f=e=>e>=100?"#22c55e":e>=75?"#84cc16":e>=50?"#eab308":"#f97316";return(0,kt.jsxs)("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[(0,kt.jsxs)("div",{style:{marginBottom:32},children:[(0,kt.jsx)("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:"\ud83c\udf99\ufe0f TTS\u97f3\u58f0\u751f\u6210"}),(0,kt.jsx)("p",{style:{color:"#666",margin:0},children:"\u4fee\u6b63\u6e08\u307fB\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u97f3\u58f0\u3092\u751f\u6210\u3057\u307e\u3059"})]}),(0,kt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:20,marginBottom:32},children:wa.map(t=>{var l,s,i,o;const c=null===e||void 0===e?void 0:e.channels.find(e=>e.channel===t.id),u=null!==(l=null===c||void 0===c?void 0:c.progress_percent)&&void 0!==l?l:0,d=null!==(s=null===c||void 0===c?void 0:c.total_episodes)&&void 0!==s?s:0,p=null!==(i=null===c||void 0===c?void 0:c.completed_episodes)&&void 0!==i?i:0,h=null!==(o=null===c||void 0===c?void 0:c.missing_ids.length)&&void 0!==o?o:0,m=n===t.id;return(0,kt.jsxs)("div",{onClick:()=>!r&&a(t.id),style:{background:m?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#fff",color:m?"#fff":"#333",borderRadius:16,padding:24,cursor:r?"not-allowed":"pointer",boxShadow:m?"0 8px 32px rgba(102, 126, 234, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:m?"none":"1px solid #e5e7eb"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{style:{fontSize:20,fontWeight:600},children:t.id}),(0,kt.jsx)("div",{style:{fontSize:14,opacity:.8},children:t.name})]}),(0,kt.jsxs)("div",{style:{fontSize:24,fontWeight:700,padding:"4px 12px",borderRadius:8,background:m?"rgba(255,255,255,0.2)":f(u),color:"#fff"},children:[u,"%"]})]}),(0,kt.jsx)("div",{style:{background:m?"rgba(255,255,255,0.2)":"#e5e7eb",borderRadius:4,height:8,marginBottom:12},children:(0,kt.jsx)("div",{style:{width:"".concat(u,"%"),height:"100%",borderRadius:4,background:m?"#fff":f(u),transition:"width 0.5s ease"}})}),(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:14,opacity:.8},children:[(0,kt.jsxs)("span",{children:["\u5b8c\u4e86: ",p," / ",d]}),(0,kt.jsxs)("span",{children:["\u672a\u751f\u6210: ",h]})]})]},t.id)})}),(0,kt.jsxs)("div",{style:{background:"#fff",borderRadius:16,padding:24,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:24},children:[(0,kt.jsxs)("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:20},children:[(0,kt.jsx)("button",{onClick:()=>(async t=>{s(!0),p(null),u(["\ud83d\udcc1 ".concat(t," \u306e\u5168\u30a8\u30d4\u30bd\u30fc\u30c9\u3092\u518d\u751f\u6210\u3057\u307e\u3059...")]);const n=null===e||void 0===e?void 0:e.channels.find(e=>e.channel===t);if(!n)return p("\u30c1\u30e3\u30f3\u30cd\u30eb\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093"),void s(!1);const a=Array.from(new Set([...n.completed_ids,...n.missing_ids])).sort();let l=0,r=0;for(const e of a)await m(t,e)?l++:r++,await h();u(e=>[...e,"","\ud83d\udcca \u5b8c\u4e86: \u6210\u529f ".concat(l," / \u5931\u6557 ").concat(r)]),o(null),s(!1)})(n),disabled:r,style:{padding:"16px 32px",fontSize:16,fontWeight:600,background:r?"#9ca3af":"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",border:"none",borderRadius:12,cursor:r?"not-allowed":"pointer",boxShadow:r?"none":"0 4px 16px rgba(239, 68, 68, 0.3)"},children:r?"\u751f\u6210\u4e2d...":"\ud83d\udd04 ".concat(n," \u5168\u3066\u518d\u751f\u6210")}),(0,kt.jsx)("button",{onClick:()=>(async t=>{s(!0),p(null);const n=null===e||void 0===e?void 0:e.channels.find(e=>e.channel===t);if(!n||0===n.missing_ids.length)return u(["\u2705 \u672a\u751f\u6210\u306e\u30a8\u30d4\u30bd\u30fc\u30c9\u306f\u3042\u308a\u307e\u305b\u3093"]),void s(!1);u(["\ud83d\udcc1 ".concat(t," \u306e\u672a\u751f\u6210\u5206 ").concat(n.missing_ids.length,"\u672c \u3092\u751f\u6210\u3057\u307e\u3059...")]);let a=0,l=0;for(const e of n.missing_ids)await m(t,e)?a++:l++,await h();u(e=>[...e,"","\ud83d\udcca \u5b8c\u4e86: \u6210\u529f ".concat(a," / \u5931\u6557 ").concat(l)]),o(null),s(!1)})(n),disabled:r,style:{padding:"16px 32px",fontSize:16,fontWeight:600,background:r?"#9ca3af":"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"#fff",border:"none",borderRadius:12,cursor:r?"not-allowed":"pointer",boxShadow:r?"none":"0 4px 16px rgba(34, 197, 94, 0.3)"},children:r?"\u751f\u6210\u4e2d...":"\u2795 ".concat(n," \u672a\u751f\u6210\u5206\u306e\u307f")}),(0,kt.jsx)("button",{onClick:h,disabled:r,style:{padding:"16px 24px",fontSize:16,background:"#fff",color:"#333",border:"1px solid #e5e7eb",borderRadius:12,cursor:"pointer"},children:"\ud83d\udd04 \u9032\u6357\u66f4\u65b0"})]}),i&&(0,kt.jsx)("div",{style:{padding:16,background:"#fef3c7",borderRadius:8,marginBottom:16},children:(0,kt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,kt.jsx)("div",{className:"spinner",style:{width:16,height:16,border:"2px solid #f59e0b",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,kt.jsxs)("span",{style:{fontWeight:600},children:["\u751f\u6210\u4e2d: ",i]})]})}),d&&(0,kt.jsxs)("div",{style:{padding:16,background:"#fee2e2",color:"#dc2626",borderRadius:8,marginBottom:16},children:["\u26a0\ufe0f ",d]})]}),c.length>0&&(0,kt.jsxs)("div",{style:{background:"#1e293b",borderRadius:16,padding:20,color:"#e2e8f0"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,kt.jsx)("span",{style:{fontWeight:600},children:"\ud83d\udccb \u751f\u6210\u30ed\u30b0"}),(0,kt.jsx)("button",{onClick:()=>u([]),style:{background:"transparent",border:"none",color:"#94a3b8",cursor:"pointer"},children:"\u30af\u30ea\u30a2"})]}),(0,kt.jsx)("div",{style:{fontFamily:"monospace",fontSize:13,lineHeight:1.6,maxHeight:300,overflowY:"auto"},children:c.map((e,t)=>(0,kt.jsx)("div",{children:e},t))})]}),(0,kt.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      "})]})};async function Sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await fetch(e,Ve({headers:{"Content-Type":"application/json"}},t));if(!n.ok){const e=await n.text();throw new Error(e||"HTTP ".concat(n.status))}return n.json()}function Ca(){const[e,t]=(0,l.useState)(""),[n,a]=(0,l.useState)([]),[r,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),c=(0,l.useCallback)(async()=>{s(!0),o(null);try{const e=await Sa("/api/jobs");t(e.raw||""),Array.isArray(e.data)?a(e.data):a([])}catch(Ka){o(Ka instanceof Error?Ka.message:String(Ka))}finally{s(!1)}},[]);(0,l.useEffect)(()=>{c()},[c]);const u=(0,l.useCallback)(async()=>{s(!0),o(null);try{const e=await Sa("/api/jobs/purge",{method:"POST"});t(e.raw||""),await c()}catch(Ka){o(Ka instanceof Error?Ka.message:String(Ka))}finally{s(!1)}},[c]),d=(0,l.useCallback)(async e=>{s(!0),o(null);try{await Sa("/api/jobs/".concat(encodeURIComponent(e),"/stop"),{method:"POST"}),await c()}catch(Ka){o(Ka instanceof Error?Ka.message:String(Ka))}finally{s(!1)}},[c]),p=(0,l.useMemo)(()=>e.split("\n").filter(Boolean),[e]),h=(0,l.useMemo)(()=>{const e={};return n.forEach(t=>{e[t.status]=(e[t.status]||0)+1}),e},[n]),m=(0,l.useMemo)(()=>[...n].sort((e,t)=>(t.updated_at||"").localeCompare(e.updated_at||"")),[n]);return(0,kt.jsxs)("div",{className:"page jobs-page",style:{padding:16,display:"grid",gap:12},children:[(0,kt.jsx)("h1",{children:"\u30b8\u30e7\u30d6\u7ba1\u7406"}),i&&(0,kt.jsx)("div",{className:"error",style:{color:"red"},children:i}),(0,kt.jsxs)("div",{className:"card",style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,kt.jsx)("button",{onClick:c,disabled:r,children:"\u518d\u8aad\u307f\u8fbc\u307f"}),(0,kt.jsx)("button",{onClick:u,disabled:r,children:"purge (pending\u4ee5\u5916\u524a\u9664)"}),(0,kt.jsx)("div",{children:Object.entries(h).map(e=>{let[t,n]=e;return(0,kt.jsxs)("span",{style:{marginRight:8},children:[t,": ",n]},t)})})]}),(0,kt.jsxs)("div",{className:"card",style:{marginTop:8},children:[(0,kt.jsx)("h3",{children:"\u30b8\u30e7\u30d6\u4e00\u89a7"}),m.length>0?(0,kt.jsxs)("table",{className:"job-table",style:{width:"100%",borderCollapse:"collapse"},children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"Status"}),(0,kt.jsx)("th",{children:"ID"}),(0,kt.jsx)("th",{children:"Channel"}),(0,kt.jsx)("th",{children:"Video"}),(0,kt.jsx)("th",{children:"Title"}),(0,kt.jsx)("th",{children:"Attempts"}),(0,kt.jsx)("th",{children:"Updated"}),(0,kt.jsx)("th",{children:"Action"})]})}),(0,kt.jsx)("tbody",{children:m.map(e=>{var t,n;return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:e.status}),(0,kt.jsx)("td",{children:e.id}),(0,kt.jsx)("td",{children:e.channel}),(0,kt.jsx)("td",{children:e.video}),(0,kt.jsx)("td",{children:e.title}),(0,kt.jsxs)("td",{children:[null!==(t=e.attempts)&&void 0!==t?t:0,"/",null!==(n=e.max_retries)&&void 0!==n?n:0]}),(0,kt.jsx)("td",{children:e.updated_at}),(0,kt.jsx)("td",{children:(0,kt.jsx)("button",{onClick:()=>d(e.id),disabled:r,children:"\u505c\u6b62"})})]},e.id)})})]}):(0,kt.jsx)("div",{children:"\u30b8\u30e7\u30d6\u306a\u3057"}),r&&(0,kt.jsx)("div",{children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}),(0,kt.jsxs)("details",{style:{marginTop:8},children:[(0,kt.jsx)("summary",{children:"raw\u51fa\u529b"}),(0,kt.jsx)("pre",{style:{whiteSpace:"pre-wrap",background:"#f7f7f7",padding:12,borderRadius:8},children:p.length?p.join("\n"):e||"\u7d50\u679c\u306a\u3057"})]})]})]})}function Ea(){return(0,kt.jsxs)("div",{className:"page capcut-edit-page",children:[(0,kt.jsxs)("header",{className:"capcut-edit-page__hero",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"page-subtitle",children:"CapCut\u30e9\u30a4\u30f3"}),(0,kt.jsx)("h1",{children:"CapCut\u7de8\u96c6"}),(0,kt.jsx)("p",{className:"page-lead",children:"\u7528\u9014\u306b\u5fdc\u3058\u3066\u30e2\u30fc\u30c9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30da\u30fc\u30b8\u304c\u5206\u5c90\u3057\u307e\u3059\u3002"})]}),(0,kt.jsxs)("div",{className:"capcut-edit-page__actions",children:[(0,kt.jsx)(Me,{className:"button",to:"/capcut-edit/draft",children:"\u65b0\u898f\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210"}),(0,kt.jsx)(Me,{className:"button",to:"/capcut-edit/swap",children:"\u65e2\u5b58\u30c9\u30e9\u30d5\u30c8\u306e\u753b\u50cf\u5dee\u3057\u66ff\u3048"})]})]}),(0,kt.jsx)("section",{className:"capcut-edit-page__section",children:(0,kt.jsx)("p",{style:{marginTop:0},children:"\u300c\u65b0\u898f\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210\u300d\u3068\u300c\u65e2\u5b58\u30c9\u30e9\u30d5\u30c8\u306e\u753b\u50cf\u5dee\u3057\u66ff\u3048\u300d\u3092\u9078\u3076\u3068\u3001\u5c02\u7528\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\u623b\u308b\u3068\u304d\u306f\u5404\u30da\u30fc\u30b8\u4e0a\u90e8\u306e\u30ea\u30f3\u30af\u304b\u3089\u3053\u306e\u30e1\u30cb\u30e5\u30fc\u306b\u623b\u308c\u307e\u3059\u3002"})})]})}const Ta={srtPath:"",channel:"",runName:"",capcutTemplate:"",promptTemplate:"",beltMode:"llm",imgDuration:20};function Pa(e){const t=e.name||e.path,n=t.split("/"),a=(t.split("/").pop()||"").replace(/\.srt$/i,""),l=n[0]||"";return{srtPath:e.path,channel:l.startsWith("CH")&&l.length>=4&&/^\d+$/.test(l.slice(2,4))?l.slice(0,4):l,runName:a,promptTemplate:""}}function Ra(){var e;const t=e=>{if(!e)return"";const t=e.split(/[\\/]/);return t[t.length-1]||e},[n,a]=(0,l.useState)([]),[r,s]=(0,l.useState)(!0),[i,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(Ta),[d,p]=(0,l.useState)({submitting:!1,error:null,result:null}),[h,m]=(0,l.useState)(""),[f,v]=(0,l.useState)(new Set),[g,b]=(0,l.useState)(!1),[_,y]=(0,l.useState)([]),[x,j]=(0,l.useState)("idle"),[k,w]=(0,l.useState)(null),[N,S]=(0,l.useState)(null),[C,E]=(0,l.useState)(null),[T,P]=(0,l.useState)([]),[R,L]=(0,l.useState)({status:"idle",content:"",path:"",error:void 0}),[O,z]=(0,l.useState)({status:"idle",content:"",path:"",error:void 0,meta:""}),[M,I]=(0,l.useState)(""),[A,U]=(0,l.useState)(!1),[D,F]=(0,l.useState)(!1),[B,W]=(0,l.useState)(""),[q,H]=(0,l.useState)(!1),[V,$]=(0,l.useState)(!1),[Q,K]=(0,l.useState)(!1),J=(0,l.useMemo)(()=>c.capcutTemplate.trim()||N||"",[c.capcutTemplate,N]),Y=(0,l.useMemo)(()=>{const e=i.trim().toLowerCase();return e?n.filter(t=>t.name.toLowerCase().includes(e)||t.path.toLowerCase().includes(e)):n},[i,n]),G=(0,l.useMemo)(()=>{const e=new Set;return _.forEach(t=>{t.capcutTemplate&&e.add(t.capcutTemplate)}),N&&e.add(N),Array.from(e).sort((e,t)=>e.localeCompare(t))},[_,N]),X=(0,l.useMemo)(()=>"CH01"===c.channel?[{name:"CH01 \u5f37\u3081\u30fb\u6cb9\u5f69\u6c34\u5f69",path:"templates/jinsei_illustration_strong.txt"},{name:"CH01 \u6a19\u6e96\u30fb\u6c34\u5f69",path:"templates/jinsei_standard_illustration.txt"}]:T,[c.channel,T]),Z=(0,l.useMemo)(()=>{const e={};return Y.forEach(t=>{const n=t.name.includes("/")?t.name.split("/")[0]:"(root)";e[n]||(e[n]=[]),e[n].push(t)}),Object.entries(e).sort((e,t)=>{let[n]=e,[a]=t;return n.localeCompare(a)}).map(e=>{let[t,n]=e;return{key:t,items:n.sort((e,t)=>e.name.localeCompare(t.name))}})},[Y]);(0,l.useEffect)(()=>{(async()=>{s(!0);try{const[e,t,n]=await Promise.all([dt(),vt(!1),pt()]);if(a(e.items),y(t),j("ready"),P(n.items||[]),v(new Set(e.items.map(e=>e.name.includes("/")?e.name.split("/")[0]:"(root)"))),!g&&e.items[0]){const t=Pa(e.items[0]);u(e=>Ve(Ve({},e),t))}b(!0)}catch(e){j("error"),w((null===e||void 0===e?void 0:e.message)||"\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{s(!1)}})()},[g]),(0,l.useEffect)(()=>{const e=c.channel.trim();if(!e)return S(null),E(null),u(e=>Ve(Ve({},e),{},{capcutTemplate:"",promptTemplate:""})),L({status:"idle",content:"",path:"",error:void 0}),$(!1),void K(!1);let t=!1;var n;return(n=e,Ge("/api/video-production/channel-presets/".concat(encodeURIComponent(n))).then(ut)).then(e=>{var n,a;t||(S(null!==(n=e.capcutTemplate)&&void 0!==n?n:null),E(null!==(a=e.promptTemplate)&&void 0!==a?a:null),u(t=>{var n,a;return Ve(Ve({},t),{},{capcutTemplate:null!==(n=e.capcutTemplate)&&void 0!==n?n:"",promptTemplate:null!==(a=e.promptTemplate)&&void 0!==a?a:""})}),L({status:"idle",content:"",path:"",error:void 0}))}).catch(()=>{t||(S(null),E(null),u(e=>Ve(Ve({},e),{},{capcutTemplate:"",promptTemplate:""})),L({status:"idle",content:"",path:"",error:void 0}))}),()=>{t=!0}},[c.channel]);const ee=(0,l.useMemo)(()=>c.promptTemplate.trim()||C||"",[c.promptTemplate,C]);(0,l.useEffect)(()=>{const e=ee;if(!e)return void L({status:"idle",content:"",path:"",error:void 0});let t=!1;return L({status:"loading",content:"",path:e,error:void 0}),async function(e){var t,n;const a=new URLSearchParams({path:e}),l=await Ge("/api/auto-draft/prompt-template?".concat(a.toString()));return{name:l.name,path:l.path,content:l.content,templateRoot:null!==(t=null!==(n=l.template_root)&&void 0!==n?n:l.templateRoot)&&void 0!==t?t:""}}(e).then(e=>{t||L({status:"ready",content:e.content,path:e.path,error:void 0})}).catch(n=>{t||L({status:"error",content:"",path:e,error:(null===n||void 0===n?void 0:n.message)||"\u30c6\u30f3\u30d7\u30ec\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}),()=>{t=!0}},[ee]),(0,l.useEffect)(()=>{const e=c.srtPath;if(!e)return z({status:"idle",content:"",path:"",error:void 0,meta:""}),I(""),void W("");let t=!1;return z({status:"loading",content:"",path:e,error:void 0,meta:""}),async function(e){var t,n;const a=new URLSearchParams({path:e}),l=await Ge("/api/auto-draft/srt?".concat(a.toString()));return{name:l.name,path:l.path,content:l.content,sizeBytes:null!==(t=l.size_bytes)&&void 0!==t?t:null,modifiedTime:null!==(n=l.modified_time)&&void 0!==n?n:null}}(e).then(e=>{if(t)return;const n=[null!=e.sizeBytes?"".concat((e.sizeBytes/1024).toFixed(1)," KB"):null,e.modifiedTime?new Date(1e3*e.modifiedTime).toLocaleString():null].filter(Boolean).join(" / ");z({status:"ready",content:e.content,path:e.path,error:void 0,meta:n}),W(e.content)}).catch(n=>{t||(z({status:"error",content:"",path:e,error:(null===n||void 0===n?void 0:n.message)||"SRT\u30d7\u30ec\u30d3\u30e5\u30fc\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f",meta:""}),W(""))}),()=>{t=!0}},[c.srtPath]);const te=(0,l.useMemo)(()=>{var e;if("ready"===O.status){const e=M.trim().toLowerCase(),t=O.content.split(/\r?\n/),n=e?t.filter(t=>t.toLowerCase().includes(e)):t;if(!n.length)return{text:e?"\u30d5\u30a3\u30eb\u30bf\u306b\u4e00\u81f4\u3059\u308b\u884c\u304c\u3042\u308a\u307e\u305b\u3093":"\u7a7a\u306eSRT\u3067\u3059",lines:[]};const a=D?n:n.slice(0,200);return{text:a.map((e,t)=>A?"".concat(t+1,": ").concat(e):e).join("\n")+(!D&&n.length>a.length?"\n\u2026 (".concat(n.length-a.length," \u884c\u7701\u7565)"):""),lines:a}}return"loading"===O.status?{text:"\u8aad\u307f\u8fbc\u307f\u4e2d...",lines:[]}:"error"===O.status?{text:null!==(e=O.error)&&void 0!==e?e:"\u30d7\u30ec\u30d3\u30e5\u30fc\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f",lines:[]}:{text:"SRT\u3092\u9078\u629e\u3059\u308b\u3068\u5185\u5bb9\u3092\u8868\u793a\u3057\u307e\u3059",lines:[]}},[M,D,A,O]),ne=(e,t)=>{const n=e.match(/^(\d{2}:\d{2}:\d{2},\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2},\d{3})(.*)$/i);return n?(0,kt.jsxs)("span",{children:[(0,kt.jsx)("span",{style:{color:"#0f172a",fontWeight:700},children:n[1]}),(0,kt.jsx)("span",{style:{color:"#94a3b8"},children:" --\x3e "}),(0,kt.jsx)("span",{style:{color:"#0f172a",fontWeight:700},children:n[2]}),(0,kt.jsx)("span",{style:{color:"#475569"},children:n[3]})]}):/^\d+$/.test(e.trim())?(0,kt.jsx)("span",{style:{color:"#475569"},children:e}):(0,kt.jsx)("span",{style:{color:"#0f172a"},children:e||"\xa0"})},ae=(0,l.useMemo)(()=>{var e,t;const n=[];return d.error&&n.push("[error]\n".concat(d.error)),null!==(e=d.result)&&void 0!==e&&e.stdout&&n.push("[stdout]\n".concat(d.result.stdout)),null!==(t=d.result)&&void 0!==t&&t.stderr&&n.push("[stderr]\n".concat(d.result.stderr)),n.join("\n\n")},[d]),le=(0,l.useMemo)(()=>d.submitting?"\u5b9f\u884c\u4e2d...\n\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ed\u30b0\u5f85\u3061\u3067\u3059\u3002\u5b8c\u4e86\u5f8c\u306b\u8a73\u7d30\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002":ae||"\u30ed\u30b0\u306a\u3057",[ae,d.submitting]);return(0,kt.jsxs)("div",{style:{padding:20,display:"grid",gap:16},children:[(0,kt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[(0,kt.jsx)("h2",{style:{margin:0},children:"CapCut\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210"}),h&&(0,kt.jsx)("span",{style:{fontSize:12,background:"#eef2ff",color:"#1e1b4b",padding:"4px 8px",borderRadius:8},children:h})]}),(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",background:"#f8fafc",color:"#0f172a",borderRadius:10,padding:"10px 12px",fontSize:13,display:"flex",gap:10,flexWrap:"wrap"},children:[(0,kt.jsx)("span",{style:{fontWeight:700},children:"\u624b\u9806:"}),(0,kt.jsx)("span",{children:"1) SRT\u9078\u629e"}),(0,kt.jsx)("span",{children:"2) \u30c1\u30e3\u30f3\u30cd\u30eb\u9078\u629e"}),(0,kt.jsx)("span",{children:"3) CapCut\u30c6\u30f3\u30d7\u30ec"}),(0,kt.jsx)("span",{children:"4) \u753b\u98a8\u30c6\u30f3\u30d7\u30ec"}),(0,kt.jsx)("span",{children:"\u2192 \u5b9f\u884c"})]}),(0,kt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"minmax(320px, 1fr) 2fr",gap:16,alignItems:"start"},children:[(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,background:"#fff",padding:14,display:"grid",gap:12},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("strong",{children:"SRT\u3092\u9078\u629e"}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:"audio_tts_v2/artifacts/final \u914d\u4e0b\u306e .srt \u3092\u5217\u6319\u3057\u307e\u3059"})]}),(0,kt.jsx)("button",{onClick:async()=>{m("\u66f4\u65b0\u4e2d...");try{const e=await dt();a(e.items),v(new Set(e.items.map(e=>e.name.includes("/")?e.name.split("/")[0]:"(root)"))),m("\u66f4\u65b0\u3057\u307e\u3057\u305f")}catch(e){m((null===e||void 0===e?void 0:e.message)||"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},style:{border:"none",borderRadius:8,padding:"8px 12px",background:"#0f172a",color:"#fff",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 10px rgba(15,23,42,0.15)"},children:"\u518d\u8aad\u307f\u8fbc\u307f"})]}),(0,kt.jsx)("input",{type:"text",placeholder:"\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u7d5e\u308a\u8fbc\u307f",value:i,onChange:e=>o(e.target.value),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #cbd5e1"}}),r?(0,kt.jsx)("div",{style:{color:"#94a3b8"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):0===Y.length?(0,kt.jsx)("div",{style:{color:"#ef4444"},children:"audio_tts_v2/artifacts/final \u306b SRT \u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}):(0,kt.jsx)("div",{style:{display:"grid",gap:8,maxHeight:520,overflow:"auto"},children:Z.map(e=>{const t=f.has(e.key);return(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,background:"#fff"},children:[(0,kt.jsxs)("button",{onClick:()=>v(t=>{const n=new Set(t);return n.has(e.key)?n.delete(e.key):n.add(e.key),n}),style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"#f8fafc",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},children:[(0,kt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,kt.jsx)("span",{style:{fontWeight:800,color:"#0f172a"},children:e.key}),(0,kt.jsxs)("span",{style:{fontSize:12,color:"#475569"},children:[e.items.length,"\u4ef6"]})]}),(0,kt.jsx)("span",{style:{fontSize:12,color:"#475569"},children:t?"\u25b2":"\u25bc"})]}),t&&(0,kt.jsx)("div",{style:{padding:10,display:"grid",gap:8},children:e.items.map(e=>{const t=e.path===c.srtPath;return(0,kt.jsxs)("button",{onClick:()=>(e=>{p({submitting:!1,error:null,result:null});const t=Pa(e);u(e=>Ve(Ve({},e),t)),L({status:"idle",content:"",path:"",error:void 0})})(e),style:{textAlign:"left",border:"1px solid "+(t?"#312e81":"#e5e7eb"),background:t?"#eef2ff":"#ffffff",borderRadius:10,padding:"10px 12px",cursor:"pointer",boxShadow:t?"0 4px 10px rgba(49,46,129,0.12)":"none"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[(0,kt.jsx)("div",{style:{fontWeight:800,color:"#0f172a"},children:e.name}),t&&(0,kt.jsx)("span",{style:{fontSize:11,padding:"2px 8px",borderRadius:8,background:"#c7d2fe",color:"#1e1b4b",fontWeight:700},children:"\u9078\u629e\u4e2d"})]}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#475569",wordBreak:"break-all"},children:e.path})]},e.path)})})]},e.key)})})]}),(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,background:"#fff",padding:14,display:"grid",gap:10},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("strong",{children:"SRT\u30d7\u30ec\u30d3\u30e5\u30fc"}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:c.srtPath||"\u672a\u9078\u629e"}),O.meta&&(0,kt.jsx)("div",{style:{fontSize:11,color:"#94a3b8"},children:O.meta})]}),"loading"===O.status&&(0,kt.jsx)("span",{style:{fontSize:12,color:"#475569"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}),"error"===O.status&&(0,kt.jsx)("span",{style:{fontSize:12,color:"#b91c1c"},children:O.error})]}),(0,kt.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,kt.jsx)("input",{type:"text",placeholder:"\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u7d5e\u308a\u8fbc\u307f",value:M,onChange:e=>I(e.target.value),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #cbd5e1",minWidth:220}}),(0,kt.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center",fontSize:12,color:"#334155"},children:[(0,kt.jsx)("input",{type:"checkbox",checked:A,onChange:e=>U(e.target.checked)}),"\u884c\u756a\u53f7\u3092\u8868\u793a"]}),(0,kt.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center",fontSize:12,color:"#334155"},children:[(0,kt.jsx)("input",{type:"checkbox",checked:D,onChange:e=>F(e.target.checked)}),"\u5168\u6587\u8868\u793a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8200\u884c\uff09"]}),(0,kt.jsx)("button",{type:"button",onClick:async()=>{if("ready"===O.status&&O.content)try{await navigator.clipboard.writeText(O.content),m("SRT\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")}catch(e){m((null===e||void 0===e?void 0:e.message)||"\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},disabled:"ready"!==O.status,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #cbd5e1",background:"ready"===O.status?"#f8fafc":"#e5e7eb",color:"#0f172a",cursor:"ready"===O.status?"pointer":"not-allowed"},children:"\u30b3\u30d4\u30fc"})]}),(0,kt.jsx)("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,background:"#f8fafc",padding:10,minHeight:160,maxHeight:320,overflow:"auto",fontFamily:"SFMono-Regular, Menlo, Consolas, monospace",fontSize:12,whiteSpace:"pre-wrap"},children:te.lines.length?te.lines.map((e,t)=>(0,kt.jsx)("div",{style:{lineHeight:1.4},children:ne(e)},"".concat(e,"-").concat(t))):te.text}),(0,kt.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12,color:"#334155"},children:"SRT\u7de8\u96c6\uff08\u4fdd\u5b58\u3059\u308b\u3068\u4e0a\u66f8\u304d\uff09"}),(0,kt.jsx)("textarea",{value:B,onChange:e=>W(e.target.value),style:{width:"100%",minHeight:200,borderRadius:10,border:"1px solid #cbd5e1",padding:10,fontFamily:"SFMono-Regular, Menlo, Consolas, monospace",fontSize:12,background:"#fff"}}),(0,kt.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,kt.jsx)("button",{type:"button",onClick:async()=>{if(c.srtPath){H(!0),m("SRT\u3092\u4fdd\u5b58\u4e2d...");try{const e=await async function(e,t){var n,a;const l=await Ge("/api/auto-draft/srt",{method:"PUT",body:JSON.stringify({path:e,content:t})});return{name:l.name,path:l.path,content:t,sizeBytes:null!==(n=l.size_bytes)&&void 0!==n?n:null,modifiedTime:null!==(a=l.modified_time)&&void 0!==a?a:null}}(c.srtPath,B);z({status:"ready",content:e.content,path:e.path,error:void 0,meta:[null!=e.sizeBytes?"".concat((e.sizeBytes/1024).toFixed(1)," KB"):null,e.modifiedTime?new Date(1e3*e.modifiedTime).toLocaleString():null].filter(Boolean).join(" / ")||""}),m("SRT\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f")}catch(e){m((null===e||void 0===e?void 0:e.message)||"SRT\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{H(!1)}}else m("SRT\u304c\u672a\u9078\u629e\u3067\u3059")},disabled:q||"ready"!==O.status,style:{padding:"10px 14px",borderRadius:10,border:"none",background:q?"#e5e7eb":"#0f172a",color:"#fff",cursor:q||"ready"!==O.status?"not-allowed":"pointer",fontWeight:700},children:q?"\u4fdd\u5b58\u4e2d...":"\u3053\u306e\u5185\u5bb9\u3067\u4fdd\u5b58"}),(0,kt.jsx)("button",{type:"button",onClick:()=>W(O.content),disabled:"ready"!==O.status,style:{padding:"10px 14px",borderRadius:10,border:"1px solid #cbd5e1",background:"#f8fafc",color:"#0f172a",cursor:"ready"===O.status?"pointer":"not-allowed",fontWeight:600},children:"\u30d7\u30ec\u30d3\u30e5\u30fc\u5185\u5bb9\u3067\u30ea\u30bb\u30c3\u30c8"})]})]})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,background:"#fff",padding:14,display:"grid",gap:10},children:[(0,kt.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("strong",{children:"\u6700\u5c0f\u5165\u529b"}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:"SRT \u2192 \u30c1\u30e3\u30f3\u30cd\u30eb \u2192 \u5b9f\u884c\uff08run_name/\u30c6\u30f3\u30d7\u30ec\u306f\u81ea\u52d5\uff09"})]})}),(0,kt.jsxs)("div",{style:{display:"grid",gap:10,border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#fff"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12},children:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\uff08\u30d7\u30ea\u30bb\u30c3\u30c8\u53cd\u6620\uff09"}),"loading"===x&&(0,kt.jsx)("span",{style:{fontSize:12,color:"#64748b"},children:"\u53d6\u5f97\u4e2d..."}),"error"===x&&(0,kt.jsx)("span",{style:{fontSize:12,color:"#b91c1c"},children:k})]}),(0,kt.jsxs)("select",{value:c.channel,onChange:e=>u(t=>Ve(Ve({},t),{},{channel:e.target.value})),style:{padding:"10px 12px",borderRadius:10,border:"1px solid #cbd5e1"},children:[(0,kt.jsx)("option",{value:"",children:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),_.map(e=>(0,kt.jsxs)("option",{value:e.channelId,children:[e.channelId," ",e.name?"- ".concat(e.name):""]},e.channelId))]})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:10,border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#fff"},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12},children:"CapCut\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"}),(0,kt.jsxs)("div",{style:{fontSize:11,color:"#475569"},children:["\u30d7\u30ea\u30bb\u30c3\u30c8: ",t(N||"")||"\u306a\u3057"," / \u73fe\u5728: ",t(J)||"(\u672a\u8a2d\u5b9a)"]}),(0,kt.jsxs)("select",{value:V?"__custom__":c.capcutTemplate||"__preset__",onChange:e=>{const t=e.target.value;"__preset__"===t?($(!1),u(e=>Ve(Ve({},e),{},{capcutTemplate:""}))):"__custom__"===t?($(!0),u(e=>Ve(Ve({},e),{},{capcutTemplate:e.capcutTemplate||""}))):($(!1),u(e=>Ve(Ve({},e),{},{capcutTemplate:t})))},style:{padding:"10px 12px",borderRadius:10,border:"1px solid #cbd5e1"},children:[(0,kt.jsxs)("option",{value:"__preset__",children:["\u30d7\u30ea\u30bb\u30c3\u30c8\u3092\u4f7f\u3046 ",N?"(".concat(t(N),")"):""]}),G.map(e=>(0,kt.jsx)("option",{value:e,children:t(e)},e)),(0,kt.jsx)("option",{value:"__custom__",children:"\u30ab\u30b9\u30bf\u30e0\u5165\u529b"})]}),V&&(0,kt.jsx)("input",{type:"text",placeholder:"\u76f4\u63a5\u6307\u5b9a\uff08\u7a7a\u6b04\u306a\u3089\u30d7\u30ea\u30bb\u30c3\u30c8/\u30bb\u30ec\u30af\u30c8\u3092\u4f7f\u7528\uff09",value:c.capcutTemplate,onChange:e=>u(t=>Ve(Ve({},t),{},{capcutTemplate:e.target.value})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #e5e7eb"}})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:10,border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#fff"},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12},children:"\u753b\u50cf\u306e\u7d30\u304b\u3055\uff081\u679a\u3042\u305f\u308a\u79d2\u6570\uff09"}),(0,kt.jsx)("div",{style:{fontSize:11,color:"#475569"},children:"\u6570\u5024\u3092\u5c0f\u3055\u304f\u3059\u308b\u3068\u753b\u50cf\u679a\u6570\u304c\u5897\u3048\u307e\u3059\uff08\u76ee\u6a19\u306e\u5e73\u5747\u79d2\u6570\u3002\u5e2f\u306e\u5206\u5272\u3068\u306f\u7121\u95a2\u4fc2\uff09\u3002"}),(0,kt.jsx)("input",{type:"number",min:5,max:60,step:1,value:c.imgDuration,onChange:e=>u(t=>Ve(Ve({},t),{},{imgDuration:Number(e.target.value)||20})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #cbd5e1",width:140}})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:10,border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#fff"},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12},children:"\u753b\u98a8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\uff08prompt_template\uff09"}),(0,kt.jsxs)("div",{style:{fontSize:11,color:"#475569"},children:["\u30d7\u30ea\u30bb\u30c3\u30c8: ",t(C||"")||"\u306a\u3057"," / \u73fe\u5728: ",t(ee)||"(\u672a\u8a2d\u5b9a)"]}),(0,kt.jsxs)("select",{value:Q?"__custom__":c.promptTemplate||"__preset__",onChange:e=>{const t=e.target.value;"__preset__"===t?(K(!1),u(e=>Ve(Ve({},e),{},{promptTemplate:""}))):"__custom__"===t?(K(!0),u(e=>Ve(Ve({},e),{},{promptTemplate:e.promptTemplate||""}))):(K(!1),u(e=>Ve(Ve({},e),{},{promptTemplate:t})))},style:{padding:"10px 12px",borderRadius:10,border:"1px solid #cbd5e1"},children:[(0,kt.jsxs)("option",{value:"__preset__",children:["\u30d7\u30ea\u30bb\u30c3\u30c8\u3092\u4f7f\u3046 ",C?"(".concat(t(C),")"):""]}),X.map(e=>(0,kt.jsx)("option",{value:e.path,children:t(e.name||e.path)},e.path)),(0,kt.jsx)("option",{value:"__custom__",children:"\u30ab\u30b9\u30bf\u30e0\u5165\u529b"})]}),Q&&(0,kt.jsx)("input",{type:"text",placeholder:"\u76f4\u63a5\u6307\u5b9a\uff08\u7a7a\u6b04\u306a\u3089\u30d7\u30ea\u30bb\u30c3\u30c8/\u30bb\u30ec\u30af\u30c8\u3092\u4f7f\u7528\uff09",value:c.promptTemplate,onChange:e=>u(t=>Ve(Ve({},t),{},{promptTemplate:e.target.value})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #e5e7eb"}}),(0,kt.jsxs)("div",{style:{display:"grid",gap:6,fontSize:12,color:"#475569"},children:[(0,kt.jsxs)("span",{children:["\u4f7f\u7528\u4e2d: ",t(ee)||"\u672a\u9078\u629e"]}),(0,kt.jsxs)("div",{style:{border:"1px solid #cbd5e1",background:"#f8fafc",borderRadius:10,padding:10,maxHeight:220,overflow:"auto",whiteSpace:"pre-wrap"},children:["idle"===R.status&&(0,kt.jsx)("span",{style:{color:"#94a3b8"},children:"\u753b\u98a8\u30c6\u30f3\u30d7\u30ec\u3092\u9078\u629e\u3059\u308b\u3068\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u307e\u3059"}),"loading"===R.status&&(0,kt.jsx)("span",{style:{color:"#475569"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}),"error"===R.status&&(0,kt.jsx)("span",{style:{color:"#b91c1c"},children:R.error}),"ready"===R.status&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:t(R.path)}),(0,kt.jsx)("div",{style:{fontSize:11,color:"#94a3b8"},children:R.path}),(0,kt.jsx)("div",{style:{color:"#334155"},children:R.content})]})]})]})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:8,border:"1px dashed #cbd5e1",borderRadius:12,padding:12,background:"#f8fafc"},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12,color:"#0f172a"},children:"\u4eca\u56de\u9001\u308b\u8a2d\u5b9a"}),(0,kt.jsxs)("div",{style:{fontSize:13,color:"#0f172a"},children:["run_name: ",(null===(e=c.runName)||void 0===e?void 0:e.trim())||"".concat((c.srtPath.split(/[\\/]/).pop()||"draft").replace(/\\.srt$/i,""),"_").concat(Date.now())]}),(0,kt.jsxs)("div",{style:{fontSize:13,color:"#0f172a"},children:["CapCut\u30c6\u30f3\u30d7\u30ec: ",t(J)||"(\u672a\u8a2d\u5b9a)"]}),(0,kt.jsxs)("div",{style:{fontSize:13,color:"#0f172a"},children:["\u753b\u98a8\u30c6\u30f3\u30d7\u30ec: ",t(ee)||"(\u672a\u8a2d\u5b9a)"]}),(0,kt.jsxs)("div",{style:{fontSize:13,color:"#0f172a"},children:["\u5e2f\u30e2\u30fc\u30c9: ","llm"===c.beltMode?"LLM\u81ea\u52d5":"grouped\uff08\u7ae0JSON\u4f7f\u7528\uff09"]})]}),(0,kt.jsx)("button",{onClick:async()=>{var e;if(!c.srtPath)return void p({submitting:!1,error:"SRT\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",result:null});if(!c.channel)return void p({submitting:!1,error:"\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",result:null});const t=c.srtPath?(c.srtPath.split(/[\\/]/).pop()||"").replace(/\.srt$/i,""):"draft",n=(null===(e=c.runName)||void 0===e?void 0:e.trim())||"".concat(t,"_").concat(Date.now()),a={srtPath:c.srtPath,channel:c.channel,runName:n},l=c.capcutTemplate.trim()||N||"";l&&(a.template=l);const r=c.promptTemplate.trim()||C||"";r&&(a.promptTemplate=r),a.beltMode="llm",c.imgDuration&&(a.imgDuration=c.imgDuration),p({submitting:!0,error:null,result:null}),m("\u30c9\u30e9\u30d5\u30c8\u3092\u4f5c\u6210\u4e2d...");try{const e=await function(e){const t={srt_path:e.srtPath};return e.channel&&(t.channel=e.channel),e.runName&&(t.run_name=e.runName),e.title&&(t.title=e.title),e.labels&&(t.labels=e.labels),e.template&&(t.template=e.template),e.promptTemplate&&(t.prompt_template=e.promptTemplate),e.beltMode&&(t.belt_mode=e.beltMode),e.chaptersJson&&(t.chapters_json=e.chaptersJson),e.episodeInfoJson&&(t.episode_info_json=e.episodeInfoJson),e.imgDuration&&(t.imgdur=e.imgDuration),Ge("/api/auto-draft/create",{method:"POST",body:JSON.stringify(t)}).then(e=>{var t,n,a,l,r,s,i,o;return{ok:Boolean(e.ok),stdout:null!==(t=e.stdout)&&void 0!==t?t:"",stderr:null!==(n=e.stderr)&&void 0!==n?n:"",runName:null!==(a=null!==(l=e.run_name)&&void 0!==l?l:e.runName)&&void 0!==a?a:"",title:null!==(r=e.title)&&void 0!==r?r:"",channel:null!==(s=e.channel)&&void 0!==s?s:"",runDir:null!==(i=null!==(o=e.run_dir)&&void 0!==o?o:e.runDir)&&void 0!==i?i:""}})}(a);p({submitting:!1,error:null,result:e}),m("\u5b8c\u4e86")}catch(s){p({submitting:!1,error:(null===s||void 0===s?void 0:s.message)||"\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f",result:null}),m("")}},disabled:d.submitting||!c.srtPath||!c.channel,style:{padding:"12px 14px",borderRadius:10,border:"none",background:d.submitting?"#cbd5e1":"#0f172a",color:"#fff",fontWeight:800,cursor:!d.submitting&&c.srtPath&&c.channel?"pointer":"not-allowed",marginTop:4},children:d.submitting?"\u5b9f\u884c\u4e2d...":"CapCut\u30c9\u30e9\u30d5\u30c8\u3092\u4f5c\u6210"}),d.error&&(0,kt.jsx)("div",{style:{color:"#b91c1c",background:"#fef2f2",border:"1px solid #fecdd3",borderRadius:10,padding:10},children:d.error}),(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",background:"#0f172a",color:"#e2e8f0",borderRadius:12,padding:12,display:"grid",gap:6},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[(0,kt.jsx)("div",{style:{fontWeight:700,fontSize:12,color:"#bae6fd"},children:"\u30ed\u30b0"}),d.submitting&&(0,kt.jsx)("span",{style:{fontSize:11,color:"#cbd5e1"},children:"\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210\u4e2d...\u5b8c\u4e86\u5f8c\u306b\u8a73\u7d30\u304c\u53cd\u6620\u3055\u308c\u307e\u3059"})]}),(0,kt.jsx)("pre",{style:{margin:0,fontSize:12,whiteSpace:"pre-wrap",wordBreak:"break-all",lineHeight:1.4,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace"},children:le})]})]}),d.result&&(0,kt.jsxs)("div",{style:{border:"1px solid #bbf7d0",background:"#f0fdf4",color:"#166534",borderRadius:12,padding:12,display:"grid",gap:8},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[(0,kt.jsx)("div",{style:{fontWeight:800},children:"\u4f5c\u6210\u5b8c\u4e86"}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#16a34a"},children:"CapCut\u3067\u30c9\u30e9\u30d5\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059"})]}),(0,kt.jsxs)("div",{style:{display:"grid",gap:6,fontSize:13},children:[(0,kt.jsxs)("div",{children:["run_name: ",d.result.runName]}),(0,kt.jsxs)("div",{children:["\u30c1\u30e3\u30f3\u30cd\u30eb: ",d.result.channel]}),(0,kt.jsxs)("div",{children:["\u51fa\u529b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea: ",d.result.runDir]})]})]})]})]}),d.submitting&&(0,kt.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.45)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",color:"#e2e8f0",backdropFilter:"blur(2px)"},children:(0,kt.jsxs)("div",{style:{background:"#0f172a",border:"1px solid #475569",borderRadius:12,padding:"18px 22px",minWidth:260,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[(0,kt.jsx)("div",{style:{fontWeight:800,marginBottom:8},children:"\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210\u4e2d..."}),(0,kt.jsx)("div",{style:{fontSize:13,color:"#cbd5e1",lineHeight:1.5},children:"\u30b5\u30fc\u30d0\u30fc\u51e6\u7406\u4e2d\u3067\u3059\u3002\u5b8c\u4e86\u3059\u308b\u3068\u4e0b\u90e8\u306e\u30ed\u30b0\u306b\u8a73\u7d30\u304c\u53cd\u6620\u3055\u308c\u307e\u3059\u3002"})]})})]})}function La(){return(0,kt.jsxs)("div",{className:"page capcut-edit-page",children:[(0,kt.jsxs)("header",{className:"capcut-edit-page__hero",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"page-subtitle",children:"CapCut\u30e9\u30a4\u30f3"}),(0,kt.jsx)("h1",{children:"\u65b0\u898f\u30c9\u30e9\u30d5\u30c8\u4f5c\u6210"}),(0,kt.jsx)("p",{className:"page-lead",children:"\u7d20\u6750\u304b\u3089CapCut\u30c9\u30e9\u30d5\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u5b8c\u4e86\u5f8c\u306bCapCut\u3067\u958b\u3044\u3066\u7de8\u96c6\u3067\u304d\u307e\u3059\u3002"})]}),(0,kt.jsx)("div",{className:"capcut-edit-page__actions",children:(0,kt.jsx)(Me,{className:"button button--ghost",to:"/capcut-edit",children:"\u2190 CapCut\u7de8\u96c6\u30e1\u30cb\u30e5\u30fc\u3078\u623b\u308b"})})]}),(0,kt.jsx)("section",{className:"capcut-edit-page__section",children:(0,kt.jsx)(Ra,{})})]})}const Oa=e=>{if(null==e||Number.isNaN(e))return"??:??";const t=Math.max(0,Math.floor(e)),n=Math.floor(t/3600),a=Math.floor(t%3600/60);return"".concat(String(n).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},za=(e,t)=>{if(null==e||null==t)return"??:??";const n=Math.max(0,Math.floor(t-e)),a=Math.floor(n/3600),l=Math.floor(n%3600/60);return"".concat(String(a).padStart(2,"0"),":").concat(String(l).padStart(2,"0"))},Ma={draft_path:"",run_dir:"",indices:"",custom_prompt:null,style_mode:"illustration",only_allow_draft_substring:"",apply:!0,validate_after:!0,rollback_on_validate_fail:!0},Ia=()=>{const[e,t]=(0,l.useState)(Ma),[n,a]=(0,l.useState)([]),[r,s]=(0,l.useState)([]),[i,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),[d,p]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{fetch("".concat(Aa,"/api/swap/drafts")).then(e=>e.json()).then(e=>{const n=e.items||[];a(n);const l=n[0];l&&(t(e=>Ve(Ve({},e),{},{draft_path:l.path,only_allow_draft_substring:l.name})),fetch("".concat(Aa,"/api/swap/auto-run-dir?draft_name=").concat(encodeURIComponent(l.name))).then(e=>e.json()).then(e=>t(t=>Ve(Ve({},t),{},{run_dir:e.run_dir||t.run_dir}))).finally(()=>h(l.path)))}).catch(()=>a([]))},[]);const h=async n=>{const a=n||e.draft_path;if(a){o("\u8aad\u307f\u8fbc\u307f\u4e2d..."),s([]);try{let n=e.run_dir;if(!n){const e=a.split("/").pop()||"",l=await fetch("".concat(Aa,"/api/swap/auto-run-dir?draft_name=").concat(encodeURIComponent(e))).then(e=>e.json());l.run_dir&&(n=l.run_dir,t(e=>Ve(Ve({},e),{},{run_dir:l.run_dir})))}const i=new URLSearchParams({draft_path:a}),c=await fetch("".concat(Aa,"/api/swap/images/list?").concat(i.toString()));if(!c.ok)return void o("\u8aad\u307f\u8fbc\u307f\u5931\u6557");let u=(await c.json()).items||[];const d={},p={};if(n){try{((await fetch("".concat(Aa,"/api/swap/image-cues?run_dir=").concat(encodeURIComponent(n))).then(e=>e.json())).items||[]).forEach(e=>{"number"===typeof e.index&&(d[e.index]=e.prompt||e.raw_prompt||e.positive||"")})}catch(l){}try{((await fetch("".concat(Aa,"/api/swap/prompt-snapshots?run_dir=").concat(encodeURIComponent(n))).then(e=>e.json())).items||[]).forEach(e=>{"number"===typeof e.index&&(p[e.index]={prompt:e.prompt||"",timestamp:e.timestamp||""})})}catch(r){}}u=u.map(e=>{const t=p[e.index];if(t&&t.prompt)return Ve(Ve({},e),{},{prompt:t.prompt,prompt_source:"snapshot",prompt_timestamp:t.timestamp});const n=d[e.index];return Ve(Ve({},e),{},n?{prompt:n,prompt_source:"cues_only"}:{prompt:"\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff08\u518d\u751f\u6210\u3059\u308b\u3068\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff09",prompt_source:"missing"})}),s(u),o("\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86")}catch(Ka){o("error: "+(null===Ka||void 0===Ka?void 0:Ka.message))}}else o("\u30c9\u30e9\u30d5\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")};return(0,kt.jsxs)("div",{style:{padding:16,background:"#f8fafc",minHeight:"100vh"},children:[(0,kt.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[(0,kt.jsx)("h2",{style:{margin:0},children:"\u753b\u50cf\u5dee\u3057\u66ff\u3048"}),i&&(0,kt.jsx)("span",{style:{fontSize:12,color:"#0f172a",background:"#eef2ff",padding:"4px 8px",borderRadius:8},children:i})]}),(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#fff",marginBottom:14,display:"grid",gap:8},children:[(0,kt.jsxs)("label",{children:["\u30c9\u30e9\u30d5\u30c8",(0,kt.jsxs)("select",{value:e.draft_path,onChange:n=>{const a=n.target.value.split("/").pop()||"";t(Ve(Ve({},e),{},{draft_path:n.target.value,only_allow_draft_substring:a}))},style:{width:"100%"},children:[(0,kt.jsx)("option",{value:"",children:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),n.map(e=>(0,kt.jsx)("option",{value:e.path,children:e.name},e.path))]})]}),(0,kt.jsx)("button",{onClick:()=>h(),disabled:c,style:{width:160,padding:"8px 10px",borderRadius:8,border:"1px solid #e5e7eb",background:"#0f172a",color:"#fff"},children:"\u753b\u50cf\u3092\u8aad\u307f\u8fbc\u3080"})]}),0===r.length?(0,kt.jsx)("div",{style:{padding:20,border:"1px dashed #d1d5db",borderRadius:12,background:"#fff",color:"#6b7280"},children:"\u753b\u50cf\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u30c9\u30e9\u30d5\u30c8\u3092\u9078\u3093\u3067\u300c\u753b\u50cf\u3092\u8aad\u307f\u8fbc\u3080\u300d\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):(0,kt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:10},children:r.map(t=>{const n=t.material_name?"".concat(Aa,"/api/swap/images/file?draft_path=").concat(encodeURIComponent(e.draft_path),"&material_name=").concat(encodeURIComponent(t.material_name)):void 0,a=null!=t.start_ms?t.start_ms/1e3:null,l=null!=t.start_ms&&null!=t.duration_ms?(t.start_ms+t.duration_ms)/1e3:null;return(0,kt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",display:"grid",gridTemplateRows:"auto 1fr auto",gap:6},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,kt.jsxs)("div",{style:{fontWeight:800,fontSize:14},children:["#",t.index.toString().padStart(2,"0")]}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#1f2937"},children:null!=a&&null!=l?"\u958b\u59cb ".concat(Oa(a)," / \u7d42\u4e86 ").concat(Oa(l)," / \u9577\u3055 ").concat(za(a,l)):"\u6642\u9593\u4e0d\u660e"})]}),n?(0,kt.jsx)("img",{src:n,alt:t.material_name,style:{width:"100%",height:160,objectFit:"cover",borderRadius:10}}):(0,kt.jsx)("div",{style:{height:160,background:"#f3f4f6",borderRadius:10,display:"grid",placeItems:"center",color:"#9ca3af"},children:"\u753b\u50cf\u306a\u3057"}),(0,kt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,kt.jsx)("div",{style:{fontSize:13,color:"#0f172a",fontWeight:700},children:t.material_name||"\u540d\u524d\u306a\u3057"}),(()=>{const e=t.prompt||""||"\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff08\u518d\u751f\u6210\u3059\u308b\u3068\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff09",n=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0)[0]||e,a=d.has(t.index),l=n.length>140?n.slice(0,140)+" ...":n,r="snapshot"===t.prompt_source?{text:"\u8a18\u9332\u6e08\u307f",bg:"#dcfce7",border:"#86efac",color:"#166534"}:"cues_only"===t.prompt_source?{text:"\u672a\u4fdd\u5b58\uff08\u30c6\u30f3\u30d7\u30ec\u8868\u793a\uff09",bg:"#fff7ed",border:"#fed7aa",color:"#9a3412"}:{text:"\u672a\u4fdd\u5b58",bg:"#fee2e2",border:"#fecaca",color:"#991b1b"};return(0,kt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,kt.jsxs)("div",{style:{display:"flex",gap:8,fontSize:11,color:"#4b5563",alignItems:"center"},children:[(0,kt.jsx)("span",{style:{padding:"2px 8px",borderRadius:8,background:r.bg,border:"1px solid ".concat(r.border),color:r.color,fontWeight:700},children:r.text}),t.prompt_timestamp&&(0,kt.jsxs)("span",{style:{color:"#6b7280"},children:["\u8a18\u9332: ",t.prompt_timestamp]})]}),(0,kt.jsx)("div",{style:{fontSize:12,color:"#0f172a",background:"#f8fafc",padding:10,borderRadius:10,border:"1px solid #e5e7eb",whiteSpace:"pre-wrap"},title:e,children:a?e:l}),e!==l&&(0,kt.jsx)("button",{onClick:()=>p(e=>{const n=new Set(e);return n.has(t.index)?n.delete(t.index):n.add(t.index),n}),style:{alignSelf:"flex-start",fontSize:12,padding:"4px 10px",borderRadius:8,border:"1px solid #0f172a",background:"#0f172a",color:"#fff",fontWeight:700},children:a?"\u9589\u3058\u308b":"\u5168\u6587\u8868\u793a"})]})})()]}),(0,kt.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,kt.jsx)("button",{onClick:()=>(async t=>{if(!c)if(e.draft_path&&e.run_dir){u(!0),o("\u30ab\u30c3\u30c8#".concat(t," \u5dee\u3057\u66ff\u3048\u4e2d..."));try{const n=Ve(Ve({},e),{},{indices:String(t),custom_prompt:null,only_allow_draft_substring:e.only_allow_draft_substring||e.draft_path.split("/").pop()||"",apply:!0}),a=await fetch("".concat(Aa,"/api/swap/images"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),l=await a.text();if(a.ok){const e=JSON.parse(l);o("\u5b8c\u4e86: log ".concat(e.log_path)),await h()}else o("\u5931\u6557: "+l)}catch(Ka){o("error: "+(null===Ka||void 0===Ka?void 0:Ka.message))}finally{u(!1)}}else o("\u30c9\u30e9\u30d5\u30c8\u307e\u305f\u306frun_dir\u304c\u672a\u8a2d\u5b9a\u3067\u3059")})(t.index),disabled:c,style:{flex:1,padding:"10px 12px",borderRadius:10,border:"none",background:"#2563eb",color:"#fff",fontWeight:800,boxShadow:"0 2px 8px rgba(37,99,235,0.3)"},children:"\u518d\u751f\u6210\u3057\u3066\u9069\u7528"}),(0,kt.jsx)("button",{onClick:()=>(async t=>{if(e.draft_path){u(!0),o("\u30ab\u30c3\u30c8#".concat(t," \u3092\u76f4\u524d\u306b\u623b\u3057\u3066\u3044\u307e\u3059..."));try{const n=((await fetch("".concat(Aa,"/api/swap/images/history?").concat(new URLSearchParams({draft_path:e.draft_path,index:String(t),limit:"1"}).toString())).then(e=>e.json())).items||[])[0];if(n){const a=await fetch("".concat(Aa,"/api/swap/images/rollback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({draft_path:e.draft_path,index:t,history_path:n.path})});if(a.ok)o("\u76f4\u524d\u306b\u623b\u3057\u307e\u3057\u305f"),await h();else{const e=await a.text();o("\u623b\u3057\u5931\u6557: "+e)}}else o("\u5c65\u6b74\u304c\u3042\u308a\u307e\u305b\u3093")}catch(Ka){o("error: "+(null===Ka||void 0===Ka?void 0:Ka.message))}finally{u(!1)}}})(t.index),disabled:c,style:{padding:"10px 12px",borderRadius:10,border:"1px solid #2563eb",background:"#ffffff",color:"#2563eb",fontWeight:700},children:"\u76f4\u524d\u306b\u623b\u3059"})]})]},t.index)})})]})},Aa={NODE_ENV:"production",PUBLIC_URL:"/youtube_production2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:""}.REACT_APP_API_BASE||"http://127.0.0.1:8000";function Ua(){return(0,kt.jsxs)("div",{className:"page capcut-edit-page",children:[(0,kt.jsxs)("header",{className:"capcut-edit-page__hero",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"page-subtitle",children:"CapCut\u30e9\u30a4\u30f3"}),(0,kt.jsx)("h1",{children:"\u65e2\u5b58\u30c9\u30e9\u30d5\u30c8\u306e\u753b\u50cf\u5dee\u3057\u66ff\u3048"}),(0,kt.jsx)("p",{className:"page-lead",children:"\u65e2\u5b58\u306eCapCut\u30c9\u30e9\u30d5\u30c8\u3092\u9078\u3073\u3001\u5dee\u3057\u66ff\u3048\u753b\u50cf\u3067\u66f4\u65b0\u3057\u307e\u3059\u3002"})]}),(0,kt.jsx)("div",{className:"capcut-edit-page__actions",children:(0,kt.jsx)(Me,{className:"button button--ghost",to:"/capcut-edit",children:"\u2190 CapCut\u7de8\u96c6\u30e1\u30cb\u30e5\u30fc\u3078\u623b\u308b"})})]}),(0,kt.jsx)("section",{className:"capcut-edit-page__section",children:(0,kt.jsx)(Ia,{})})]})}const Da=()=>{const[e,t]=(0,l.useState)(null),[n,a]=(0,l.useState)(!0),[r,s]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),c=(0,l.useCallback)(async()=>{try{const e=await fetch("/api/tts-progress");if(!e.ok)throw new Error("Failed to fetch progress");const n=await e.json();t(n),o(new Date),s(null)}catch(e){s(e instanceof Error?e.message:"Unknown error")}finally{a(!1)}},[]);(0,l.useEffect)(()=>{c()},[c]);const u=e=>e>=100?"#22c55e":e>=75?"#84cc16":e>=50?"#eab308":e>=25?"#f97316":"#ef4444";return n&&!e?(0,kt.jsx)("div",{className:"p-6",children:(0,kt.jsx)("div",{className:"animate-pulse",children:"Loading TTS progress..."})}):(0,kt.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf99\ufe0f TTS\u97f3\u58f0\u751f\u6210 \u9032\u6357\u30e2\u30cb\u30bf\u30fc"}),(0,kt.jsx)("button",{onClick:c,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"\ud83d\udd04 \u66f4\u65b0"})]}),r&&(0,kt.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded mb-6",children:["\u26a0\ufe0f ",r]}),i&&(0,kt.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:["\u6700\u7d42\u66f4\u65b0: ",i.toLocaleTimeString("ja-JP")]}),e&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 mb-6 text-white",children:[(0,kt.jsx)("div",{className:"text-lg mb-2",children:"\u5168\u4f53\u9032\u6357"}),(0,kt.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[e.overall_progress,"%"]}),(0,kt.jsx)("div",{className:"w-full bg-white/30 rounded-full h-4",children:(0,kt.jsx)("div",{className:"h-4 rounded-full transition-all duration-500",style:{width:"".concat(e.overall_progress,"%"),backgroundColor:"white"}})})]}),(0,kt.jsx)("div",{className:"grid gap-6",children:e.channels.map(e=>(0,kt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,kt.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["\ud83d\udcc1 ",e.channel]}),(0,kt.jsxs)("span",{className:"px-3 py-1 rounded-full text-white font-bold",style:{backgroundColor:u(e.progress_percent)},children:[e.progress_percent,"%"]})]}),(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,kt.jsxs)("span",{children:["\u5b8c\u4e86: ",e.completed_episodes," / ",e.total_episodes]}),(0,kt.jsxs)("span",{children:["\u6b8b\u308a: ",e.missing_ids.length]})]}),(0,kt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,kt.jsx)("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:"".concat(e.progress_percent,"%"),backgroundColor:u(e.progress_percent)}})})]}),e.missing_ids.length>0&&e.missing_ids.length<=20&&(0,kt.jsxs)("div",{className:"mt-4",children:[(0,kt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\u672a\u5b8c\u4e86\u30a8\u30d4\u30bd\u30fc\u30c9:"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-1",children:e.missing_ids.map(e=>(0,kt.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded",children:e},e))})]}),e.missing_ids.length>20&&(0,kt.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["\u672a\u5b8c\u4e86: ",e.missing_ids.slice(0,10).join(", "),"... (+",e.missing_ids.length-10,"\u4ef6)"]})]})},e.channel))})]})]})},Fa="http://127.0.0.1:8000/api",Ba=()=>{var e;const[t]=Fe(),n=t.get("channel"),a=t.get("video"),[r,s]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(!1),[d,p]=(0,l.useState)(null),[h,m]=(0,l.useState)(!1),[f,v]=(0,l.useState)([]),g=async()=>{u(!0),p(null);try{if(n&&a){const e=await fetch("".concat(Fa,"/audio-check/").concat(n,"/").concat(a));if(e.ok){const t=await e.json();s(t)}else{if(404!==e.status)throw new Error("Log fetch failed: ".concat(e.status));s(null)}}else{const e=await fetch("".concat(Fa,"/audio-check/recent"));e.ok&&v(await e.json())}const e=await fetch("".concat(Fa,"/kb"));if(e.ok){const t=await e.json();!t.words&&t.entries?o({version:1,words:{}}):o(t)}}catch(e){console.error(e),p(e.message)}finally{u(!1)}};(0,l.useEffect)(()=>{g()},[n,a]);const b=async e=>{if(window.confirm("\u300c".concat(e,"\u300d\u306e\u767b\u9332\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")))try{await fetch("".concat(Fa,"/kb/").concat(encodeURIComponent(e)),{method:"DELETE"}),g()}catch(Ka){alert("\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},_=e=>"match_kanji"===e?"\u4e00\u81f4 (\u6f22\u5b57)":"llm_match_kanji"===e?"LLM\u627f\u8a8d (\u6f22\u5b57)":"llm_patched_action_a"===e?"\u4fee\u6b63 (\u4e00\u90e8\u30ab\u30ca)":"kb_applied"===e?"\u8f9e\u66f8\u9069\u7528":e.includes("fallback")?"\u5168\u30ab\u30ca (Fallback)":e;return n&&a?c&&!r?(0,kt.jsx)("div",{style:{padding:"20px"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):d?(0,kt.jsx)("div",{style:{padding:"20px",color:"red"},children:d}):(0,kt.jsxs)("div",{style:{padding:"20px",height:"100%",overflowY:"auto"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,kt.jsxs)("h2",{children:["\u97f3\u58f0\u6574\u5408\u6027\u30c1\u30a7\u30c3\u30af: ",n,"-",a]}),(0,kt.jsx)("button",{onClick:g,style:{padding:"8px 16px",cursor:"pointer"},children:"\u66f4\u65b0"})]}),!r&&(0,kt.jsx)("div",{style:{padding:"15px",backgroundColor:"#fff3e0",borderRadius:"4px",marginBottom:"20px"},children:"\u30ed\u30b0\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\u307e\u3060\u97f3\u58f0\u751f\u6210\uff08Strict Mode\uff09\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"}),r&&(0,kt.jsxs)("div",{style:{marginBottom:"40px",border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white"},children:[(0,kt.jsxs)("div",{style:{marginBottom:"15px",fontSize:"0.9rem",color:"#666"},children:["\u30a8\u30f3\u30b8\u30f3: ",(0,kt.jsx)("strong",{children:r.engine})," | \u751f\u6210\u65e5\u6642: ",new Date(1e3*r.timestamp).toLocaleString()," | \u30bb\u30b0\u30e1\u30f3\u30c8\u6570: ",(null===(e=r.segments)||void 0===e?void 0:e.length)||0]}),(0,kt.jsx)("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:(0,kt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[(0,kt.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"#f9f9f9",zIndex:1},children:(0,kt.jsxs)("tr",{style:{textAlign:"left"},children:[(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"2px solid #ddd",width:"40px"},children:"#"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"2px solid #ddd",width:"40%"},children:"\u30c6\u30ad\u30b9\u30c8 (\u6f22\u5b57) / MeCab\u8aad\u307f"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"2px solid #ddd",width:"40%"},children:"\u6700\u7d42\u7684\u306a\u8aad\u307f / Voicevox\u4e88\u6e2c"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"2px solid #ddd"},children:"\u5224\u5b9a"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"2px solid #ddd"},children:"\u30dd\u30fc\u30ba"})]})}),(0,kt.jsx)("tbody",{children:(r.segments||[]).map((e,t)=>{const n=e.text!==e.reading,a=(l=e.verdict).includes("match")?{color:"green",borderColor:"green"}:l.includes("patched")||l.includes("fix")?{color:"orange",borderColor:"orange",fontWeight:"bold"}:l.includes("fallback")?{color:"red",borderColor:"red"}:l.includes("kb")?{color:"blue",borderColor:"blue"}:{color:"gray",borderColor:"gray"};var l;return(0,kt.jsxs)("tr",{style:{backgroundColor:e.heading?"#eef6fc":"white",borderBottom:"1px solid #eee"},children:[(0,kt.jsx)("td",{style:{padding:"8px"},children:t+1}),(0,kt.jsxs)("td",{style:{padding:"8px"},children:[(0,kt.jsx)("div",{style:{fontWeight:e.heading?"bold":"normal"},children:e.text}),(0,kt.jsxs)("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"2px"},children:["MeCab: ",e.mecab]})]}),(0,kt.jsxs)("td",{style:{padding:"8px"},children:[(0,kt.jsx)("div",{style:{fontWeight:n?"bold":"normal",color:n?"#d32f2f":"inherit"},children:e.reading}),(0,kt.jsxs)("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:["Orig: ",e.voicevox]})]}),(0,kt.jsx)("td",{style:{padding:"8px"},children:(0,kt.jsx)("span",{style:{border:"1px solid ".concat(a.borderColor),color:a.color,padding:"2px 6px",borderRadius:"12px",fontSize:"0.75rem",whiteSpace:"nowrap"},children:_(e.verdict)})}),(0,kt.jsxs)("td",{style:{padding:"8px"},children:[e.pre>0&&(0,kt.jsxs)("span",{style:{display:"block",fontSize:"0.75rem",color:"#666"},children:["Pre ",e.pre,"s"]}),e.post>0&&(0,kt.jsxs)("span",{style:{display:"block",fontSize:"0.75rem",color:"#666"},children:["Post ",e.post,"s"]})]})]},t)})})]})})]}),(0,kt.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",overflow:"hidden"},children:[(0,kt.jsxs)("div",{onClick:()=>m(!h),style:{padding:"10px 15px",backgroundColor:"#f5f5f5",cursor:"pointer",fontWeight:"bold",display:"flex",justifyContent:"space-between"},children:["\u5358\u8a9e\u8f9e\u66f8 (GKB) - ",i&&i.words?Object.keys(i.words).length:0,"\u4ef6",(0,kt.jsx)("span",{children:h?"\u25b2":"\u25bc"})]}),h&&i&&i.words&&(0,kt.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"0"},children:(0,kt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{style:{textAlign:"left",backgroundColor:"#fafafa"},children:[(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:"\u5358\u8a9e"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:"\u8aad\u307f (\u30ab\u30ca)"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd",width:"100px"},children:"\u64cd\u4f5c"})]})}),(0,kt.jsx)("tbody",{children:Object.entries(i.words).map(e=>{let[t,n]=e;return(0,kt.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,kt.jsx)("td",{style:{padding:"8px"},children:t}),(0,kt.jsx)("td",{style:{padding:"8px"},children:n}),(0,kt.jsx)("td",{style:{padding:"8px"},children:(0,kt.jsx)("button",{onClick:()=>b(t),style:{color:"red",border:"none",background:"none",cursor:"pointer"},children:"\u524a\u9664"})})]},t)})})]})})]})]}):(0,kt.jsxs)("div",{style:{padding:"20px"},children:[(0,kt.jsx)("h2",{children:"\u97f3\u58f0\u6574\u5408\u6027\u30c1\u30a7\u30c3\u30af (Audio Integrity)"}),(0,kt.jsxs)("div",{style:{padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"4px",marginBottom:"20px"},children:[(0,kt.jsx)("p",{children:"\u78ba\u8a8d\u3057\u305f\u3044\u52d5\u753b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),f.length>0?(0,kt.jsx)("ul",{style:{listStyle:"none",padding:0,marginTop:"10px"},children:f.map(e=>(0,kt.jsx)("li",{style:{marginBottom:"8px"},children:(0,kt.jsxs)("a",{href:"/audio-integrity?channel=".concat(e.channel,"&video=").concat(e.video),style:{display:"block",padding:"10px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",textDecoration:"none",color:"#333",fontWeight:"bold"},children:["\u25b6 ",e.channel," - ",e.video," ",(0,kt.jsxs)("span",{style:{fontWeight:"normal",fontSize:"0.85em",color:"#666",marginLeft:"10px"},children:["(",new Date(e.updated_at).toLocaleString(),")"]})]})},"".concat(e.channel,"-").concat(e.video)))}):(0,kt.jsx)("p",{children:"\u751f\u6210\u6e08\u307f\u306e\u30ed\u30b0\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002"})]}),(0,kt.jsxs)("h3",{children:["\u5358\u8a9e\u8f9e\u66f8 (GKB) - ",i&&i.words?Object.keys(i.words).length:0,"\u4ef6"]}),(0,kt.jsx)("button",{onClick:g,style:{padding:"5px 10px",cursor:"pointer"},children:"\u8f9e\u66f8\u66f4\u65b0"}),i&&i.words&&(0,kt.jsxs)("table",{style:{width:"100%",marginTop:"20px",borderCollapse:"collapse"},children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{style:{textAlign:"left",backgroundColor:"#f5f5f5"},children:[(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:"\u5358\u8a9e"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:"\u8aad\u307f (\u30ab\u30ca)"}),(0,kt.jsx)("th",{style:{padding:"8px",borderBottom:"1px solid #ddd",width:"100px"},children:"\u64cd\u4f5c"})]})}),(0,kt.jsx)("tbody",{children:Object.entries(i.words).map(e=>{let[t,n]=e;return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:t}),(0,kt.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n}),(0,kt.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:(0,kt.jsx)("button",{onClick:()=>b(t),style:{color:"red",border:"none",background:"none",cursor:"pointer"},children:"\u524a\u9664"})})]},t)})})]})]})};const Wa=function(){return(0,kt.jsxs)(ke,{children:[(0,kt.jsx)(xe,{path:"/",element:(0,kt.jsx)(_e,{to:"/dashboard",replace:!0})}),(0,kt.jsxs)(xe,{element:(0,kt.jsx)(Qt,{}),children:[(0,kt.jsx)(xe,{path:"/dashboard",element:(0,kt.jsx)(Kt,{})}),(0,kt.jsx)(xe,{path:"/projects",element:(0,kt.jsx)(hn,{})}),(0,kt.jsx)(xe,{path:"/channel-workspace",element:(0,kt.jsx)(zn,{})}),(0,kt.jsx)(xe,{path:"/channel-settings",element:(0,kt.jsx)(Yn,{})}),(0,kt.jsx)(xe,{path:"/prompts",element:(0,kt.jsx)(va,{})}),(0,kt.jsx)(xe,{path:"/settings",element:(0,kt.jsx)(ka,{})}),(0,kt.jsx)(xe,{path:"/channels/:channelCode",element:(0,kt.jsx)(_n,{})}),(0,kt.jsx)(xe,{path:"/channels/:channelCode/videos/:video",element:(0,kt.jsx)(Tn,{})}),(0,kt.jsx)(xe,{path:"/research",element:(0,kt.jsx)(ea,{})}),(0,kt.jsx)(xe,{path:"/thumbnails",element:(0,kt.jsx)(aa,{})}),(0,kt.jsx)(xe,{path:"/audio-review",element:(0,kt.jsx)(pa,{})}),(0,kt.jsx)(xe,{path:"/capcut-edit",element:(0,kt.jsx)(Ea,{})}),(0,kt.jsx)(xe,{path:"/capcut-edit/draft",element:(0,kt.jsx)(La,{})}),(0,kt.jsx)(xe,{path:"/capcut-edit/swap",element:(0,kt.jsx)(Ua,{})}),(0,kt.jsx)(xe,{path:"/audio-tts-v2",element:(0,kt.jsx)(Na,{})}),(0,kt.jsx)(xe,{path:"/audio-integrity",element:(0,kt.jsx)(Ba,{})}),(0,kt.jsx)(xe,{path:"/tts-progress",element:(0,kt.jsx)(Da,{})}),(0,kt.jsx)(xe,{path:"/jobs",element:(0,kt.jsx)(Ca,{})}),(0,kt.jsx)(xe,{path:"/reports",element:(0,kt.jsx)(ha,{})})]}),(0,kt.jsx)(xe,{path:"*",element:(0,kt.jsx)(_e,{to:"/dashboard",replace:!0})})]})},qa=[{id:"dashboard",label:"\u30e2\u30c3\u30af1: \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9",description:"\u4e3b\u8981KPI\u3092\u4fef\u77b0\u3059\u308b\u30cf\u30d6\u753b\u9762",assetPath:"/mock/dashboard-main.html"},{id:"project-list",label:"\u30e2\u30c3\u30af2: \u4f01\u753b\u4e00\u89a7",description:"\u30c1\u30e3\u30f3\u30cd\u30eb\u5225\u306e\u4f01\u753b\u4e00\u89a7\u30d3\u30e5\u30fc",assetPath:"/mock/project-list.html"},{id:"case-overview",label:"\u30e2\u30c3\u30af3: \u6848\u4ef6\u6982\u8981\u30bf\u30d6",description:"\u6848\u4ef6\u30e1\u30bf\u60c5\u5831\u3068\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u8981\u7d04",assetPath:"/mock/case-overview.html"},{id:"script-audio-editor",label:"\u30e2\u30c3\u30af4: \u53f0\u672c\u30fb\u97f3\u58f0\u7de8\u96c6",description:"\u53f0\u672c\u30fb\u97f3\u58f0\u30fb\u5b57\u5e55\u306e\u7de8\u96c6\u30ef\u30fc\u30af\u30d5\u30ed\u30fc",assetPath:"/mock/script-audio-editor.html"},{id:"detail-metadata",label:"\u30e2\u30c3\u30af5: \u8a73\u7d30\u30e1\u30bf\u60c5\u5831",description:"\u751f\u6210\u5c65\u6b74\u30fb\u540c\u671f\u5c65\u6b74\u30fb\u30a8\u30e9\u30fc\u306e\u78ba\u8a8d\u753b\u9762",assetPath:"/mock/detail-metadata.html"}],Ha=()=>{var e,t,n;const[a,r]=(0,l.useState)(null!==(e=null===(t=qa[0])||void 0===t?void 0:t.id)&&void 0!==e?e:""),[s,i]=(0,l.useState)({html:"",status:"idle"}),[o,c]=(0,l.useState)(!1),u=(0,l.useMemo)(()=>{var e;return null!==(e=qa.find(e=>e.id===a))&&void 0!==e?e:qa[0]},[a]);(0,l.useEffect)(()=>((()=>{if("undefined"===typeof document)return;const e=(e,t)=>{if(document.getElementById(e))return;const n=document.createElement("link");n.id=e,n.rel="stylesheet",n.href=t,document.head.appendChild(n)};e("mock-font-spacegrotesk","https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&family=Noto+Sans+JP:wght@400;500;700&display=swap"),e("mock-font-material","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"),(()=>{if(document.getElementById("mock-tailwind-config"))return;const e=document.createElement("script");e.id="mock-tailwind-config",e.innerHTML='\n      tailwind.config = {\n        darkMode: "class",\n        theme: {\n          extend: {\n            colors: {\n              primary: "#135bec",\n              "background-light": "#f6f6f8",\n              "background-dark": "#101622",\n              "surface-light": "#ffffff",\n              "surface-dark": "#1a202c",\n            }\n          }\n        }\n      };\n    ',document.head.appendChild(e)})(),((e,t,n)=>{if(document.getElementById(e))return;n&&n();const a=document.createElement("script");a.id=e,a.src=t,a.async=!0,document.head.appendChild(a)})("mock-tailwind-cdn","https://cdn.tailwindcss.com?plugins=forms,container-queries")})(),document.documentElement.classList.add("dark"),()=>{document.documentElement.classList.add("dark")}),[]),(0,l.useEffect)(()=>{u&&(i({html:"",status:"loading"}),fetch(u.assetPath).then(e=>{if(!e.ok)throw new Error("".concat(e.status," ").concat(e.statusText));return e.text()}).then(e=>{i({html:e,status:"loaded"})}).catch(e=>{i({html:"",status:"error",errorMessage:e.message||"\u30e2\u30c3\u30af\u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})}))},[u]),(0,l.useEffect)(()=>{if(!o)return;const e=e=>{"Escape"===e.key&&c(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o]);return(0,kt.jsxs)("div",{className:"mock-gallery",children:[o?(0,kt.jsx)("button",{type:"button",className:"mock-gallery__backdrop",onClick:()=>c(!1)}):null,(0,kt.jsxs)("main",{className:"mock-gallery__main",children:["loading"===s.status?(0,kt.jsx)("div",{className:"mock-gallery__status",children:"\u30e2\u30c3\u30af\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u2026"}):null,"error"===s.status?(0,kt.jsxs)("div",{className:"mock-gallery__status mock-gallery__status--error",children:[u?"".concat(u.label," \u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"):"\u30e2\u30c3\u30af\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",(0,kt.jsx)("br",{}),(0,kt.jsx)("span",{className:"mock-gallery__status-detail",children:s.errorMessage})]}):null,"loaded"===s.status?(0,kt.jsx)("div",{className:"mock-gallery__preview",dangerouslySetInnerHTML:{__html:s.html}},null===u||void 0===u?void 0:u.id):null]}),(0,kt.jsxs)("div",{className:"mock-gallery__switcher",children:[(0,kt.jsxs)("button",{type:"button",className:"mock-gallery__toggle",onClick:()=>c(e=>!e),"aria-expanded":o,children:[(0,kt.jsx)("span",{className:"mock-gallery__toggle-label",children:null!==(n=null===u||void 0===u?void 0:u.label)&&void 0!==n?n:"\u30e2\u30c3\u30af\u5207\u66ff"}),(0,kt.jsx)("span",{className:"mock-gallery__toggle-icon","aria-hidden":!0,children:o?"\u25b2":"\u25bc"})]}),(0,kt.jsxs)("div",{className:o?"mock-gallery__palette mock-gallery__palette--open":"mock-gallery__palette",children:[(0,kt.jsxs)("header",{className:"mock-gallery__header",children:[(0,kt.jsx)("span",{className:"mock-gallery__badge",children:"\u30e2\u30c3\u30af\u8868\u793a"}),(0,kt.jsx)("h1",{className:"mock-gallery__title",children:"\u53f0\u672c\u30fb\u97f3\u58f0\u5236\u4f5c\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),(0,kt.jsx)("p",{className:"mock-gallery__subtitle",children:"React \u5185\u3067\u95b2\u89a7\u3067\u304d\u308b\u30e2\u30c3\u30af\u30d7\u30ec\u30d3\u30e5\u30fc"})]}),(0,kt.jsx)("nav",{className:"mock-gallery__nav","aria-label":"\u30e2\u30c3\u30af\u30da\u30fc\u30b8\u4e00\u89a7",children:qa.map(e=>{const t=e.id===a;return(0,kt.jsxs)("button",{type:"button",className:t?"mock-gallery__nav-item mock-gallery__nav-item--active":"mock-gallery__nav-item",onClick:()=>{return t=e.id,r(t),void c(!1);var t},children:[(0,kt.jsx)("span",{className:"mock-gallery__nav-label",children:e.label}),e.description?(0,kt.jsx)("span",{className:"mock-gallery__nav-description",children:e.description}):null]},e.id)})}),(0,kt.jsx)("footer",{className:"mock-gallery__footer",children:(0,kt.jsxs)("p",{children:["URL \u672b\u5c3e\u306b ",(0,kt.jsx)("code",{children:"?mock=1"})," \u3092\u4ed8\u3051\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u3053\u306e\u30e2\u30fc\u30c9\u3092\u8868\u793a\u3057\u307e\u3059\u3002"]})})]})]})]})},Va=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:l,getLCP:r,getTTFB:s}=t;n(e),a(e),l(e),r(e),s(e)})},$a=s.createRoot(document.getElementById("root")),Qa="1"===new URLSearchParams(window.location.search).get("mock");$a.render((0,kt.jsx)(l.StrictMode,{children:Qa?(0,kt.jsx)(Ha,{}):(0,kt.jsx)(Le,{basename:(()=>{const e=window.location.origin,t=window.location.pathname;return e.includes("github.io")&&t.startsWith("/youtube_production2")?"/youtube_production2":"/"})(),children:(0,kt.jsx)(Wa,{})})})),Va()})();
//# sourceMappingURL=main.281eca7e.js.map