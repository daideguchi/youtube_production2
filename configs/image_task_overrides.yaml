# Image task overrides for ImageClient (optional)
#
# Purpose:
# - Keep `configs/image_models.yaml` as the SSOT for providers/models/tiers/tasks.
# - Allow switching image models per *task/process* without editing SSOT defaults.
#
# How it works:
# - Select a profile by setting `IMAGE_CLIENT_PROFILE=<profile_name>` (default: "default").
# - Optionally set `IMAGE_CLIENT_TASK_OVERRIDES_PATH` to load a different overrides file.
#
# Precedence (highest -> lowest):
# 1) call-time: ImageTaskOptions.extra.model_key / allow_fallback
# 2) env: IMAGE_CLIENT_FORCE_MODEL_KEY_<TASK> / IMAGE_CLIENT_FORCE_MODEL_KEY
# 3) this file: profiles.<profile>.tasks.<task>.model_key / allow_fallback
# 4) SSOT: configs/image_models.yaml tasks -> tier -> candidates
#
# Notes:
# - model_key must match `configs/image_models.yaml: models.<model_key>`.
# - This file is safe to commit (no secrets).
#
profiles:
  # Default: no overrides (keeps current behavior)
  default:
    tasks: {}

  # Policy (暫定): サムネ=Gemini、動画用=安いモデル（ただし channel preset の env 強制が優先）
  #
  # Intended usage:
  # - export IMAGE_CLIENT_PROFILE=policy_default
  # - For video image generation, CH01/CH22/CH23 already force Gemini via channel presets
  #   (IMAGE_CLIENT_FORCE_MODEL_KEY_VISUAL_IMAGE_GEN), so they stay on Gemini.
  policy_default:
    tasks:
      # Video (SRT -> images)
      visual_image_gen:
        model_key: fireworks_flux_1_schnell_fp8
      # Legacy/general task name (if used)
      image_generation:
        model_key: fireworks_flux_1_schnell_fp8
      # Thumbnails
      thumbnail_image_gen:
        model_key: openrouter_gemini_2_5_flash_image

  # Cost-first example (OpenRouter cheapest, if OPENROUTER_API_KEY is configured)
  cheap_openrouter:
    tasks:
      visual_image_gen:
        model_key: openrouter_riverflow_v2_fast_preview
      thumbnail_image_gen:
        model_key: openrouter_riverflow_v2_fast_preview

  # Quality-first example (OpenRouter Gemini)
  openrouter_gemini:
    tasks:
      visual_image_gen:
        model_key: openrouter_gemini_2_5_flash_image_preview
      thumbnail_image_gen:
        model_key: openrouter_gemini_2_5_flash_image_preview
